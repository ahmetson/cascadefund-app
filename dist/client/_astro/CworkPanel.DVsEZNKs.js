import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{F as O}from"./FilterableList.B3QFM1hr.js";import{B as j}from"./Badge.CwoN8wRJ.js";import{r as f}from"./index.DxhH1ShK.js";import{a as J,N as m}from"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";import{c as z}from"./utils.Lr0IsqiS.js";import{B as k}from"./Panel.BDrWh8LJ.js";import{P as g}from"./PanelFooter.2n65IKfH.js";import{T as y}from"./timeago-react.CCkgRyVe.js";import{B as q}from"./Button.CuXyr_i0.js";import{C as N}from"./Tooltip.BWGh4r1w.js";import{g as x}from"./icon.DFuhwfpy.js";import{S as G}from"./index.Sjdb_iv4.js";import{F as d}from"./PanelStat.bUqZu1sD.js";import{C as w}from"./Link.k33VB9n9.js";import{A as K}from"./AuthStar.Dmg28nm4.js";import{P as Q}from"./PanelAction.DEFdBo1-.js";import{A as V}from"./AvatarList.777ZjNOH.js";import{P as W,a as X,b as Y,c as Z,d as _,e as ee}from"./PopoverArrow.DJ2sAUqU.js";import{P as te}from"./PopoverTitle.l6I09pDf.js";import{P as se}from"./PopoverDescription.BJLX2NXw.js";import"./SearchBar.dnlUkF7j.js";import"./List.CEj7BjBL.js";import"./clsx.B-dksMZM.js";import"./eventTypes.j192VUKf.js";import"./ripple.MQee5g1d.js";import"./slot.Dc8ja7ZA.js";import"./proxy.D4YeN7SK.js";import"./ElectricBorder.BANsXwQj.js";import"./index.C2SuE_cr.js";import"./index.CqUFkXl9.js";import"./index.CG_O7YBG.js";import"./createLucideIcon.C1tpinp8.js";const b=({title1:t,value1:s,type1:n="currency",title2:c,value2:a,type2:l="currency",belowThresholdColor:r=10,footer:o})=>e.jsxs(k,{className:"w-80 border-none shadow-none bg-white/25",children:[e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[t," / ",c]}),e.jsx("p",{className:"text-xl font-bold mb-2",children:e.jsx(J,{children:e.jsxs("div",{className:"flex items-center gap-4 font-semibold",children:[n==="time"&&e.jsx(y,{datetime:new Date(s*1e3),className:"text-slate-600 dark:text-slate-400"}),n==="number"&&e.jsx(m,{value:s,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2},className:"~text-xl/4xl text-slate-600 dark:text-slate-400"}),n==="currency"&&e.jsx(m,{value:s,locales:"en-US",format:{style:"currency",currency:"USD",maximumFractionDigits:2,signDisplay:"always"},className:"~text-xl/4xl text-slate-600 dark:text-slate-400"}),e.jsx("span",{className:"text-lg text-gray-500 -ml-2",children:" / "}),l==="time"&&e.jsx(y,{datetime:new Date(a*1e3)}),l==="number"&&e.jsx(m,{value:a,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2},className:"~text-xl/4xl text-gray-700"}),l==="currency"&&e.jsx(m,{value:a,locales:"en-US",format:{style:"currency",currency:"USD",maximumFractionDigits:2,signDisplay:"always"},className:z("text-md -ml-2","transition-colors duration-300 text-slate-600 dark:text-slate-400",a<=r?"text-rose-500 dark:text-rose-400":"text-slate-600 dark:text-slate-400")})]})})}),o&&e.jsx(g,{className:"text-gray-500 text-sm items-center flex justify-center",children:o})]}),ae=({following:t,followers:s,selfProfile:n=!1,onActionClick:c})=>{const[a,l]=f.useState(t),[r,o]=f.useState(!1),[p,h]=f.useState(s),u=async()=>{o(!0),setTimeout(()=>{l(!a),h(p+1),o(!1)},1e3)};return e.jsx(N,{content:e.jsx("div",{className:"text-sm",children:n?"How many people follows you? Also, do you follow yourself? I recommend.":a?"Unsubscribe":"Like & Subscribe"}),children:e.jsx(q,{variant:a?"danger":"secondary",disabled:r,onClick:u,className:`cursor flex items-center space-x-1 ${a&&"opacity-70"} h-8 text-slate-800 dark:text-slate-100`,children:e.jsxs("div",{className:"flex items-center space-x-1 w-full px-1",children:[r?e.jsx(G,{className:"w-5 h-5",variant:"ellipsis"},"ellipsis"):e.jsx(e.Fragment,{children:x({iconType:"heart",fill:a?"currentColor":"none",className:"text-slate-100 dark:text-slate-100 w-5 h-5 mt-0.5"})}),e.jsx("span",{children:p})]})})})},ie=({sunshines:t,stars:s})=>{const c=t||0,l=(s||0)*360,r=c>0?l/c*100:0,o=e.jsxs("div",{className:"text-sm",children:["How much shines turned into the stars: ",r.toFixed(1),"%"]});return e.jsxs("div",{className:"flex items-center space-x-2",children:[t!==void 0&&e.jsxs("div",{className:"flex items-center gap-1",children:[x({iconType:"sunshine",className:"w-4 h-4"}),e.jsx(m,{value:t,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0},className:"text-sm text-slate-800 dark:text-slate-300"})]}),s!==void 0&&e.jsxs("div",{className:"flex items-center gap-1",children:[x({iconType:"star",className:"w-4 h-4"}),e.jsx(m,{value:s,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2},className:"text-sm text-slate-800 dark:text-slate-300"})]}),t!==void 0&&s!==void 0&&e.jsx(N,{content:o,children:e.jsxs("div",{className:"flex items-center gap-1 text-purple-600 dark:text-purple-400",children:[x({iconType:"energy",className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[r.toFixed(1),"%"]})]})})]})},le=({title:t,isInfluencer:s,rating:n,forks:c,version:a,likes:l,isFollowing:r,followers:o,originalProject:p,originalProjectUrl:h,issue:u,description:P,license:F,balance:D,cascadeBalance:S,totalAmount:T,duration:I,lastActivity:C,totalCommits:L,commitsPerDay:A,openIssues:R,closedIssues:B,avgResponseTime:U,createdTime:v,author:$,stars:M,actions:E})=>{const H=M.map(i=>({children:i.nickname,icon:i.src,avatar:i.src,name:i.nickname,rating:i.stars?{ratingType:i.role==="Maintainer"?"maintainer":i.role==="Influencer"?"influencer":"contributor",lvl:Math.floor(i.stars*2),maxLvl:10,top:0}:void 0}));return e.jsx(w,{uri:uri||"#",children:e.jsx(k,{bg:"bg-white/50 dark:bg-slate-900/50",className:"mb-4 hover:bg-white dark:hover:bg-slate-900 hover:border-blue-500/20 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"absolute w-20 bottom-1 overflow-hidden",children:e.jsx(ae,{following:r,followers:o,onActionClick:()=>{}})}),e.jsxs("div",{className:"ml-22 flex-1 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h1",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 flex items-center space-x-1",children:[t,s&&e.jsx(j,{variant:"info",className:"mx-2 -mt-1.9",children:"Donator"}),a&&e.jsx(j,{variant:"info",className:"mx-2 -mt-1.9",children:a})]}),e.jsx("div",{className:"flex text-right flex-col",children:e.jsx(ie,{...n})})]}),e.jsx("div",{className:"text-md mb-4 text-slate-600 dark:text-slate-400",children:P}),e.jsxs("div",{className:"flex justify-end items-center space-x-1 text-slate-600 dark:text-slate-400 gap-1 text-xs",children:["By ",e.jsx(K,{src:$?.src,className:"w-7! h-7!"}),v&&e.jsx(y,{datetime:v})]}),e.jsxs(g,{className:"flex flex-row justify-between items-center space-x-4 mt-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Q,{className:"",actions:E})}),e.jsxs(d,{iconType:"project",hint:"License of this project.",fill:!0,children:[F," Llicense"]}),e.jsxs(d,{iconType:"fork",hint:"How many forks this project has.",fill:!0,children:[c," Forks"]}),e.jsxs(d,{iconType:"heart",hint:"How many people has interest in this project",fill:!0,children:[l," Likes"]}),e.jsxs(W,{children:[e.jsx(X,{onClick:i=>{i.stopPropagation(),i.preventDefault()},className:"hyperlink flex items-center justify-center shadow-none",children:e.jsx(d,{iconType:"info",hint:"Additional stats",fill:!0,children:"More"})}),e.jsx(Y,{children:e.jsx(Z,{sideOffset:8,side:"bottom",className:"z-700!",children:e.jsxs(_,{className:"w-96 origin-[var(--transform-origin)] rounded-xs bg-[canvas] px-6 py-4 text-gray-900 shadow-sm shadow-gray-900 transition-[transform,scale,opacity] data-[ending-style]:scale-90 data-[ending-style]:opacity-0 data-[starting-style]:scale-90 data-[starting-style]:opacity-0",children:[e.jsx(ee,{className:"data-[side=bottom]:top-[-8px] data-[side=left]:right-[-13px] data-[side=left]:rotate-90 data-[side=right]:left-[-13px] data-[side=right]:-rotate-90 data-[side=top]:bottom-[-8px] data-[side=top]:rotate-180",children:x("arrow")}),e.jsx(te,{className:"text-gray-500 font-medium text-md flex items-center flex-row p-1 mb-4",children:"Additional statistics"}),e.jsxs(se,{className:"text-gray-600",children:[e.jsxs("div",{className:"text-gray-600 text-sm mb-2 flex flex-row justify-start items-center gap-2",children:[e.jsxs(d,{iconType:"fork",hint:`Fork of ${p}`,fill:!0,children:["Fork of ",e.jsx(w,{uri:h,asNewTab:!0,children:p})]}),e.jsxs(d,{iconType:"issue",hint:"Original project issue that this project addresses.",fill:!0,children:[u," Issue"]})]}),e.jsx(b,{title1:"Balance",value1:D,title2:"Cascade Balance",value2:S,belowThresholdColor:10,footer:`${T} / ${I}`}),e.jsx(b,{title1:"Online",value1:C,type1:"time",title2:"Commits",value2:L,type2:"number",footer:`${A} commits / day`}),e.jsx(b,{title1:"Issues",value1:R,type1:"number",title2:"Closed Issues",value2:B,type2:"number",footer:`avg. ${U}`}),e.jsx(g,{children:e.jsx(d,{iconType:"info",hint:"Project influencers",fill:!0,children:e.jsx(V,{contributors:H})})})]})]})})})]})]})]})]})})})},re=[{id:"all",label:"All",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]},{id:"explore",label:"Explore",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]},{id:"my-projects",label:"My Projects",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]},{id:"following",label:"Following",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]},{id:"recommended",label:"Recommended",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]},{id:"by-issue",label:"By Issue...",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]},{id:"by-user",label:"By User...",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]},{id:"fork-of",label:"Fork of...",sortIds:[{id:"rating",label:"Rating"},{id:"date",label:"Date"},{id:"popularity",label:"Popularity"},{id:"forks",label:"Forks"},{id:"likes",label:"Likes"}]}],oe=({projects:t})=>{const s=e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"mt-1",children:"Dependencies"}),e.jsx(j,{variant:"gray",static:!0,children:t.length})]});return e.jsx(k,{children:e.jsx(O,{items:t,itemComponent:le,filters:re,title:s,searchPlaceholder:"Search projects...",searchableFields:["title","description","issue","originalProject"],showNumber:!1,children:e.jsxs("div",{className:"flex items-center gap-2",children:[x("info"),e.jsx("span",{className:"",children:"Third party packages you used in your project. Imported using SBOM. Contact and send request to them."})]})})})},Oe=()=>{const t=[{uri:"/project",title:"React Dashboard",isInfluencer:!0,rating:{sunshines:2880,stars:8},forks:124,likes:89,isFollowing:!0,followers:45,originalProject:"facebook/react",originalProjectUrl:"https://github.com/facebook/react",issue:"#1234 - Dashboard Enhancement",description:"A modern React dashboard with TypeScript, Tailwind CSS, and real-time data visualization capabilities.",license:"MIT License",version:"v1.2.0",balance:2450,cascadeBalance:1200,totalAmount:3650,duration:"6 months",lastActivity:Date.now()-1728e5,totalCommits:1234,commitsPerDay:"12.5",openIssues:8,closedIssues:156,avgResponseTime:"2.3 hours",createdTime:Date.now()-63072e6,author:{uri:"/profile/john-doe",children:"John Doe",icon:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",rating:{ratingType:"maintainer",lvl:9,maxLvl:10,top:5}},stars:[{x:100,y:100,uri:"/profile/jane-smith",nickname:"Jane Smith",src:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=32&h=32&fit=crop&crop=face",stars:3.5,role:"Influencer"},{x:150,y:150,uri:"/profile/mike-johnson",nickname:"Mike Johnson",src:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face",stars:3,role:"Contributor"}],actions:[]}];return e.jsx(oe,{projects:t})};export{Oe as default};
