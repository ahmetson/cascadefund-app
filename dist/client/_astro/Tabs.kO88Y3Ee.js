import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as e}from"./index.DxhH1ShK.js";import{c as M}from"./utils.BnlJtBIq.js";import{A as Q}from"./index.CG_O7YBG.js";import{m as T}from"./proxy.D4YeN7SK.js";import{g as te,S as Z}from"./slot.RkfkL2mj.js";const _=e.createContext(void 0);function ne(){const r=e.useContext(_);if(!r)throw new Error("useHighlight must be used within a HighlightProvider");return r}function se({ref:r,...n}){const{as:l="div",children:c,value:f,defaultValue:a,onValueChange:i,className:h,style:m,transition:u={type:"spring",stiffness:350,damping:35},hover:C=!1,click:k=!0,enabled:t=!0,controlledItems:g,disabled:w=!1,exitDelay:p=200,mode:j="children"}=n,v=e.useRef(null);e.useImperativeHandle(r,()=>v.current);const[N,R]=e.useState(f??a??null),[b,O]=e.useState(null),[z,P]=e.useState(""),q=e.useCallback(o=>{R(x=>x===o?x:o),o!==N&&i?.(o)},[N,i]),D=e.useCallback(o=>{if(!v.current)return;const x=n?.boundsOffset??{top:0,left:0,width:0,height:0},I=v.current.getBoundingClientRect(),d={top:o.top-I.top+(x.top??0),left:o.left-I.left+(x.left??0),width:o.width+(x.width??0),height:o.height+(x.height??0)};O(y=>y&&y.top===d.top&&y.left===d.left&&y.width===d.width&&y.height===d.height?y:d)},[n]),U=e.useCallback(()=>{O(o=>o===null?o:null)},[]);e.useEffect(()=>{f!==void 0?R(f):a!==void 0&&R(a)},[f,a]);const W=e.useId();e.useEffect(()=>{if(j!=="parent")return;const o=v.current;if(!o)return;const x=()=>{if(!N)return;const I=o.querySelector(`[data-value="${N}"][data-highlight="true"]`);I&&D(I.getBoundingClientRect())};return o.addEventListener("scroll",x,{passive:!0}),()=>o.removeEventListener("scroll",x)},[j,N,D]);const L=e.useCallback(o=>j==="parent"?s.jsxs(l,{ref:v,"data-slot":"motion-highlight-container",style:{position:"relative",zIndex:1},className:n?.containerClassName,children:[s.jsx(Q,{initial:!1,mode:"wait",children:b&&s.jsx(T.div,{"data-slot":"motion-highlight",animate:{top:b.top,left:b.left,width:b.width,height:b.height,opacity:1},initial:{top:b.top,left:b.left,width:b.width,height:b.height,opacity:0},exit:{opacity:0,transition:{...u,delay:(u?.delay??0)+(p??0)/1e3}},transition:u,style:{position:"absolute",zIndex:0,...m},className:M(h,z)})}),o]}):o,[j,l,n,b,u,p,m,h,z]);return s.jsx(_.Provider,{value:{mode:j,activeValue:N,setActiveValue:q,id:W,hover:C,click:k,className:h,style:m,transition:u,disabled:w,enabled:t,exitDelay:p,setBounds:D,clearBounds:U,activeClassName:z,setActiveClassName:P,forceUpdateBounds:n?.forceUpdateBounds},children:t?L(g?c:e.Children.map(c,(o,x)=>s.jsx(ee,{className:n?.itemsClassName,children:o},x))):c})}function K(r,n){return Object.keys(n).reduce((l,c)=>(r.props[c]===void 0&&(l[c]=n[c]),l),{})}function ee({ref:r,as:n,children:l,id:c,value:f,className:a,style:i,transition:h,disabled:m=!1,activeClassName:u,exitDelay:C,asChild:k=!1,forceUpdateBounds:t,...g}){const w=e.useId(),{activeValue:p,setActiveValue:j,mode:v,setBounds:N,clearBounds:R,hover:b,click:O,enabled:z,className:P,style:q,transition:D,id:U,disabled:W,exitDelay:L,forceUpdateBounds:o,setActiveClassName:x}=ne(),I=n??"div",d=l,y=c??f??d.props?.["data-value"]??d.props?.id??w,B=p===y,Y=m===void 0?W:m,V=h??D,A=e.useRef(null);if(e.useImperativeHandle(r,()=>A.current),e.useEffect(()=>{if(v!=="parent")return;let E,H=null;const X=t===!0||o&&t!==!1,J=()=>{if(!A.current)return;const F=A.current.getBoundingClientRect();if(X){if(H&&H.top===F.top&&H.left===F.left&&H.width===F.width&&H.height===F.height){E=requestAnimationFrame(J);return}H=F,E=requestAnimationFrame(J)}N(F)};if(B?(J(),x(u??"")):p||R(),X)return()=>cancelAnimationFrame(E)},[v,B,p,N,R,u,x,t,o]),!e.isValidElement(l))return l;const S={"data-active":B?"true":"false","aria-selected":B,"data-disabled":Y,"data-value":y,"data-highlight":!0},G=b?{onMouseEnter:E=>{j(y),d.props.onMouseEnter?.(E)},onMouseLeave:E=>{j(null),d.props.onMouseLeave?.(E)}}:O?{onClick:E=>{j(y),d.props.onClick?.(E)}}:{};return k?v==="children"?e.cloneElement(d,{key:y,ref:A,className:M("relative",d.props.className),...K(d,{...S,"data-slot":"motion-highlight-item-container"}),...G,...g},s.jsxs(s.Fragment,{children:[s.jsx(Q,{initial:!1,mode:"wait",children:B&&!Y&&s.jsx(T.div,{layoutId:`transition-background-${U}`,"data-slot":"motion-highlight",style:{position:"absolute",zIndex:0,...q,...i},className:M(P,u),transition:V,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...V,delay:(V?.delay??0)+(C??L??0)/1e3}},...S})}),s.jsx(I,{"data-slot":"motion-highlight-item",style:{position:"relative",zIndex:1},className:a,...S,children:l})]})):e.cloneElement(d,{ref:A,...K(d,{...S,"data-slot":"motion-highlight-item"}),...G}):z?s.jsxs(I,{ref:A,"data-slot":"motion-highlight-item-container",className:M(v==="children"&&"relative",a),...S,...g,...G,children:[v==="children"&&s.jsx(Q,{initial:!1,mode:"wait",children:B&&!Y&&s.jsx(T.div,{layoutId:`transition-background-${U}`,"data-slot":"motion-highlight",style:{position:"absolute",zIndex:0,...q,...i},className:M(P,u),transition:V,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{...V,delay:(V?.delay??0)+(C??L??0)/1e3}},...S})}),e.cloneElement(d,{style:{position:"relative",zIndex:1},className:d.props.className,...K(d,{...S,"data-slot":"motion-highlight-item"})})]},y):l}const[ie,$]=te("TabsContext");function ae({defaultValue:r,value:n,onValueChange:l,children:c,...f}){const[a,i]=e.useState(r),h=e.useRef(new Map),m=e.useRef(!1),u=n!==void 0;e.useEffect(()=>{if(!u&&a===void 0&&h.current.size>0&&!m.current){const t=h.current.keys().next().value;t!==void 0&&(i(t),m.current=!0)}},[a,u]);const C=e.useCallback((t,g)=>{g?(h.current.set(t,g),!u&&a===void 0&&!m.current&&(i(t),m.current=!0)):h.current.delete(t)},[a,u]),k=e.useCallback(t=>{u?l?.(t):i(t)},[u,l]);return s.jsx(ie,{value:{activeValue:n??a,handleValueChange:k,registerTrigger:C},children:s.jsx("div",{"data-slot":"tabs",...f,children:c})})}function oe({transition:r={type:"spring",stiffness:200,damping:25},...n}){const{activeValue:l}=$();return s.jsx(se,{"data-slot":"tabs-highlight",controlledItems:!0,value:l,transition:r,click:!1,...n})}function re(r){return s.jsx("div",{role:"tablist","data-slot":"tabs-list",...r})}function le(r){return s.jsx(ee,{"data-slot":"tabs-highlight-item",...r})}function ce({ref:r,value:n,asChild:l=!1,...c}){const{activeValue:f,handleValueChange:a,registerTrigger:i}=$(),h=e.useRef(null);e.useImperativeHandle(r,()=>h.current),e.useEffect(()=>(i(n,h.current),()=>i(n,null)),[n,i]);const m=l?Z:T.button;return s.jsx(m,{ref:h,"data-slot":"tabs-trigger",role:"tab",onClick:()=>a(n),"data-state":f===n?"active":"inactive",...c})}function ue({children:r,transition:n={type:"spring",stiffness:300,damping:30,bounce:0,restDelta:.01},...l}){const{activeValue:c}=$(),f=e.Children.toArray(r),a=f.findIndex(t=>e.isValidElement(t)&&typeof t.props=="object"&&t.props!==null&&"value"in t.props&&t.props.value===c),i=e.useRef(null),h=e.useRef([]),[m,u]=e.useState(0),C=e.useRef(null),k=e.useCallback(()=>{const t=h.current[a],g=i.current;if(!t||!g)return 0;const w=t.getBoundingClientRect().height||0,p=getComputedStyle(g),j=p.boxSizing==="border-box",v=(parseFloat(p.paddingTop||"0")||0)+(parseFloat(p.paddingBottom||"0")||0),N=(parseFloat(p.borderTopWidth||"0")||0)+(parseFloat(p.borderBottomWidth||"0")||0);let R=w+(j?v+N:0);const b=typeof window<"u"&&window.devicePixelRatio||1;return R=Math.ceil(R*b)/b,R},[a]);return e.useEffect(()=>{C.current&&(C.current.disconnect(),C.current=null);const t=h.current[a],g=i.current;if(!t||!g)return;u(k());const w=new ResizeObserver(()=>{const p=k();requestAnimationFrame(()=>u(p))});return w.observe(t),w.observe(g),C.current=w,()=>{w.disconnect(),C.current=null}},[a,f.length,k]),e.useLayoutEffect(()=>{if(m===0&&a>=0){const t=k();t!==0&&u(t)}},[a,m,k]),s.jsx(T.div,{ref:i,"data-slot":"tabs-contents",style:{overflow:"hidden"},animate:{height:m},transition:n,...l,children:s.jsx(T.div,{className:"flex -mx-2",animate:{x:a*-100+"%"},transition:n,children:f.map((t,g)=>s.jsx("div",{ref:w=>{h.current[g]=w},className:"w-full shrink-0 px-2 h-full",children:t},g))})})}function de({value:r,style:n,asChild:l=!1,...c}){const{activeValue:f}=$(),a=f===r,i=l?Z:T.div;return s.jsx(i,{role:"tabpanel","data-slot":"tabs-content",inert:!a,style:{overflow:"hidden",...n},initial:{filter:"blur(0px)"},animate:{filter:a?"blur(0px)":"blur(4px)"},exit:{filter:"blur(0px)"},transition:{type:"spring",stiffness:200,damping:25},...c})}const xe=({activeTab:r,tabs:n,onTabChange:l})=>{const[c,f]=e.useState(r),a="flex-1 rounded-md hover:bg-accent/50 rounded-b-none hover:border-b-2 hover:border-blue-500 hover:shadow-md backdrop-blur-sm";return e.useEffect(()=>{l?.(c)},[c]),s.jsxs(ae,{onValueChange:f,value:c,className:"relative mb-6 bg-blue-100 dark:bg-transparent text-slate-600 dark:text-slate-400 py-1 backdrop-blur-sm",children:[s.jsx(oe,{className:"",children:s.jsx(re,{className:"h-10 inline-flex p-0 w-full backdrop-blur-sm bg-white/50 dark:bg-slate-900/50",children:n.map(i=>s.jsx(le,{value:i.key,className:a+(c===i.key?" bg-white dark:bg-slate-700 shadow-none shadow-b-none":"bg-blue-200/50 dark:bg-slate-800/50 border-b-2 border-blue-200/50 dark:border-slate-700/50"),children:s.jsx(ce,{value:i.key,className:"hyperlink h-full leading-0 w-full text-sm text-blue-500 dark:text-blue-300 cursor-pointer "+(i.className||""),children:i.label})},i.key))})}),s.jsx(ue,{className:"bg-gray-50 dark:bg-slate-800/70 p-0 h-80 m-0 rounded-b-xl",children:n.map(i=>s.jsx(de,{value:i.key,className:"space-y-4",children:i.content}))})]})};export{xe as C};
