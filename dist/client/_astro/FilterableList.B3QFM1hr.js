import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as c}from"./index.DxhH1ShK.js";import{c as b}from"./utils.Lr0IsqiS.js";import{B as L}from"./Button.CuXyr_i0.js";import{S as E}from"./SearchBar.dnlUkF7j.js";import{L as A}from"./List.CEj7BjBL.js";import{B as y}from"./Badge.CwoN8wRJ.js";import{N}from"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";const G=({className:i,onValueChange:l,filters:o,defaultFilterId:h})=>{const u=h||o[0]?.id,[s,g]=c.useState(u),r=o.find(e=>e.id===s)?.sortIds||[],[m,x]=c.useState(r[0]?.id||"");c.useEffect(()=>{if(r.length>0){const e=r[0].id;x(e),l(s,e)}},[s,r,l]);const f=e=>{e&&g(e)},p=e=>{const d=e.target.value;x(d),l(s,d)};return c.useEffect(()=>{s&&m&&l(s,m)},[]),t.jsxs("div",{className:b("flex items-center justify-between mb-6",i),children:[t.jsx("div",{className:"flex items-center space-x-2",children:o.map(e=>{const d=s===e.id;return t.jsx(L,{variant:"secondary",size:"sm",disabled:d,onClick:()=>f(e.id),className:b("rounded-xs",e.className),children:e.label},e.id)})}),r.length>0&&t.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sort"}),t.jsx("select",{value:m,onChange:p,className:"border border-gray-300 hover:border-teal-500! hover:bg-teal-100/10! dark:hover:bg-teal-900/10! dark:border-teal-700! cursor-pointer rounded-xs px-3 py-2 text-sm bg-white dark:bg-gray-700 dark:text-gray-400",children:r.map(e=>t.jsx("option",{value:e.id,children:e.label},e.id))})]})]})},D=({items:i,itemComponent:l,filters:o,onFilterChange:h,title:u,titleCenter:s=!1,searchPlaceholder:g="Search...",hideSearchbar:v=!1,searchableFields:r,className:m,children:x,showNumber:f=!0,contentHeight:p})=>{const[e,d]=c.useState(""),[,F]=c.useState(),[,C]=c.useState(),I=()=>{if(r)return r;if(i.length>0){const a=i[0];return Object.keys(a).filter(n=>typeof a[n]=="string")}return[]},j=c.useMemo(()=>{if(!e.trim())return i;const a=I(),n=e.toLowerCase();return i.filter(w=>a.some(B=>{const S=w[B];return typeof S=="string"&&S.toLowerCase().includes(n)}))},[i,e,r]),k=(a,n)=>{F(a),C(n),h?.(a,n)};return t.jsxs("div",{className:`text-slate-600 dark:text-slate-400 ${m}`,children:[u?t.jsxs("div",{className:`flex items-center gap-1 mb-2 ${s?"justify-center":""}`,children:[u,f&&t.jsx(y,{variant:"info",children:t.jsx(N,{value:j.length,locales:"en-US",format:{useGrouping:!1}})})]}):f?t.jsx("h3",{className:"text-md font-medium mb-2",children:t.jsxs("div",{className:"inline-flex items-center gap-1",children:["Items ",t.jsx(y,{variant:"info",children:t.jsx(N,{value:j.length,locales:"en-US",format:{useGrouping:!1}})})]})}):null,o&&o.length>0&&t.jsx(G,{filters:o,className:"mb-6 text-sm",onValueChange:k}),!v&&t.jsx(E,{className:"mb-4",value:e,onChange:d,placeholder:g}),t.jsx(A,{className:"space-y-4",contentHeight:p,children:j.map((a,n)=>t.jsx(l,{...a},n))}),x]})};export{D as F};
