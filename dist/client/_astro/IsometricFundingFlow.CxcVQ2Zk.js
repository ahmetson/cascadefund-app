import{j as z}from"./jsx-runtime.D_zvdyIk.js";import{R as ur,r as A,g as Hm}from"./index.DxhH1ShK.js";import{s as Pt,e as Ud,f as qa,T as ga,g as ma,t as Vm}from"./transform.zuSbIZii.js";import{i as ya}from"./value.BCGFb8uh.js";import{u as Wd}from"./with-selector.BETz3aR_.js";import"./index.C2SuE_cr.js";import{q as Um,z as Wm,O as Zm,P as qm,f as Ym,G as va,H as Xm,J as Qm,K as Gm,Q as Km,k as Jm,S as Zd,X as e0,Y as t0,Z as Ff,C as n0,_ as o0,U as r0,t as zs,V as i0,s as s0,$ as l0}from"./three.module.C-A9CoMV.js";import{r as a0}from"./index.Bb8JjhAW.js";import{m as ci}from"./proxy.D4YeN7SK.js";import"./index.CqUFkXl9.js";function u0(n){let r;for(;r=n.sourceEvent;)n=r;return n}function Yt(n,r){if(n=u0(n),r===void 0&&(r=n.currentTarget),r){var s=r.ownerSVGElement||r;if(s.createSVGPoint){var u=s.createSVGPoint();return u.x=n.clientX,u.y=n.clientY,u=u.matrixTransform(r.getScreenCTM().inverse()),[u.x,u.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[n.clientX-a.left-r.clientLeft,n.clientY-a.top-r.clientTop]}}return[n.pageX,n.pageY]}const c0={passive:!1},oi={capture:!0,passive:!1};function ba(n){n.stopImmediatePropagation()}function ar(n){n.preventDefault(),n.stopImmediatePropagation()}function qd(n){var r=n.document.documentElement,s=Pt(n).on("dragstart.drag",ar,oi);"onselectstart"in r?s.on("selectstart.drag",ar,oi):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Yd(n,r){var s=n.document.documentElement,u=Pt(n).on("dragstart.drag",null);r&&(u.on("click.drag",ar,oi),setTimeout(function(){u.on("click.drag",null)},0)),"onselectstart"in s?u.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const bs=n=>()=>n;function Aa(n,{sourceEvent:r,subject:s,target:u,identifier:a,active:f,x:d,y:p,dx:g,dy:y,dispatch:v}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:f,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:y,enumerable:!0,configurable:!0},_:{value:v}})}Aa.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function f0(n){return!n.ctrlKey&&!n.button}function d0(){return this.parentNode}function p0(n,r){return r??{x:n.x,y:n.y}}function h0(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xd(){var n=f0,r=d0,s=p0,u=h0,a={},f=Ud("start","drag","end"),d=0,p,g,y,v,h=0;function m(k){k.on("mousedown.drag",S).filter(u).on("touchstart.drag",N).on("touchmove.drag",E,c0).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(k,_){if(!(v||!n.call(this,k,_))){var P=x(this,r.call(this,k,_),k,_,"mouse");P&&(Pt(k.view).on("mousemove.drag",w,oi).on("mouseup.drag",j,oi),qd(k.view),ba(k),y=!1,p=k.clientX,g=k.clientY,P("start",k))}}function w(k){if(ar(k),!y){var _=k.clientX-p,P=k.clientY-g;y=_*_+P*P>h}a.mouse("drag",k)}function j(k){Pt(k.view).on("mousemove.drag mouseup.drag",null),Yd(k.view,y),ar(k),a.mouse("end",k)}function N(k,_){if(n.call(this,k,_)){var P=k.changedTouches,T=r.call(this,k,_),O=P.length,F,X;for(F=0;F<O;++F)(X=x(this,T,k,_,P[F].identifier,P[F]))&&(ba(k),X("start",k,P[F]))}}function E(k){var _=k.changedTouches,P=_.length,T,O;for(T=0;T<P;++T)(O=a[_[T].identifier])&&(ar(k),O("drag",k,_[T]))}function C(k){var _=k.changedTouches,P=_.length,T,O;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),T=0;T<P;++T)(O=a[_[T].identifier])&&(ba(k),O("end",k,_[T]))}function x(k,_,P,T,O,F){var X=f.copy(),L=Yt(F||P,_),q,W,M;if((M=s.call(k,new Aa("beforestart",{sourceEvent:P,target:m,identifier:O,active:d,x:L[0],y:L[1],dx:0,dy:0,dispatch:X}),T))!=null)return q=M.x-L[0]||0,W=M.y-L[1]||0,function $(D,V,B){var H=L,K;switch(D){case"start":a[O]=$,K=d++;break;case"end":delete a[O],--d;case"drag":L=Yt(B||V,_),K=d;break}X.call(D,k,new Aa(D,{sourceEvent:V,subject:M,target:m,identifier:O,active:K,x:L[0]+q,y:L[1]+W,dx:L[0]-H[0],dy:L[1]-H[1],dispatch:X}),T)}}return m.filter=function(k){return arguments.length?(n=typeof k=="function"?k:bs(!!k),m):n},m.container=function(k){return arguments.length?(r=typeof k=="function"?k:bs(k),m):r},m.subject=function(k){return arguments.length?(s=typeof k=="function"?k:bs(k),m):s},m.touchable=function(k){return arguments.length?(u=typeof k=="function"?k:bs(!!k),m):u},m.on=function(){var k=f.on.apply(f,arguments);return k===f?m:k},m.clickDistance=function(k){return arguments.length?(h=(k=+k)*k,m):Math.sqrt(h)},m}var g0=1e-12;function Lf(n){return((n=Math.exp(n))+1/n)/2}function m0(n){return((n=Math.exp(n))-1/n)/2}function y0(n){return((n=Math.exp(2*n))-1)/(n+1)}const Ms=(function n(r,s,u){function a(f,d){var p=f[0],g=f[1],y=f[2],v=d[0],h=d[1],m=d[2],S=v-p,w=h-g,j=S*S+w*w,N,E;if(j<g0)E=Math.log(m/y)/r,N=function(T){return[p+T*S,g+T*w,y*Math.exp(r*T*E)]};else{var C=Math.sqrt(j),x=(m*m-y*y+u*j)/(2*y*s*C),k=(m*m-y*y-u*j)/(2*m*s*C),_=Math.log(Math.sqrt(x*x+1)-x),P=Math.log(Math.sqrt(k*k+1)-k);E=(P-_)/r,N=function(T){var O=T*E,F=Lf(_),X=y/(s*C)*(F*y0(r*O+_)-m0(_));return[p+X*S,g+X*w,y*F/Lf(r*O+_)]}}return N.duration=E*1e3*r/Math.SQRT2,N}return a.rho=function(f){var d=Math.max(.001,+f),p=d*d,g=p*p;return n(d,p,g)},a})(Math.SQRT2,2,4),xs=n=>()=>n;function v0(n,{sourceEvent:r,target:s,transform:u,dispatch:a}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:u,enumerable:!0,configurable:!0},_:{value:a}})}function xa(n){n.stopImmediatePropagation()}function ei(n){n.preventDefault(),n.stopImmediatePropagation()}function b0(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function x0(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function Of(){return this.__zoom||qa}function w0(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function S0(){return navigator.maxTouchPoints||"ontouchstart"in this}function E0(n,r,s){var u=n.invertX(r[0][0])-s[0][0],a=n.invertX(r[1][0])-s[1][0],f=n.invertY(r[0][1])-s[0][1],d=n.invertY(r[1][1])-s[1][1];return n.translate(a>u?(u+a)/2:Math.min(0,u)||Math.max(0,a),d>f?(f+d)/2:Math.min(0,f)||Math.max(0,d))}function Qd(){var n=b0,r=x0,s=E0,u=w0,a=S0,f=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],p=250,g=Ms,y=Ud("start","zoom","end"),v,h,m,S=500,w=150,j=0,N=10;function E(M){M.property("__zoom",Of).on("wheel.zoom",O,{passive:!1}).on("mousedown.zoom",F).on("dblclick.zoom",X).filter(a).on("touchstart.zoom",L).on("touchmove.zoom",q).on("touchend.zoom touchcancel.zoom",W).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(M,$,D,V){var B=M.selection?M.selection():M;B.property("__zoom",Of),M!==B?_(M,$,D,V):B.interrupt().each(function(){P(this,arguments).event(V).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},E.scaleBy=function(M,$,D,V){E.scaleTo(M,function(){var B=this.__zoom.k,H=typeof $=="function"?$.apply(this,arguments):$;return B*H},D,V)},E.scaleTo=function(M,$,D,V){E.transform(M,function(){var B=r.apply(this,arguments),H=this.__zoom,K=D==null?k(B):typeof D=="function"?D.apply(this,arguments):D,G=H.invert(K),Q=typeof $=="function"?$.apply(this,arguments):$;return s(x(C(H,Q),K,G),B,d)},D,V)},E.translateBy=function(M,$,D,V){E.transform(M,function(){return s(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof D=="function"?D.apply(this,arguments):D),r.apply(this,arguments),d)},null,V)},E.translateTo=function(M,$,D,V,B){E.transform(M,function(){var H=r.apply(this,arguments),K=this.__zoom,G=V==null?k(H):typeof V=="function"?V.apply(this,arguments):V;return s(qa.translate(G[0],G[1]).scale(K.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof D=="function"?-D.apply(this,arguments):-D),H,d)},V,B)};function C(M,$){return $=Math.max(f[0],Math.min(f[1],$)),$===M.k?M:new ga($,M.x,M.y)}function x(M,$,D){var V=$[0]-D[0]*M.k,B=$[1]-D[1]*M.k;return V===M.x&&B===M.y?M:new ga(M.k,V,B)}function k(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function _(M,$,D,V){M.on("start.zoom",function(){P(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(V).end()}).tween("zoom",function(){var B=this,H=arguments,K=P(B,H).event(V),G=r.apply(B,H),Q=D==null?k(G):typeof D=="function"?D.apply(B,H):D,re=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),ee=B.__zoom,ae=typeof $=="function"?$.apply(B,H):$,de=g(ee.invert(Q).concat(re/ee.k),ae.invert(Q).concat(re/ae.k));return function(ce){if(ce===1)ce=ae;else{var oe=de(ce),le=re/oe[2];ce=new ga(le,Q[0]-oe[0]*le,Q[1]-oe[1]*le)}K.zoom(null,ce)}})}function P(M,$,D){return!D&&M.__zooming||new T(M,$)}function T(M,$){this.that=M,this.args=$,this.active=0,this.sourceEvent=null,this.extent=r.apply(M,$),this.taps=0}T.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,$){return this.mouse&&M!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var $=Pt(this.that).datum();y.call(M,this.that,new v0(M,{sourceEvent:this.sourceEvent,target:E,transform:this.that.__zoom,dispatch:y}),$)}};function O(M,...$){if(!n.apply(this,arguments))return;var D=P(this,$).event(M),V=this.__zoom,B=Math.max(f[0],Math.min(f[1],V.k*Math.pow(2,u.apply(this,arguments)))),H=Yt(M);if(D.wheel)(D.mouse[0][0]!==H[0]||D.mouse[0][1]!==H[1])&&(D.mouse[1]=V.invert(D.mouse[0]=H)),clearTimeout(D.wheel);else{if(V.k===B)return;D.mouse=[H,V.invert(H)],ma(this),D.start()}ei(M),D.wheel=setTimeout(K,w),D.zoom("mouse",s(x(C(V,B),D.mouse[0],D.mouse[1]),D.extent,d));function K(){D.wheel=null,D.end()}}function F(M,...$){if(m||!n.apply(this,arguments))return;var D=M.currentTarget,V=P(this,$,!0).event(M),B=Pt(M.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",re,!0),H=Yt(M,D),K=M.clientX,G=M.clientY;qd(M.view),xa(M),V.mouse=[H,this.__zoom.invert(H)],ma(this),V.start();function Q(ee){if(ei(ee),!V.moved){var ae=ee.clientX-K,de=ee.clientY-G;V.moved=ae*ae+de*de>j}V.event(ee).zoom("mouse",s(x(V.that.__zoom,V.mouse[0]=Yt(ee,D),V.mouse[1]),V.extent,d))}function re(ee){B.on("mousemove.zoom mouseup.zoom",null),Yd(ee.view,V.moved),ei(ee),V.event(ee).end()}}function X(M,...$){if(n.apply(this,arguments)){var D=this.__zoom,V=Yt(M.changedTouches?M.changedTouches[0]:M,this),B=D.invert(V),H=D.k*(M.shiftKey?.5:2),K=s(x(C(D,H),V,B),r.apply(this,$),d);ei(M),p>0?Pt(this).transition().duration(p).call(_,K,V,M):Pt(this).call(E.transform,K,V,M)}}function L(M,...$){if(n.apply(this,arguments)){var D=M.touches,V=D.length,B=P(this,$,M.changedTouches.length===V).event(M),H,K,G,Q;for(xa(M),K=0;K<V;++K)G=D[K],Q=Yt(G,this),Q=[Q,this.__zoom.invert(Q),G.identifier],B.touch0?!B.touch1&&B.touch0[2]!==Q[2]&&(B.touch1=Q,B.taps=0):(B.touch0=Q,H=!0,B.taps=1+!!v);v&&(v=clearTimeout(v)),H&&(B.taps<2&&(h=Q[0],v=setTimeout(function(){v=null},S)),ma(this),B.start())}}function q(M,...$){if(this.__zooming){var D=P(this,$).event(M),V=M.changedTouches,B=V.length,H,K,G,Q;for(ei(M),H=0;H<B;++H)K=V[H],G=Yt(K,this),D.touch0&&D.touch0[2]===K.identifier?D.touch0[0]=G:D.touch1&&D.touch1[2]===K.identifier&&(D.touch1[0]=G);if(K=D.that.__zoom,D.touch1){var re=D.touch0[0],ee=D.touch0[1],ae=D.touch1[0],de=D.touch1[1],ce=(ce=ae[0]-re[0])*ce+(ce=ae[1]-re[1])*ce,oe=(oe=de[0]-ee[0])*oe+(oe=de[1]-ee[1])*oe;K=C(K,Math.sqrt(ce/oe)),G=[(re[0]+ae[0])/2,(re[1]+ae[1])/2],Q=[(ee[0]+de[0])/2,(ee[1]+de[1])/2]}else if(D.touch0)G=D.touch0[0],Q=D.touch0[1];else return;D.zoom("touch",s(x(K,G,Q),D.extent,d))}}function W(M,...$){if(this.__zooming){var D=P(this,$).event(M),V=M.changedTouches,B=V.length,H,K;for(xa(M),m&&clearTimeout(m),m=setTimeout(function(){m=null},S),H=0;H<B;++H)K=V[H],D.touch0&&D.touch0[2]===K.identifier?delete D.touch0:D.touch1&&D.touch1[2]===K.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(K=Yt(K,this),Math.hypot(h[0]-K[0],h[1]-K[1])<N)){var G=Pt(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return E.wheelDelta=function(M){return arguments.length?(u=typeof M=="function"?M:xs(+M),E):u},E.filter=function(M){return arguments.length?(n=typeof M=="function"?M:xs(!!M),E):n},E.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:xs(!!M),E):a},E.extent=function(M){return arguments.length?(r=typeof M=="function"?M:xs([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),E):r},E.scaleExtent=function(M){return arguments.length?(f[0]=+M[0],f[1]=+M[1],E):[f[0],f[1]]},E.translateExtent=function(M){return arguments.length?(d[0][0]=+M[0][0],d[1][0]=+M[1][0],d[0][1]=+M[0][1],d[1][1]=+M[1][1],E):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},E.constrain=function(M){return arguments.length?(s=M,E):s},E.duration=function(M){return arguments.length?(p=+M,E):p},E.interpolate=function(M){return arguments.length?(g=M,E):g},E.on=function(){var M=y.on.apply(y,arguments);return M===y?E:M},E.clickDistance=function(M){return arguments.length?(j=(M=+M)*M,E):Math.sqrt(j)},E.tapDistance=function(M){return arguments.length?(N=+M,E):N},E}function et(n){if(typeof n=="string"||typeof n=="number")return""+n;let r="";if(Array.isArray(n))for(let s=0,u;s<n.length;s++)(u=et(n[s]))!==""&&(r+=(r&&" ")+u);else for(let s in n)n[s]&&(r+=(r&&" ")+s);return r}const an={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,{id:r,sourceHandle:s,targetHandle:u})=>`Couldn't create edge for ${n} handle id: "${n==="source"?s:u}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(n="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${n}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ri=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Gd=["Enter"," ","Escape"],Kd={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:n,x:r,y:s})=>`Moved selected node ${n}. New position, x: ${r}, y: ${s}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var cr;(function(n){n.Strict="strict",n.Loose="loose"})(cr||(cr={}));var yo;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(yo||(yo={}));var ii;(function(n){n.Partial="partial",n.Full="full"})(ii||(ii={}));const Jd={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Hn;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Hn||(Hn={}));var Xt;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(Xt||(Xt={}));var ue;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(ue||(ue={}));const Bf={[ue.Left]:ue.Right,[ue.Right]:ue.Left,[ue.Top]:ue.Bottom,[ue.Bottom]:ue.Top};function ep(n){return n===null?null:n?"valid":"invalid"}const tp=n=>"id"in n&&"source"in n&&"target"in n,k0=n=>"id"in n&&"position"in n&&!("source"in n)&&!("target"in n),Ya=n=>"id"in n&&"internals"in n&&!("source"in n)&&!("target"in n),fi=(n,r=[0,0])=>{const{width:s,height:u}=En(n),a=n.origin??r,f=s*a[0],d=u*a[1];return{x:n.position.x-f,y:n.position.y-d}},C0=(n,r={nodeOrigin:[0,0]})=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const s=n.reduce((u,a)=>{const f=typeof a=="string";let d=!r.nodeLookup&&!f?a:void 0;r.nodeLookup&&(d=f?r.nodeLookup.get(a):Ya(a)?a:r.nodeLookup.get(a.id));const p=d?Is(d,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Fs(u,p)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ls(s)},di=(n,r={})=>{let s={x:1/0,y:1/0,x2:-1/0,y2:-1/0},u=!1;return n.forEach(a=>{(r.filter===void 0||r.filter(a))&&(s=Fs(s,Is(a)),u=!0)}),u?Ls(s):{x:0,y:0,width:0,height:0}},Xa=(n,r,[s,u,a]=[0,0,1],f=!1,d=!1)=>{const p={...hi(r,[s,u,a]),width:r.width/a,height:r.height/a},g=[];for(const y of n.values()){const{measured:v,selectable:h=!0,hidden:m=!1}=y;if(d&&!h||m)continue;const S=v.width??y.width??y.initialWidth??null,w=v.height??y.height??y.initialHeight??null,j=si(p,dr(y)),N=(S??0)*(w??0),E=f&&j>0;(!y.internals.handleBounds||E||j>=N||y.dragging)&&g.push(y)}return g},N0=(n,r)=>{const s=new Set;return n.forEach(u=>{s.add(u.id)}),r.filter(u=>s.has(u.source)||s.has(u.target))};function z0(n,r){const s=new Map,u=r?.nodes?new Set(r.nodes.map(a=>a.id)):null;return n.forEach(a=>{a.measured.width&&a.measured.height&&(r?.includeHiddenNodes||!a.hidden)&&(!u||u.has(a.id))&&s.set(a.id,a)}),s}async function M0({nodes:n,width:r,height:s,panZoom:u,minZoom:a,maxZoom:f},d){if(n.size===0)return Promise.resolve(!0);const p=z0(n,d),g=di(p),y=Qa(g,r,s,d?.minZoom??a,d?.maxZoom??f,d?.padding??.1);return await u.setViewport(y,{duration:d?.duration,ease:d?.ease,interpolate:d?.interpolate}),Promise.resolve(!0)}function np({nodeId:n,nextPosition:r,nodeLookup:s,nodeOrigin:u=[0,0],nodeExtent:a,onError:f}){const d=s.get(n),p=d.parentId?s.get(d.parentId):void 0,{x:g,y}=p?p.internals.positionAbsolute:{x:0,y:0},v=d.origin??u;let h=d.extent||a;if(d.extent==="parent"&&!d.expandParent)if(!p)f?.("005",an.error005());else{const S=p.measured.width,w=p.measured.height;S&&w&&(h=[[g,y],[g+S,y+w]])}else p&&pr(d.extent)&&(h=[[d.extent[0][0]+g,d.extent[0][1]+y],[d.extent[1][0]+g,d.extent[1][1]+y]]);const m=pr(h)?vo(r,h,d.measured):r;return(d.measured.width===void 0||d.measured.height===void 0)&&f?.("015",an.error015()),{position:{x:m.x-g+(d.measured.width??0)*v[0],y:m.y-y+(d.measured.height??0)*v[1]},positionAbsolute:m}}async function j0({nodesToRemove:n=[],edgesToRemove:r=[],nodes:s,edges:u,onBeforeDelete:a}){const f=new Set(n.map(m=>m.id)),d=[];for(const m of s){if(m.deletable===!1)continue;const S=f.has(m.id),w=!S&&m.parentId&&d.find(j=>j.id===m.parentId);(S||w)&&d.push(m)}const p=new Set(r.map(m=>m.id)),g=u.filter(m=>m.deletable!==!1),v=N0(d,g);for(const m of g)p.has(m.id)&&!v.find(w=>w.id===m.id)&&v.push(m);if(!a)return{edges:v,nodes:d};const h=await a({nodes:d,edges:v});return typeof h=="boolean"?h?{edges:v,nodes:d}:{edges:[],nodes:[]}:h}const fr=(n,r=0,s=1)=>Math.min(Math.max(n,r),s),vo=(n={x:0,y:0},r,s)=>({x:fr(n.x,r[0][0],r[1][0]-(s?.width??0)),y:fr(n.y,r[0][1],r[1][1]-(s?.height??0))});function op(n,r,s){const{width:u,height:a}=En(s),{x:f,y:d}=s.internals.positionAbsolute;return vo(n,[[f,d],[f+u,d+a]],r)}const Hf=(n,r,s)=>n<r?fr(Math.abs(n-r),1,r)/r:n>s?-fr(Math.abs(n-s),1,r)/r:0,rp=(n,r,s=15,u=40)=>{const a=Hf(n.x,u,r.width-u)*s,f=Hf(n.y,u,r.height-u)*s;return[a,f]},Fs=(n,r)=>({x:Math.min(n.x,r.x),y:Math.min(n.y,r.y),x2:Math.max(n.x2,r.x2),y2:Math.max(n.y2,r.y2)}),$a=({x:n,y:r,width:s,height:u})=>({x:n,y:r,x2:n+s,y2:r+u}),Ls=({x:n,y:r,x2:s,y2:u})=>({x:n,y:r,width:s-n,height:u-r}),dr=(n,r=[0,0])=>{const{x:s,y:u}=Ya(n)?n.internals.positionAbsolute:fi(n,r);return{x:s,y:u,width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}},Is=(n,r=[0,0])=>{const{x:s,y:u}=Ya(n)?n.internals.positionAbsolute:fi(n,r);return{x:s,y:u,x2:s+(n.measured?.width??n.width??n.initialWidth??0),y2:u+(n.measured?.height??n.height??n.initialHeight??0)}},ip=(n,r)=>Ls(Fs($a(n),$a(r))),si=(n,r)=>{const s=Math.max(0,Math.min(n.x+n.width,r.x+r.width)-Math.max(n.x,r.x)),u=Math.max(0,Math.min(n.y+n.height,r.y+r.height)-Math.max(n.y,r.y));return Math.ceil(s*u)},Vf=n=>Qt(n.width)&&Qt(n.height)&&Qt(n.x)&&Qt(n.y),Qt=n=>!isNaN(n)&&isFinite(n),I0=(n,r)=>{},pi=(n,r=[1,1])=>({x:r[0]*Math.round(n.x/r[0]),y:r[1]*Math.round(n.y/r[1])}),hi=({x:n,y:r},[s,u,a],f=!1,d=[1,1])=>{const p={x:(n-s)/a,y:(r-u)/a};return f?pi(p,d):p},Ps=({x:n,y:r},[s,u,a])=>({x:n*a+s,y:r*a+u});function nr(n,r){if(typeof n=="number")return Math.floor((r-r/(1+n))*.5);if(typeof n=="string"&&n.endsWith("px")){const s=parseFloat(n);if(!Number.isNaN(s))return Math.floor(s)}if(typeof n=="string"&&n.endsWith("%")){const s=parseFloat(n);if(!Number.isNaN(s))return Math.floor(r*s*.01)}return console.error(`[React Flow] The padding value "${n}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function P0(n,r,s){if(typeof n=="string"||typeof n=="number"){const u=nr(n,s),a=nr(n,r);return{top:u,right:a,bottom:u,left:a,x:a*2,y:u*2}}if(typeof n=="object"){const u=nr(n.top??n.y??0,s),a=nr(n.bottom??n.y??0,s),f=nr(n.left??n.x??0,r),d=nr(n.right??n.x??0,r);return{top:u,right:d,bottom:a,left:f,x:f+d,y:u+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function _0(n,r,s,u,a,f){const{x:d,y:p}=Ps(n,[r,s,u]),{x:g,y}=Ps({x:n.x+n.width,y:n.y+n.height},[r,s,u]),v=a-g,h=f-y;return{left:Math.floor(d),top:Math.floor(p),right:Math.floor(v),bottom:Math.floor(h)}}const Qa=(n,r,s,u,a,f)=>{const d=P0(f,r,s),p=(r-d.x)/n.width,g=(s-d.y)/n.height,y=Math.min(p,g),v=fr(y,u,a),h=n.x+n.width/2,m=n.y+n.height/2,S=r/2-h*v,w=s/2-m*v,j=_0(n,S,w,v,r,s),N={left:Math.min(j.left-d.left,0),top:Math.min(j.top-d.top,0),right:Math.min(j.right-d.right,0),bottom:Math.min(j.bottom-d.bottom,0)};return{x:S-N.left+N.right,y:w-N.top+N.bottom,zoom:v}},li=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function pr(n){return n!=null&&n!=="parent"}function En(n){return{width:n.measured?.width??n.width??n.initialWidth??0,height:n.measured?.height??n.height??n.initialHeight??0}}function sp(n){return(n.measured?.width??n.width??n.initialWidth)!==void 0&&(n.measured?.height??n.height??n.initialHeight)!==void 0}function lp(n,r={width:0,height:0},s,u,a){const f={...n},d=u.get(s);if(d){const p=d.origin||a;f.x+=d.internals.positionAbsolute.x-(r.width??0)*p[0],f.y+=d.internals.positionAbsolute.y-(r.height??0)*p[1]}return f}function Uf(n,r){if(n.size!==r.size)return!1;for(const s of n)if(!r.has(s))return!1;return!0}function T0(){let n,r;return{promise:new Promise((u,a)=>{n=u,r=a}),resolve:n,reject:r}}function A0(n){return{...Kd,...n||{}}}function ti(n,{snapGrid:r=[0,0],snapToGrid:s=!1,transform:u,containerBounds:a}){const{x:f,y:d}=Gt(n),p=hi({x:f-(a?.left??0),y:d-(a?.top??0)},u),{x:g,y}=s?pi(p,r):p;return{xSnapped:g,ySnapped:y,...p}}const Ga=n=>({width:n.offsetWidth,height:n.offsetHeight}),ap=n=>n?.getRootNode?.()||window?.document,$0=["INPUT","SELECT","TEXTAREA"];function up(n){const r=n.composedPath?.()?.[0]||n.target;return r?.nodeType!==1?!1:$0.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const cp=n=>"clientX"in n,Gt=(n,r)=>{const s=cp(n),u=s?n.clientX:n.touches?.[0].clientX,a=s?n.clientY:n.touches?.[0].clientY;return{x:u-(r?.left??0),y:a-(r?.top??0)}},Wf=(n,r,s,u,a)=>{const f=r.querySelectorAll(`.${n}`);return!f||!f.length?null:Array.from(f).map(d=>{const p=d.getBoundingClientRect();return{id:d.getAttribute("data-handleid"),type:n,nodeId:a,position:d.getAttribute("data-handlepos"),x:(p.left-s.left)/u,y:(p.top-s.top)/u,...Ga(d)}})};function fp({sourceX:n,sourceY:r,targetX:s,targetY:u,sourceControlX:a,sourceControlY:f,targetControlX:d,targetControlY:p}){const g=n*.125+a*.375+d*.375+s*.125,y=r*.125+f*.375+p*.375+u*.125,v=Math.abs(g-n),h=Math.abs(y-r);return[g,y,v,h]}function ws(n,r){return n>=0?.5*n:r*25*Math.sqrt(-n)}function Zf({pos:n,x1:r,y1:s,x2:u,y2:a,c:f}){switch(n){case ue.Left:return[r-ws(r-u,f),s];case ue.Right:return[r+ws(u-r,f),s];case ue.Top:return[r,s-ws(s-a,f)];case ue.Bottom:return[r,s+ws(a-s,f)]}}function dp({sourceX:n,sourceY:r,sourcePosition:s=ue.Bottom,targetX:u,targetY:a,targetPosition:f=ue.Top,curvature:d=.25}){const[p,g]=Zf({pos:s,x1:n,y1:r,x2:u,y2:a,c:d}),[y,v]=Zf({pos:f,x1:u,y1:a,x2:n,y2:r,c:d}),[h,m,S,w]=fp({sourceX:n,sourceY:r,targetX:u,targetY:a,sourceControlX:p,sourceControlY:g,targetControlX:y,targetControlY:v});return[`M${n},${r} C${p},${g} ${y},${v} ${u},${a}`,h,m,S,w]}function pp({sourceX:n,sourceY:r,targetX:s,targetY:u}){const a=Math.abs(s-n)/2,f=s<n?s+a:s-a,d=Math.abs(u-r)/2,p=u<r?u+d:u-d;return[f,p,a,d]}function D0({sourceNode:n,targetNode:r,selected:s=!1,zIndex:u=0,elevateOnSelect:a=!1,zIndexMode:f="basic"}){if(f==="manual")return u;const d=a&&s?u+1e3:u,p=Math.max(n.parentId||a&&n.selected?n.internals.z:0,r.parentId||a&&r.selected?r.internals.z:0);return d+p}function R0({sourceNode:n,targetNode:r,width:s,height:u,transform:a}){const f=Fs(Is(n),Is(r));f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const d={x:-a[0]/a[2],y:-a[1]/a[2],width:s/a[2],height:u/a[2]};return si(d,Ls(f))>0}const F0=({source:n,sourceHandle:r,target:s,targetHandle:u})=>`xy-edge__${n}${r||""}-${s}${u||""}`,L0=(n,r)=>r.some(s=>s.source===n.source&&s.target===n.target&&(s.sourceHandle===n.sourceHandle||!s.sourceHandle&&!n.sourceHandle)&&(s.targetHandle===n.targetHandle||!s.targetHandle&&!n.targetHandle)),hp=(n,r,s={})=>{if(!n.source||!n.target)return r;const u=s.getEdgeId||F0;let a;return tp(n)?a={...n}:a={...n,id:u(n)},L0(a,r)?r:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,r.concat(a))};function gp({sourceX:n,sourceY:r,targetX:s,targetY:u}){const[a,f,d,p]=pp({sourceX:n,sourceY:r,targetX:s,targetY:u});return[`M ${n},${r}L ${s},${u}`,a,f,d,p]}const qf={[ue.Left]:{x:-1,y:0},[ue.Right]:{x:1,y:0},[ue.Top]:{x:0,y:-1},[ue.Bottom]:{x:0,y:1}},O0=({source:n,sourcePosition:r=ue.Bottom,target:s})=>r===ue.Left||r===ue.Right?n.x<s.x?{x:1,y:0}:{x:-1,y:0}:n.y<s.y?{x:0,y:1}:{x:0,y:-1},Yf=(n,r)=>Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2));function B0({source:n,sourcePosition:r=ue.Bottom,target:s,targetPosition:u=ue.Top,center:a,offset:f,stepPosition:d}){const p=qf[r],g=qf[u],y={x:n.x+p.x*f,y:n.y+p.y*f},v={x:s.x+g.x*f,y:s.y+g.y*f},h=O0({source:y,sourcePosition:r,target:v}),m=h.x!==0?"x":"y",S=h[m];let w=[],j,N;const E={x:0,y:0},C={x:0,y:0},[,,x,k]=pp({sourceX:n.x,sourceY:n.y,targetX:s.x,targetY:s.y});if(p[m]*g[m]===-1){m==="x"?(j=a.x??y.x+(v.x-y.x)*d,N=a.y??(y.y+v.y)/2):(j=a.x??(y.x+v.x)/2,N=a.y??y.y+(v.y-y.y)*d);const P=[{x:j,y:y.y},{x:j,y:v.y}],T=[{x:y.x,y:N},{x:v.x,y:N}];p[m]===S?w=m==="x"?P:T:w=m==="x"?T:P}else{const P=[{x:y.x,y:v.y}],T=[{x:v.x,y:y.y}];if(m==="x"?w=p.x===S?T:P:w=p.y===S?P:T,r===u){const q=Math.abs(n[m]-s[m]);if(q<=f){const W=Math.min(f-1,f-q);p[m]===S?E[m]=(y[m]>n[m]?-1:1)*W:C[m]=(v[m]>s[m]?-1:1)*W}}if(r!==u){const q=m==="x"?"y":"x",W=p[m]===g[q],M=y[q]>v[q],$=y[q]<v[q];(p[m]===1&&(!W&&M||W&&$)||p[m]!==1&&(!W&&$||W&&M))&&(w=m==="x"?P:T)}const O={x:y.x+E.x,y:y.y+E.y},F={x:v.x+C.x,y:v.y+C.y},X=Math.max(Math.abs(O.x-w[0].x),Math.abs(F.x-w[0].x)),L=Math.max(Math.abs(O.y-w[0].y),Math.abs(F.y-w[0].y));X>=L?(j=(O.x+F.x)/2,N=w[0].y):(j=w[0].x,N=(O.y+F.y)/2)}return[[n,{x:y.x+E.x,y:y.y+E.y},...w,{x:v.x+C.x,y:v.y+C.y},s],j,N,x,k]}function H0(n,r,s,u){const a=Math.min(Yf(n,r)/2,Yf(r,s)/2,u),{x:f,y:d}=r;if(n.x===f&&f===s.x||n.y===d&&d===s.y)return`L${f} ${d}`;if(n.y===d){const y=n.x<s.x?-1:1,v=n.y<s.y?1:-1;return`L ${f+a*y},${d}Q ${f},${d} ${f},${d+a*v}`}const p=n.x<s.x?1:-1,g=n.y<s.y?-1:1;return`L ${f},${d+a*g}Q ${f},${d} ${f+a*p},${d}`}function _s({sourceX:n,sourceY:r,sourcePosition:s=ue.Bottom,targetX:u,targetY:a,targetPosition:f=ue.Top,borderRadius:d=5,centerX:p,centerY:g,offset:y=20,stepPosition:v=.5}){const[h,m,S,w,j]=B0({source:{x:n,y:r},sourcePosition:s,target:{x:u,y:a},targetPosition:f,center:{x:p,y:g},offset:y,stepPosition:v});return[h.reduce((E,C,x)=>{let k="";return x>0&&x<h.length-1?k=H0(h[x-1],C,h[x+1],d):k=`${x===0?"M":"L"}${C.x} ${C.y}`,E+=k,E},""),m,S,w,j]}function Xf(n){return n&&!!(n.internals.handleBounds||n.handles?.length)&&!!(n.measured.width||n.width||n.initialWidth)}function V0(n){const{sourceNode:r,targetNode:s}=n;if(!Xf(r)||!Xf(s))return null;const u=r.internals.handleBounds||Qf(r.handles),a=s.internals.handleBounds||Qf(s.handles),f=Gf(u?.source??[],n.sourceHandle),d=Gf(n.connectionMode===cr.Strict?a?.target??[]:(a?.target??[]).concat(a?.source??[]),n.targetHandle);if(!f||!d)return n.onError?.("008",an.error008(f?"target":"source",{id:n.id,sourceHandle:n.sourceHandle,targetHandle:n.targetHandle})),null;const p=f?.position||ue.Bottom,g=d?.position||ue.Top,y=bo(r,f,p),v=bo(s,d,g);return{sourceX:y.x,sourceY:y.y,targetX:v.x,targetY:v.y,sourcePosition:p,targetPosition:g}}function Qf(n){if(!n)return null;const r=[],s=[];for(const u of n)u.width=u.width??1,u.height=u.height??1,u.type==="source"?r.push(u):u.type==="target"&&s.push(u);return{source:r,target:s}}function bo(n,r,s=ue.Left,u=!1){const a=(r?.x??0)+n.internals.positionAbsolute.x,f=(r?.y??0)+n.internals.positionAbsolute.y,{width:d,height:p}=r??En(n);if(u)return{x:a+d/2,y:f+p/2};switch(r?.position??s){case ue.Top:return{x:a+d/2,y:f};case ue.Right:return{x:a+d,y:f+p/2};case ue.Bottom:return{x:a+d/2,y:f+p};case ue.Left:return{x:a,y:f+p/2}}}function Gf(n,r){return n&&(r?n.find(s=>s.id===r):n[0])||null}function Da(n,r){return n?typeof n=="string"?n:`${r?`${r}__`:""}${Object.keys(n).sort().map(u=>`${u}=${n[u]}`).join("&")}`:""}function U0(n,{id:r,defaultColor:s,defaultMarkerStart:u,defaultMarkerEnd:a}){const f=new Set;return n.reduce((d,p)=>([p.markerStart||u,p.markerEnd||a].forEach(g=>{if(g&&typeof g=="object"){const y=Da(g,r);f.has(y)||(d.push({id:y,color:g.color||s,...g}),f.add(y))}}),d),[]).sort((d,p)=>d.id.localeCompare(p.id))}const mp=1e3,W0=10,Ka={nodeOrigin:[0,0],nodeExtent:ri,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},Z0={...Ka,checkEquality:!0};function Ja(n,r){const s={...n};for(const u in r)r[u]!==void 0&&(s[u]=r[u]);return s}function q0(n,r,s){const u=Ja(Ka,s);for(const a of n.values())if(a.parentId)tu(a,n,r,u);else{const f=fi(a,u.nodeOrigin),d=pr(a.extent)?a.extent:u.nodeExtent,p=vo(f,d,En(a));a.internals.positionAbsolute=p}}function Y0(n,r){if(!n.handles)return n.measured?r?.internals.handleBounds:void 0;const s=[],u=[];for(const a of n.handles){const f={id:a.id,width:a.width??1,height:a.height??1,nodeId:n.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?s.push(f):a.type==="target"&&u.push(f)}return{source:s,target:u}}function eu(n){return n==="manual"}function Ra(n,r,s,u={}){const a=Ja(Z0,u),f={i:0},d=new Map(r),p=a?.elevateNodesOnSelect&&!eu(a.zIndexMode)?mp:0;let g=n.length>0;r.clear(),s.clear();for(const y of n){let v=d.get(y.id);if(a.checkEquality&&y===v?.internals.userNode)r.set(y.id,v);else{const h=fi(y,a.nodeOrigin),m=pr(y.extent)?y.extent:a.nodeExtent,S=vo(h,m,En(y));v={...a.defaults,...y,measured:{width:y.measured?.width,height:y.measured?.height},internals:{positionAbsolute:S,handleBounds:Y0(y,v),z:yp(y,p,a.zIndexMode),userNode:y}},r.set(y.id,v)}(v.measured===void 0||v.measured.width===void 0||v.measured.height===void 0)&&!v.hidden&&(g=!1),y.parentId&&tu(v,r,s,u,f)}return g}function X0(n,r){if(!n.parentId)return;const s=r.get(n.parentId);s?s.set(n.id,n):r.set(n.parentId,new Map([[n.id,n]]))}function tu(n,r,s,u,a){const{elevateNodesOnSelect:f,nodeOrigin:d,nodeExtent:p,zIndexMode:g}=Ja(Ka,u),y=n.parentId,v=r.get(y);if(!v){console.warn(`Parent node ${y} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}X0(n,s),a&&!v.parentId&&v.internals.rootParentIndex===void 0&&g==="auto"&&(v.internals.rootParentIndex=++a.i,v.internals.z=v.internals.z+a.i*W0),a&&v.internals.rootParentIndex!==void 0&&(a.i=v.internals.rootParentIndex);const h=f&&!eu(g)?mp:0,{x:m,y:S,z:w}=Q0(n,v,d,p,h,g),{positionAbsolute:j}=n.internals,N=m!==j.x||S!==j.y;(N||w!==n.internals.z)&&r.set(n.id,{...n,internals:{...n.internals,positionAbsolute:N?{x:m,y:S}:j,z:w}})}function yp(n,r,s){const u=Qt(n.zIndex)?n.zIndex:0;return eu(s)?u:u+(n.selected?r:0)}function Q0(n,r,s,u,a,f){const{x:d,y:p}=r.internals.positionAbsolute,g=En(n),y=fi(n,s),v=pr(n.extent)?vo(y,n.extent,g):y;let h=vo({x:d+v.x,y:p+v.y},u,g);n.extent==="parent"&&(h=op(h,g,r));const m=yp(n,a,f),S=r.internals.z??0;return{x:h.x,y:h.y,z:S>=m?S+1:m}}function nu(n,r,s,u=[0,0]){const a=[],f=new Map;for(const d of n){const p=r.get(d.parentId);if(!p)continue;const g=f.get(d.parentId)?.expandedRect??dr(p),y=ip(g,d.rect);f.set(d.parentId,{expandedRect:y,parent:p})}return f.size>0&&f.forEach(({expandedRect:d,parent:p},g)=>{const y=p.internals.positionAbsolute,v=En(p),h=p.origin??u,m=d.x<y.x?Math.round(Math.abs(y.x-d.x)):0,S=d.y<y.y?Math.round(Math.abs(y.y-d.y)):0,w=Math.max(v.width,Math.round(d.width)),j=Math.max(v.height,Math.round(d.height)),N=(w-v.width)*h[0],E=(j-v.height)*h[1];(m>0||S>0||N||E)&&(a.push({id:g,type:"position",position:{x:p.position.x-m+N,y:p.position.y-S+E}}),s.get(g)?.forEach(C=>{n.some(x=>x.id===C.id)||a.push({id:C.id,type:"position",position:{x:C.position.x+m,y:C.position.y+S}})})),(v.width<d.width||v.height<d.height||m||S)&&a.push({id:g,type:"dimensions",setAttributes:!0,dimensions:{width:w+(m?h[0]*m-N:0),height:j+(S?h[1]*S-E:0)}})}),a}function G0(n,r,s,u,a,f,d){const p=u?.querySelector(".xyflow__viewport");let g=!1;if(!p)return{changes:[],updatedInternals:g};const y=[],v=window.getComputedStyle(p),{m22:h}=new window.DOMMatrixReadOnly(v.transform),m=[];for(const S of n.values()){const w=r.get(S.id);if(!w)continue;if(w.hidden){r.set(w.id,{...w,internals:{...w.internals,handleBounds:void 0}}),g=!0;continue}const j=Ga(S.nodeElement),N=w.measured.width!==j.width||w.measured.height!==j.height;if(!!(j.width&&j.height&&(N||!w.internals.handleBounds||S.force))){const C=S.nodeElement.getBoundingClientRect(),x=pr(w.extent)?w.extent:f;let{positionAbsolute:k}=w.internals;w.parentId&&w.extent==="parent"?k=op(k,j,r.get(w.parentId)):x&&(k=vo(k,x,j));const _={...w,measured:j,internals:{...w.internals,positionAbsolute:k,handleBounds:{source:Wf("source",S.nodeElement,C,h,w.id),target:Wf("target",S.nodeElement,C,h,w.id)}}};r.set(w.id,_),w.parentId&&tu(_,r,s,{nodeOrigin:a,zIndexMode:d}),g=!0,N&&(y.push({id:w.id,type:"dimensions",dimensions:j}),w.expandParent&&w.parentId&&m.push({id:w.id,parentId:w.parentId,rect:dr(_,a)}))}}if(m.length>0){const S=nu(m,r,s,a);y.push(...S)}return{changes:y,updatedInternals:g}}async function K0({delta:n,panZoom:r,transform:s,translateExtent:u,width:a,height:f}){if(!r||!n.x&&!n.y)return Promise.resolve(!1);const d=await r.setViewportConstrained({x:s[0]+n.x,y:s[1]+n.y,zoom:s[2]},[[0,0],[a,f]],u),p=!!d&&(d.x!==s[0]||d.y!==s[1]||d.k!==s[2]);return Promise.resolve(p)}function Kf(n,r,s,u,a,f){let d=a;const p=u.get(d)||new Map;u.set(d,p.set(s,r)),d=`${a}-${n}`;const g=u.get(d)||new Map;if(u.set(d,g.set(s,r)),f){d=`${a}-${n}-${f}`;const y=u.get(d)||new Map;u.set(d,y.set(s,r))}}function vp(n,r,s){n.clear(),r.clear();for(const u of s){const{source:a,target:f,sourceHandle:d=null,targetHandle:p=null}=u,g={edgeId:u.id,source:a,target:f,sourceHandle:d,targetHandle:p},y=`${a}-${d}--${f}-${p}`,v=`${f}-${p}--${a}-${d}`;Kf("source",g,v,n,a,d),Kf("target",g,y,n,f,p),r.set(u.id,u)}}function bp(n,r){if(!n.parentId)return!1;const s=r.get(n.parentId);return s?s.selected?!0:bp(s,r):!1}function Jf(n,r,s){let u=n;do{if(u?.matches?.(r))return!0;if(u===s)return!1;u=u?.parentElement}while(u);return!1}function J0(n,r,s,u){const a=new Map;for(const[f,d]of n)if((d.selected||d.id===u)&&(!d.parentId||!bp(d,n))&&(d.draggable||r&&typeof d.draggable>"u")){const p=n.get(f);p&&a.set(f,{id:f,position:p.position||{x:0,y:0},distance:{x:s.x-p.internals.positionAbsolute.x,y:s.y-p.internals.positionAbsolute.y},extent:p.extent,parentId:p.parentId,origin:p.origin,expandParent:p.expandParent,internals:{positionAbsolute:p.internals.positionAbsolute||{x:0,y:0}},measured:{width:p.measured.width??0,height:p.measured.height??0}})}return a}function wa({nodeId:n,dragItems:r,nodeLookup:s,dragging:u=!0}){const a=[];for(const[d,p]of r){const g=s.get(d)?.internals.userNode;g&&a.push({...g,position:p.position,dragging:u})}if(!n)return[a[0],a];const f=s.get(n)?.internals.userNode;return[f?{...f,position:r.get(n)?.position||f.position,dragging:u}:a[0],a]}function ey({dragItems:n,snapGrid:r,x:s,y:u}){const a=n.values().next().value;if(!a)return null;const f={x:s-a.distance.x,y:u-a.distance.y},d=pi(f,r);return{x:d.x-f.x,y:d.y-f.y}}function ty({onNodeMouseDown:n,getStoreItems:r,onDragStart:s,onDrag:u,onDragStop:a}){let f={x:null,y:null},d=0,p=new Map,g=!1,y={x:0,y:0},v=null,h=!1,m=null,S=!1,w=!1,j=null;function N({noDragClassName:C,handleSelector:x,domNode:k,isSelectable:_,nodeId:P,nodeClickDistance:T=0}){m=Pt(k);function O({x:q,y:W}){const{nodeLookup:M,nodeExtent:$,snapGrid:D,snapToGrid:V,nodeOrigin:B,onNodeDrag:H,onSelectionDrag:K,onError:G,updateNodePositions:Q}=r();f={x:q,y:W};let re=!1;const ee=p.size>1,ae=ee&&$?$a(di(p)):null,de=ee&&V?ey({dragItems:p,snapGrid:D,x:q,y:W}):null;for(const[ce,oe]of p){if(!M.has(ce))continue;let le={x:q-oe.distance.x,y:W-oe.distance.y};V&&(le=de?{x:Math.round(le.x+de.x),y:Math.round(le.y+de.y)}:pi(le,D));let xe=null;if(ee&&$&&!oe.extent&&ae){const{positionAbsolute:pe}=oe.internals,Me=pe.x-ae.x+$[0][0],_e=pe.x+oe.measured.width-ae.x2+$[1][0],Ne=pe.y-ae.y+$[0][1],De=pe.y+oe.measured.height-ae.y2+$[1][1];xe=[[Me,Ne],[_e,De]]}const{position:be,positionAbsolute:fe}=np({nodeId:ce,nextPosition:le,nodeLookup:M,nodeExtent:xe||$,nodeOrigin:B,onError:G});re=re||oe.position.x!==be.x||oe.position.y!==be.y,oe.position=be,oe.internals.positionAbsolute=fe}if(w=w||re,!!re&&(Q(p,!0),j&&(u||H||!P&&K))){const[ce,oe]=wa({nodeId:P,dragItems:p,nodeLookup:M});u?.(j,p,ce,oe),H?.(j,ce,oe),P||K?.(j,oe)}}async function F(){if(!v)return;const{transform:q,panBy:W,autoPanSpeed:M,autoPanOnNodeDrag:$}=r();if(!$){g=!1,cancelAnimationFrame(d);return}const[D,V]=rp(y,v,M);(D!==0||V!==0)&&(f.x=(f.x??0)-D/q[2],f.y=(f.y??0)-V/q[2],await W({x:D,y:V})&&O(f)),d=requestAnimationFrame(F)}function X(q){const{nodeLookup:W,multiSelectionActive:M,nodesDraggable:$,transform:D,snapGrid:V,snapToGrid:B,selectNodesOnDrag:H,onNodeDragStart:K,onSelectionDragStart:G,unselectNodesAndEdges:Q}=r();h=!0,(!H||!_)&&!M&&P&&(W.get(P)?.selected||Q()),_&&H&&P&&n?.(P);const re=ti(q.sourceEvent,{transform:D,snapGrid:V,snapToGrid:B,containerBounds:v});if(f=re,p=J0(W,$,re,P),p.size>0&&(s||K||!P&&G)){const[ee,ae]=wa({nodeId:P,dragItems:p,nodeLookup:W});s?.(q.sourceEvent,p,ee,ae),K?.(q.sourceEvent,ee,ae),P||G?.(q.sourceEvent,ae)}}const L=Xd().clickDistance(T).on("start",q=>{const{domNode:W,nodeDragThreshold:M,transform:$,snapGrid:D,snapToGrid:V}=r();v=W?.getBoundingClientRect()||null,S=!1,w=!1,j=q.sourceEvent,M===0&&X(q),f=ti(q.sourceEvent,{transform:$,snapGrid:D,snapToGrid:V,containerBounds:v}),y=Gt(q.sourceEvent,v)}).on("drag",q=>{const{autoPanOnNodeDrag:W,transform:M,snapGrid:$,snapToGrid:D,nodeDragThreshold:V,nodeLookup:B}=r(),H=ti(q.sourceEvent,{transform:M,snapGrid:$,snapToGrid:D,containerBounds:v});if(j=q.sourceEvent,(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1||P&&!B.has(P))&&(S=!0),!S){if(!g&&W&&h&&(g=!0,F()),!h){const K=Gt(q.sourceEvent,v),G=K.x-y.x,Q=K.y-y.y;Math.sqrt(G*G+Q*Q)>V&&X(q)}(f.x!==H.xSnapped||f.y!==H.ySnapped)&&p&&h&&(y=Gt(q.sourceEvent,v),O(H))}}).on("end",q=>{if(!(!h||S)&&(g=!1,h=!1,cancelAnimationFrame(d),p.size>0)){const{nodeLookup:W,updateNodePositions:M,onNodeDragStop:$,onSelectionDragStop:D}=r();if(w&&(M(p,!1),w=!1),a||$||!P&&D){const[V,B]=wa({nodeId:P,dragItems:p,nodeLookup:W,dragging:!1});a?.(q.sourceEvent,p,V,B),$?.(q.sourceEvent,V,B),P||D?.(q.sourceEvent,B)}}}).filter(q=>{const W=q.target;return!q.button&&(!C||!Jf(W,`.${C}`,k))&&(!x||Jf(W,x,k))});m.call(L)}function E(){m?.on(".drag",null)}return{update:N,destroy:E}}function ny(n,r,s){const u=[],a={x:n.x-s,y:n.y-s,width:s*2,height:s*2};for(const f of r.values())si(a,dr(f))>0&&u.push(f);return u}const oy=250;function ry(n,r,s,u){let a=[],f=1/0;const d=ny(n,s,r+oy);for(const p of d){const g=[...p.internals.handleBounds?.source??[],...p.internals.handleBounds?.target??[]];for(const y of g){if(u.nodeId===y.nodeId&&u.type===y.type&&u.id===y.id)continue;const{x:v,y:h}=bo(p,y,y.position,!0),m=Math.sqrt(Math.pow(v-n.x,2)+Math.pow(h-n.y,2));m>r||(m<f?(a=[{...y,x:v,y:h}],f=m):m===f&&a.push({...y,x:v,y:h}))}}if(!a.length)return null;if(a.length>1){const p=u.type==="source"?"target":"source";return a.find(g=>g.type===p)??a[0]}return a[0]}function xp(n,r,s,u,a,f=!1){const d=u.get(n);if(!d)return null;const p=a==="strict"?d.internals.handleBounds?.[r]:[...d.internals.handleBounds?.source??[],...d.internals.handleBounds?.target??[]],g=(s?p?.find(y=>y.id===s):p?.[0])??null;return g&&f?{...g,...bo(d,g,g.position,!0)}:g}function wp(n,r){return n||(r?.classList.contains("target")?"target":r?.classList.contains("source")?"source":null)}function iy(n,r){let s=null;return r?s=!0:n&&!r&&(s=!1),s}const Sp=()=>!0;function sy(n,{connectionMode:r,connectionRadius:s,handleId:u,nodeId:a,edgeUpdaterType:f,isTarget:d,domNode:p,nodeLookup:g,lib:y,autoPanOnConnect:v,flowId:h,panBy:m,cancelConnection:S,onConnectStart:w,onConnect:j,onConnectEnd:N,isValidConnection:E=Sp,onReconnectEnd:C,updateConnection:x,getTransform:k,getFromHandle:_,autoPanSpeed:P,dragThreshold:T=1,handleDomNode:O}){const F=ap(n.target);let X=0,L;const{x:q,y:W}=Gt(n),M=wp(f,O),$=p?.getBoundingClientRect();let D=!1;if(!$||!M)return;const V=xp(a,M,u,g,r);if(!V)return;let B=Gt(n,$),H=!1,K=null,G=!1,Q=null;function re(){if(!v||!$)return;const[be,fe]=rp(B,$,P);m({x:be,y:fe}),X=requestAnimationFrame(re)}const ee={...V,nodeId:a,type:M,position:V.position},ae=g.get(a);let ce={inProgress:!0,isValid:null,from:bo(ae,ee,ue.Left,!0),fromHandle:ee,fromPosition:ee.position,fromNode:ae,to:B,toHandle:null,toPosition:Bf[ee.position],toNode:null,pointer:B};function oe(){D=!0,x(ce),w?.(n,{nodeId:a,handleId:u,handleType:M})}T===0&&oe();function le(be){if(!D){const{x:De,y:_t}=Gt(be),wt=De-q,gt=_t-W;if(!(wt*wt+gt*gt>T*T))return;oe()}if(!_()||!ee){xe(be);return}const fe=k();B=Gt(be,$),L=ry(hi(B,fe,!1,[1,1]),s,g,ee),H||(re(),H=!0);const pe=Ep(be,{handle:L,connectionMode:r,fromNodeId:a,fromHandleId:u,fromType:d?"target":"source",isValidConnection:E,doc:F,lib:y,flowId:h,nodeLookup:g});Q=pe.handleDomNode,K=pe.connection,G=iy(!!L,pe.isValid);const Me=g.get(a),_e=Me?bo(Me,ee,ue.Left,!0):ce.from,Ne={...ce,from:_e,isValid:G,to:pe.toHandle&&G?Ps({x:pe.toHandle.x,y:pe.toHandle.y},fe):B,toHandle:pe.toHandle,toPosition:G&&pe.toHandle?pe.toHandle.position:Bf[ee.position],toNode:pe.toHandle?g.get(pe.toHandle.nodeId):null,pointer:B};x(Ne),ce=Ne}function xe(be){if(!("touches"in be&&be.touches.length>0)){if(D){(L||Q)&&K&&G&&j?.(K);const{inProgress:fe,...pe}=ce,Me={...pe,toPosition:ce.toHandle?ce.toPosition:null};N?.(be,Me),f&&C?.(be,Me)}S(),cancelAnimationFrame(X),H=!1,G=!1,K=null,Q=null,F.removeEventListener("mousemove",le),F.removeEventListener("mouseup",xe),F.removeEventListener("touchmove",le),F.removeEventListener("touchend",xe)}}F.addEventListener("mousemove",le),F.addEventListener("mouseup",xe),F.addEventListener("touchmove",le),F.addEventListener("touchend",xe)}function Ep(n,{handle:r,connectionMode:s,fromNodeId:u,fromHandleId:a,fromType:f,doc:d,lib:p,flowId:g,isValidConnection:y=Sp,nodeLookup:v}){const h=f==="target",m=r?d.querySelector(`.${p}-flow__handle[data-id="${g}-${r?.nodeId}-${r?.id}-${r?.type}"]`):null,{x:S,y:w}=Gt(n),j=d.elementFromPoint(S,w),N=j?.classList.contains(`${p}-flow__handle`)?j:m,E={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const C=wp(void 0,N),x=N.getAttribute("data-nodeid"),k=N.getAttribute("data-handleid"),_=N.classList.contains("connectable"),P=N.classList.contains("connectableend");if(!x||!C)return E;const T={source:h?x:u,sourceHandle:h?k:a,target:h?u:x,targetHandle:h?a:k};E.connection=T;const F=_&&P&&(s===cr.Strict?h&&C==="source"||!h&&C==="target":x!==u||k!==a);E.isValid=F&&y(T),E.toHandle=xp(x,C,k,v,s,!0)}return E}const Fa={onPointerDown:sy,isValid:Ep};function ly({domNode:n,panZoom:r,getTransform:s,getViewScale:u}){const a=Pt(n);function f({translateExtent:p,width:g,height:y,zoomStep:v=1,pannable:h=!0,zoomable:m=!0,inversePan:S=!1}){const w=x=>{if(x.sourceEvent.type!=="wheel"||!r)return;const k=s(),_=x.sourceEvent.ctrlKey&&li()?10:1,P=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*v,T=k[2]*Math.pow(2,P*_);r.scaleTo(T)};let j=[0,0];const N=x=>{(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(j=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY])},E=x=>{const k=s();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!r)return;const _=[x.sourceEvent.clientX??x.sourceEvent.touches[0].clientX,x.sourceEvent.clientY??x.sourceEvent.touches[0].clientY],P=[_[0]-j[0],_[1]-j[1]];j=_;const T=u()*Math.max(k[2],Math.log(k[2]))*(S?-1:1),O={x:k[0]-P[0]*T,y:k[1]-P[1]*T},F=[[0,0],[g,y]];r.setViewportConstrained({x:O.x,y:O.y,zoom:k[2]},F,p)},C=Qd().on("start",N).on("zoom",h?E:null).on("zoom.wheel",m?w:null);a.call(C,{})}function d(){a.on("zoom",null)}return{update:f,destroy:d,pointer:Yt}}const Os=n=>({x:n.x,y:n.y,zoom:n.k}),Sa=({x:n,y:r,zoom:s})=>qa.translate(n,r).scale(s),sr=(n,r)=>n.target.closest(`.${r}`),kp=(n,r)=>r===2&&Array.isArray(n)&&n.includes(2),ay=n=>((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2,Ea=(n,r=0,s=ay,u=()=>{})=>{const a=typeof r=="number"&&r>0;return a||u(),a?n.transition().duration(r).ease(s).on("end",u):n},Cp=n=>{const r=n.ctrlKey&&li()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*r};function uy({zoomPanValues:n,noWheelClassName:r,d3Selection:s,d3Zoom:u,panOnScrollMode:a,panOnScrollSpeed:f,zoomOnPinch:d,onPanZoomStart:p,onPanZoom:g,onPanZoomEnd:y}){return v=>{if(sr(v,r))return v.ctrlKey&&v.preventDefault(),!1;v.preventDefault(),v.stopImmediatePropagation();const h=s.property("__zoom").k||1;if(v.ctrlKey&&d){const N=Yt(v),E=Cp(v),C=h*Math.pow(2,E);u.scaleTo(s,C,N,v);return}const m=v.deltaMode===1?20:1;let S=a===yo.Vertical?0:v.deltaX*m,w=a===yo.Horizontal?0:v.deltaY*m;!li()&&v.shiftKey&&a!==yo.Vertical&&(S=v.deltaY*m,w=0),u.translateBy(s,-(S/h)*f,-(w/h)*f,{internal:!0});const j=Os(s.property("__zoom"));clearTimeout(n.panScrollTimeout),n.isPanScrolling?(g?.(v,j),n.panScrollTimeout=setTimeout(()=>{y?.(v,j),n.isPanScrolling=!1},150)):(n.isPanScrolling=!0,p?.(v,j))}}function cy({noWheelClassName:n,preventScrolling:r,d3ZoomHandler:s}){return function(u,a){const f=u.type==="wheel",d=!r&&f&&!u.ctrlKey,p=sr(u,n);if(u.ctrlKey&&f&&p&&u.preventDefault(),d||p)return null;u.preventDefault(),s.call(this,u,a)}}function fy({zoomPanValues:n,onDraggingChange:r,onPanZoomStart:s}){return u=>{if(u.sourceEvent?.internal)return;const a=Os(u.transform);n.mouseButton=u.sourceEvent?.button||0,n.isZoomingOrPanning=!0,n.prevViewport=a,u.sourceEvent?.type==="mousedown"&&r(!0),s&&s?.(u.sourceEvent,a)}}function dy({zoomPanValues:n,panOnDrag:r,onPaneContextMenu:s,onTransformChange:u,onPanZoom:a}){return f=>{n.usedRightMouseButton=!!(s&&kp(r,n.mouseButton??0)),f.sourceEvent?.sync||u([f.transform.x,f.transform.y,f.transform.k]),a&&!f.sourceEvent?.internal&&a?.(f.sourceEvent,Os(f.transform))}}function py({zoomPanValues:n,panOnDrag:r,panOnScroll:s,onDraggingChange:u,onPanZoomEnd:a,onPaneContextMenu:f}){return d=>{if(!d.sourceEvent?.internal&&(n.isZoomingOrPanning=!1,f&&kp(r,n.mouseButton??0)&&!n.usedRightMouseButton&&d.sourceEvent&&f(d.sourceEvent),n.usedRightMouseButton=!1,u(!1),a)){const p=Os(d.transform);n.prevViewport=p,clearTimeout(n.timerId),n.timerId=setTimeout(()=>{a?.(d.sourceEvent,p)},s?150:0)}}}function hy({zoomActivationKeyPressed:n,zoomOnScroll:r,zoomOnPinch:s,panOnDrag:u,panOnScroll:a,zoomOnDoubleClick:f,userSelectionActive:d,noWheelClassName:p,noPanClassName:g,lib:y,connectionInProgress:v}){return h=>{const m=n||r,S=s&&h.ctrlKey,w=h.type==="wheel";if(h.button===1&&h.type==="mousedown"&&(sr(h,`${y}-flow__node`)||sr(h,`${y}-flow__edge`)))return!0;if(!u&&!m&&!a&&!f&&!s||d||v&&!w||sr(h,p)&&w||sr(h,g)&&(!w||a&&w&&!n)||!s&&h.ctrlKey&&w)return!1;if(!s&&h.type==="touchstart"&&h.touches?.length>1)return h.preventDefault(),!1;if(!m&&!a&&!S&&w||!u&&(h.type==="mousedown"||h.type==="touchstart")||Array.isArray(u)&&!u.includes(h.button)&&h.type==="mousedown")return!1;const j=Array.isArray(u)&&u.includes(h.button)||!h.button||h.button<=1;return(!h.ctrlKey||w)&&j}}function gy({domNode:n,minZoom:r,maxZoom:s,translateExtent:u,viewport:a,onPanZoom:f,onPanZoomStart:d,onPanZoomEnd:p,onDraggingChange:g}){const y={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},v=n.getBoundingClientRect(),h=Qd().scaleExtent([r,s]).translateExtent(u),m=Pt(n).call(h);C({x:a.x,y:a.y,zoom:fr(a.zoom,r,s)},[[0,0],[v.width,v.height]],u);const S=m.on("wheel.zoom"),w=m.on("dblclick.zoom");h.wheelDelta(Cp);function j(L,q){return m?new Promise(W=>{h?.interpolate(q?.interpolate==="linear"?ya:Ms).transform(Ea(m,q?.duration,q?.ease,()=>W(!0)),L)}):Promise.resolve(!1)}function N({noWheelClassName:L,noPanClassName:q,onPaneContextMenu:W,userSelectionActive:M,panOnScroll:$,panOnDrag:D,panOnScrollMode:V,panOnScrollSpeed:B,preventScrolling:H,zoomOnPinch:K,zoomOnScroll:G,zoomOnDoubleClick:Q,zoomActivationKeyPressed:re,lib:ee,onTransformChange:ae,connectionInProgress:de,paneClickDistance:ce,selectionOnDrag:oe}){M&&!y.isZoomingOrPanning&&E();const le=$&&!re&&!M;h.clickDistance(oe?1/0:!Qt(ce)||ce<0?0:ce);const xe=le?uy({zoomPanValues:y,noWheelClassName:L,d3Selection:m,d3Zoom:h,panOnScrollMode:V,panOnScrollSpeed:B,zoomOnPinch:K,onPanZoomStart:d,onPanZoom:f,onPanZoomEnd:p}):cy({noWheelClassName:L,preventScrolling:H,d3ZoomHandler:S});if(m.on("wheel.zoom",xe,{passive:!1}),!M){const fe=fy({zoomPanValues:y,onDraggingChange:g,onPanZoomStart:d});h.on("start",fe);const pe=dy({zoomPanValues:y,panOnDrag:D,onPaneContextMenu:!!W,onPanZoom:f,onTransformChange:ae});h.on("zoom",pe);const Me=py({zoomPanValues:y,panOnDrag:D,panOnScroll:$,onPaneContextMenu:W,onPanZoomEnd:p,onDraggingChange:g});h.on("end",Me)}const be=hy({zoomActivationKeyPressed:re,panOnDrag:D,zoomOnScroll:G,panOnScroll:$,zoomOnDoubleClick:Q,zoomOnPinch:K,userSelectionActive:M,noPanClassName:q,noWheelClassName:L,lib:ee,connectionInProgress:de});h.filter(be),Q?m.on("dblclick.zoom",w):m.on("dblclick.zoom",null)}function E(){h.on("zoom",null)}async function C(L,q,W){const M=Sa(L),$=h?.constrain()(M,q,W);return $&&await j($),new Promise(D=>D($))}async function x(L,q){const W=Sa(L);return await j(W,q),new Promise(M=>M(W))}function k(L){if(m){const q=Sa(L),W=m.property("__zoom");(W.k!==L.zoom||W.x!==L.x||W.y!==L.y)&&h?.transform(m,q,null,{sync:!0})}}function _(){const L=m?Vm(m.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function P(L,q){return m?new Promise(W=>{h?.interpolate(q?.interpolate==="linear"?ya:Ms).scaleTo(Ea(m,q?.duration,q?.ease,()=>W(!0)),L)}):Promise.resolve(!1)}function T(L,q){return m?new Promise(W=>{h?.interpolate(q?.interpolate==="linear"?ya:Ms).scaleBy(Ea(m,q?.duration,q?.ease,()=>W(!0)),L)}):Promise.resolve(!1)}function O(L){h?.scaleExtent(L)}function F(L){h?.translateExtent(L)}function X(L){const q=!Qt(L)||L<0?0:L;h?.clickDistance(q)}return{update:N,destroy:E,setViewport:x,setViewportConstrained:C,getViewport:_,scaleTo:P,scaleBy:T,setScaleExtent:O,setTranslateExtent:F,syncViewport:k,setClickDistance:X}}var hr;(function(n){n.Line="line",n.Handle="handle"})(hr||(hr={}));function my({width:n,prevWidth:r,height:s,prevHeight:u,affectsX:a,affectsY:f}){const d=n-r,p=s-u,g=[d>0?1:d<0?-1:0,p>0?1:p<0?-1:0];return d&&a&&(g[0]=g[0]*-1),p&&f&&(g[1]=g[1]*-1),g}function ed(n){const r=n.includes("right")||n.includes("left"),s=n.includes("bottom")||n.includes("top"),u=n.includes("left"),a=n.includes("top");return{isHorizontal:r,isVertical:s,affectsX:u,affectsY:a}}function Ln(n,r){return Math.max(0,r-n)}function On(n,r){return Math.max(0,n-r)}function Ss(n,r,s){return Math.max(0,r-n,n-s)}function td(n,r){return n?!r:r}function yy(n,r,s,u,a,f,d,p){let{affectsX:g,affectsY:y}=r;const{isHorizontal:v,isVertical:h}=r,m=v&&h,{xSnapped:S,ySnapped:w}=s,{minWidth:j,maxWidth:N,minHeight:E,maxHeight:C}=u,{x,y:k,width:_,height:P,aspectRatio:T}=n;let O=Math.floor(v?S-n.pointerX:0),F=Math.floor(h?w-n.pointerY:0);const X=_+(g?-O:O),L=P+(y?-F:F),q=-f[0]*_,W=-f[1]*P;let M=Ss(X,j,N),$=Ss(L,E,C);if(d){let B=0,H=0;g&&O<0?B=Ln(x+O+q,d[0][0]):!g&&O>0&&(B=On(x+X+q,d[1][0])),y&&F<0?H=Ln(k+F+W,d[0][1]):!y&&F>0&&(H=On(k+L+W,d[1][1])),M=Math.max(M,B),$=Math.max($,H)}if(p){let B=0,H=0;g&&O>0?B=On(x+O,p[0][0]):!g&&O<0&&(B=Ln(x+X,p[1][0])),y&&F>0?H=On(k+F,p[0][1]):!y&&F<0&&(H=Ln(k+L,p[1][1])),M=Math.max(M,B),$=Math.max($,H)}if(a){if(v){const B=Ss(X/T,E,C)*T;if(M=Math.max(M,B),d){let H=0;!g&&!y||g&&!y&&m?H=On(k+W+X/T,d[1][1])*T:H=Ln(k+W+(g?O:-O)/T,d[0][1])*T,M=Math.max(M,H)}if(p){let H=0;!g&&!y||g&&!y&&m?H=Ln(k+X/T,p[1][1])*T:H=On(k+(g?O:-O)/T,p[0][1])*T,M=Math.max(M,H)}}if(h){const B=Ss(L*T,j,N)/T;if($=Math.max($,B),d){let H=0;!g&&!y||y&&!g&&m?H=On(x+L*T+q,d[1][0])/T:H=Ln(x+(y?F:-F)*T+q,d[0][0])/T,$=Math.max($,H)}if(p){let H=0;!g&&!y||y&&!g&&m?H=Ln(x+L*T,p[1][0])/T:H=On(x+(y?F:-F)*T,p[0][0])/T,$=Math.max($,H)}}}F=F+(F<0?$:-$),O=O+(O<0?M:-M),a&&(m?X>L*T?F=(td(g,y)?-O:O)/T:O=(td(g,y)?-F:F)*T:v?(F=O/T,y=g):(O=F*T,g=y));const D=g?x+O:x,V=y?k+F:k;return{width:_+(g?-O:O),height:P+(y?-F:F),x:f[0]*O*(g?-1:1)+D,y:f[1]*F*(y?-1:1)+V}}const Np={width:0,height:0,x:0,y:0},vy={...Np,pointerX:0,pointerY:0,aspectRatio:1};function by(n){return[[0,0],[n.measured.width,n.measured.height]]}function xy(n,r,s){const u=r.position.x+n.position.x,a=r.position.y+n.position.y,f=n.measured.width??0,d=n.measured.height??0,p=s[0]*f,g=s[1]*d;return[[u-p,a-g],[u+f-p,a+d-g]]}function wy({domNode:n,nodeId:r,getStoreItems:s,onChange:u,onEnd:a}){const f=Pt(n);let d={controlDirection:ed("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function p({controlPosition:y,boundaries:v,keepAspectRatio:h,resizeDirection:m,onResizeStart:S,onResize:w,onResizeEnd:j,shouldResize:N}){let E={...Np},C={...vy};d={boundaries:v,resizeDirection:m,keepAspectRatio:h,controlDirection:ed(y)};let x,k=null,_=[],P,T,O,F=!1;const X=Xd().on("start",L=>{const{nodeLookup:q,transform:W,snapGrid:M,snapToGrid:$,nodeOrigin:D,paneDomNode:V}=s();if(x=q.get(r),!x)return;k=V?.getBoundingClientRect()??null;const{xSnapped:B,ySnapped:H}=ti(L.sourceEvent,{transform:W,snapGrid:M,snapToGrid:$,containerBounds:k});E={width:x.measured.width??0,height:x.measured.height??0,x:x.position.x??0,y:x.position.y??0},C={...E,pointerX:B,pointerY:H,aspectRatio:E.width/E.height},P=void 0,x.parentId&&(x.extent==="parent"||x.expandParent)&&(P=q.get(x.parentId),T=P&&x.extent==="parent"?by(P):void 0),_=[],O=void 0;for(const[K,G]of q)if(G.parentId===r&&(_.push({id:K,position:{...G.position},extent:G.extent}),G.extent==="parent"||G.expandParent)){const Q=xy(G,x,G.origin??D);O?O=[[Math.min(Q[0][0],O[0][0]),Math.min(Q[0][1],O[0][1])],[Math.max(Q[1][0],O[1][0]),Math.max(Q[1][1],O[1][1])]]:O=Q}S?.(L,{...E})}).on("drag",L=>{const{transform:q,snapGrid:W,snapToGrid:M,nodeOrigin:$}=s(),D=ti(L.sourceEvent,{transform:q,snapGrid:W,snapToGrid:M,containerBounds:k}),V=[];if(!x)return;const{x:B,y:H,width:K,height:G}=E,Q={},re=x.origin??$,{width:ee,height:ae,x:de,y:ce}=yy(C,d.controlDirection,D,d.boundaries,d.keepAspectRatio,re,T,O),oe=ee!==K,le=ae!==G,xe=de!==B&&oe,be=ce!==H&&le;if(!xe&&!be&&!oe&&!le)return;if((xe||be||re[0]===1||re[1]===1)&&(Q.x=xe?de:E.x,Q.y=be?ce:E.y,E.x=Q.x,E.y=Q.y,_.length>0)){const _e=de-B,Ne=ce-H;for(const De of _)De.position={x:De.position.x-_e+re[0]*(ee-K),y:De.position.y-Ne+re[1]*(ae-G)},V.push(De)}if((oe||le)&&(Q.width=oe&&(!d.resizeDirection||d.resizeDirection==="horizontal")?ee:E.width,Q.height=le&&(!d.resizeDirection||d.resizeDirection==="vertical")?ae:E.height,E.width=Q.width,E.height=Q.height),P&&x.expandParent){const _e=re[0]*(Q.width??0);Q.x&&Q.x<_e&&(E.x=_e,C.x=C.x-(Q.x-_e));const Ne=re[1]*(Q.height??0);Q.y&&Q.y<Ne&&(E.y=Ne,C.y=C.y-(Q.y-Ne))}const fe=my({width:E.width,prevWidth:K,height:E.height,prevHeight:G,affectsX:d.controlDirection.affectsX,affectsY:d.controlDirection.affectsY}),pe={...E,direction:fe};N?.(L,pe)!==!1&&(F=!0,w?.(L,pe),u(Q,V))}).on("end",L=>{F&&(j?.(L,{...E}),a?.({...E}),F=!1)});f.call(X)}function g(){f.on(".drag",null)}return{update:p,destroy:g}}const Sy={},nd=n=>{let r;const s=new Set,u=(v,h)=>{const m=typeof v=="function"?v(r):v;if(!Object.is(m,r)){const S=r;r=h??(typeof m!="object"||m===null)?m:Object.assign({},r,m),s.forEach(w=>w(r,S))}},a=()=>r,g={setState:u,getState:a,getInitialState:()=>y,subscribe:v=>(s.add(v),()=>s.delete(v)),destroy:()=>{(Sy?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},y=r=n(u,a,g);return g},Ey=n=>n?nd(n):nd,{useDebugValue:ky}=ur,{useSyncExternalStoreWithSelector:Cy}=Wd,Ny=n=>n;function zp(n,r=Ny,s){const u=Cy(n.subscribe,n.getState,n.getServerState||n.getInitialState,r,s);return ky(u),u}const od=(n,r)=>{const s=Ey(n),u=(a,f=r)=>zp(s,a,f);return Object.assign(u,s),u},zy=(n,r)=>n?od(n,r):od;function Oe(n,r){if(Object.is(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;if(n instanceof Map&&r instanceof Map){if(n.size!==r.size)return!1;for(const[u,a]of n)if(!Object.is(a,r.get(u)))return!1;return!0}if(n instanceof Set&&r instanceof Set){if(n.size!==r.size)return!1;for(const u of n)if(!r.has(u))return!1;return!0}const s=Object.keys(n);if(s.length!==Object.keys(r).length)return!1;for(const u of s)if(!Object.prototype.hasOwnProperty.call(r,u)||!Object.is(n[u],r[u]))return!1;return!0}const Bs=A.createContext(null),My=Bs.Provider,Mp=an.error001();function ze(n,r){const s=A.useContext(Bs);if(s===null)throw new Error(Mp);return zp(s,n,r)}function Be(){const n=A.useContext(Bs);if(n===null)throw new Error(Mp);return A.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe}),[n])}const rd={display:"none"},jy={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},jp="react-flow__node-desc",Ip="react-flow__edge-desc",Iy="react-flow__aria-live",Py=n=>n.ariaLiveMessage,_y=n=>n.ariaLabelConfig;function Ty({rfId:n}){const r=ze(Py);return z.jsx("div",{id:`${Iy}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:jy,children:r})}function Ay({rfId:n,disableKeyboardA11y:r}){const s=ze(_y);return z.jsxs(z.Fragment,{children:[z.jsx("div",{id:`${jp}-${n}`,style:rd,children:r?s["node.a11yDescription.default"]:s["node.a11yDescription.keyboardDisabled"]}),z.jsx("div",{id:`${Ip}-${n}`,style:rd,children:s["edge.a11yDescription.default"]}),!r&&z.jsx(Ty,{rfId:n})]})}const Hs=A.forwardRef(({position:n="top-left",children:r,className:s,style:u,...a},f)=>{const d=`${n}`.split("-");return z.jsx("div",{className:et(["react-flow__panel",s,...d]),style:u,ref:f,...a,children:r})});Hs.displayName="Panel";function $y({proOptions:n,position:r="bottom-right"}){return n?.hideAttribution?null:z.jsx(Hs,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:z.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Dy=n=>{const r=[],s=[];for(const[,u]of n.nodeLookup)u.selected&&r.push(u.internals.userNode);for(const[,u]of n.edgeLookup)u.selected&&s.push(u);return{selectedNodes:r,selectedEdges:s}},Es=n=>n.id;function Ry(n,r){return Oe(n.selectedNodes.map(Es),r.selectedNodes.map(Es))&&Oe(n.selectedEdges.map(Es),r.selectedEdges.map(Es))}function Fy({onSelectionChange:n}){const r=Be(),{selectedNodes:s,selectedEdges:u}=ze(Dy,Ry);return A.useEffect(()=>{const a={nodes:s,edges:u};n?.(a),r.getState().onSelectionChangeHandlers.forEach(f=>f(a))},[s,u,n]),null}const Ly=n=>!!n.onSelectionChangeHandlers;function Oy({onSelectionChange:n}){const r=ze(Ly);return n||r?z.jsx(Fy,{onSelectionChange:n}):null}const Pp=[0,0],By={x:0,y:0,zoom:1},Hy=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],id=[...Hy,"rfId"],Vy=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges}),sd={translateExtent:ri,nodeOrigin:Pp,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Uy(n){const{setNodes:r,setEdges:s,setMinZoom:u,setMaxZoom:a,setTranslateExtent:f,setNodeExtent:d,reset:p,setDefaultNodesAndEdges:g}=ze(Vy,Oe),y=Be();A.useEffect(()=>(g(n.defaultNodes,n.defaultEdges),()=>{v.current=sd,p()}),[]);const v=A.useRef(sd);return A.useEffect(()=>{for(const h of id){const m=n[h],S=v.current[h];m!==S&&(typeof n[h]>"u"||(h==="nodes"?r(m):h==="edges"?s(m):h==="minZoom"?u(m):h==="maxZoom"?a(m):h==="translateExtent"?f(m):h==="nodeExtent"?d(m):h==="ariaLabelConfig"?y.setState({ariaLabelConfig:A0(m)}):h==="fitView"?y.setState({fitViewQueued:m}):h==="fitViewOptions"?y.setState({fitViewOptions:m}):y.setState({[h]:m})))}v.current=n},id.map(h=>n[h])),null}function ld(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Wy(n){const[r,s]=A.useState(n==="system"?null:n);return A.useEffect(()=>{if(n!=="system"){s(n);return}const u=ld(),a=()=>s(u?.matches?"dark":"light");return a(),u?.addEventListener("change",a),()=>{u?.removeEventListener("change",a)}},[n]),r!==null?r:ld()?.matches?"dark":"light"}const ad=typeof document<"u"?document:null;function ai(n=null,r={target:ad,actInsideInputWithModifier:!0}){const[s,u]=A.useState(!1),a=A.useRef(!1),f=A.useRef(new Set([])),[d,p]=A.useMemo(()=>{if(n!==null){const y=(Array.isArray(n)?n:[n]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),v=y.reduce((h,m)=>h.concat(...m),[]);return[y,v]}return[[],[]]},[n]);return A.useEffect(()=>{const g=r?.target??ad,y=r?.actInsideInputWithModifier??!0;if(n!==null){const v=S=>{if(a.current=S.ctrlKey||S.metaKey||S.shiftKey||S.altKey,(!a.current||a.current&&!y)&&up(S))return!1;const j=cd(S.code,p);if(f.current.add(S[j]),ud(d,f.current,!1)){const N=S.composedPath?.()?.[0]||S.target,E=N?.nodeName==="BUTTON"||N?.nodeName==="A";r.preventDefault!==!1&&(a.current||!E)&&S.preventDefault(),u(!0)}},h=S=>{const w=cd(S.code,p);ud(d,f.current,!0)?(u(!1),f.current.clear()):f.current.delete(S[w]),S.key==="Meta"&&f.current.clear(),a.current=!1},m=()=>{f.current.clear(),u(!1)};return g?.addEventListener("keydown",v),g?.addEventListener("keyup",h),window.addEventListener("blur",m),window.addEventListener("contextmenu",m),()=>{g?.removeEventListener("keydown",v),g?.removeEventListener("keyup",h),window.removeEventListener("blur",m),window.removeEventListener("contextmenu",m)}}},[n,u]),s}function ud(n,r,s){return n.filter(u=>s||u.length===r.size).some(u=>u.every(a=>r.has(a)))}function cd(n,r){return r.includes(n)?"code":"key"}const Zy=()=>{const n=Be();return A.useMemo(()=>({zoomIn:r=>{const{panZoom:s}=n.getState();return s?s.scaleBy(1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:s}=n.getState();return s?s.scaleBy(1/1.2,{duration:r?.duration}):Promise.resolve(!1)},zoomTo:(r,s)=>{const{panZoom:u}=n.getState();return u?u.scaleTo(r,{duration:s?.duration}):Promise.resolve(!1)},getZoom:()=>n.getState().transform[2],setViewport:async(r,s)=>{const{transform:[u,a,f],panZoom:d}=n.getState();return d?(await d.setViewport({x:r.x??u,y:r.y??a,zoom:r.zoom??f},s),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,s,u]=n.getState().transform;return{x:r,y:s,zoom:u}},setCenter:async(r,s,u)=>n.getState().setCenter(r,s,u),fitBounds:async(r,s)=>{const{width:u,height:a,minZoom:f,maxZoom:d,panZoom:p}=n.getState(),g=Qa(r,u,a,f,d,s?.padding??.1);return p?(await p.setViewport(g,{duration:s?.duration,ease:s?.ease,interpolate:s?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,s={})=>{const{transform:u,snapGrid:a,snapToGrid:f,domNode:d}=n.getState();if(!d)return r;const{x:p,y:g}=d.getBoundingClientRect(),y={x:r.x-p,y:r.y-g},v=s.snapGrid??a,h=s.snapToGrid??f;return hi(y,u,h,v)},flowToScreenPosition:r=>{const{transform:s,domNode:u}=n.getState();if(!u)return r;const{x:a,y:f}=u.getBoundingClientRect(),d=Ps(r,s);return{x:d.x+a,y:d.y+f}}}),[])};function _p(n,r){const s=[],u=new Map,a=[];for(const f of n)if(f.type==="add"){a.push(f);continue}else if(f.type==="remove"||f.type==="replace")u.set(f.id,[f]);else{const d=u.get(f.id);d?d.push(f):u.set(f.id,[f])}for(const f of r){const d=u.get(f.id);if(!d){s.push(f);continue}if(d[0].type==="remove")continue;if(d[0].type==="replace"){s.push({...d[0].item});continue}const p={...f};for(const g of d)qy(g,p);s.push(p)}return a.length&&a.forEach(f=>{f.index!==void 0?s.splice(f.index,0,{...f.item}):s.push({...f.item})}),s}function qy(n,r){switch(n.type){case"select":{r.selected=n.selected;break}case"position":{typeof n.position<"u"&&(r.position=n.position),typeof n.dragging<"u"&&(r.dragging=n.dragging);break}case"dimensions":{typeof n.dimensions<"u"&&(r.measured={...n.dimensions},n.setAttributes&&((n.setAttributes===!0||n.setAttributes==="width")&&(r.width=n.dimensions.width),(n.setAttributes===!0||n.setAttributes==="height")&&(r.height=n.dimensions.height))),typeof n.resizing=="boolean"&&(r.resizing=n.resizing);break}}}function Tp(n,r){return _p(n,r)}function Ap(n,r){return _p(n,r)}function mo(n,r){return{id:n,type:"select",selected:r}}function lr(n,r=new Set,s=!1){const u=[];for(const[a,f]of n){const d=r.has(a);!(f.selected===void 0&&!d)&&f.selected!==d&&(s&&(f.selected=d),u.push(mo(f.id,d)))}return u}function fd({items:n=[],lookup:r}){const s=[],u=new Map(n.map(a=>[a.id,a]));for(const[a,f]of n.entries()){const d=r.get(f.id),p=d?.internals?.userNode??d;p!==void 0&&p!==f&&s.push({id:f.id,item:f,type:"replace"}),p===void 0&&s.push({item:f,type:"add",index:a})}for(const[a]of r)u.get(a)===void 0&&s.push({id:a,type:"remove"});return s}function dd(n){return{id:n.id,type:"remove"}}const pd=n=>k0(n),Yy=n=>tp(n);function $p(n){return A.forwardRef(n)}const Xy=typeof window<"u"?A.useLayoutEffect:A.useEffect;function hd(n){const[r,s]=A.useState(BigInt(0)),[u]=A.useState(()=>Qy(()=>s(a=>a+BigInt(1))));return Xy(()=>{const a=u.get();a.length&&(n(a),u.reset())},[r]),u}function Qy(n){let r=[];return{get:()=>r,reset:()=>{r=[]},push:s=>{r.push(s),n()}}}const Dp=A.createContext(null);function Gy({children:n}){const r=Be(),s=A.useCallback(p=>{const{nodes:g=[],setNodes:y,hasDefaultNodes:v,onNodesChange:h,nodeLookup:m,fitViewQueued:S,onNodesChangeMiddlewareMap:w}=r.getState();let j=g;for(const E of p)j=typeof E=="function"?E(j):E;let N=fd({items:j,lookup:m});for(const E of w.values())N=E(N);v&&y(j),N.length>0?h?.(N):S&&window.requestAnimationFrame(()=>{const{fitViewQueued:E,nodes:C,setNodes:x}=r.getState();E&&x(C)})},[]),u=hd(s),a=A.useCallback(p=>{const{edges:g=[],setEdges:y,hasDefaultEdges:v,onEdgesChange:h,edgeLookup:m}=r.getState();let S=g;for(const w of p)S=typeof w=="function"?w(S):w;v?y(S):h&&h(fd({items:S,lookup:m}))},[]),f=hd(a),d=A.useMemo(()=>({nodeQueue:u,edgeQueue:f}),[]);return z.jsx(Dp.Provider,{value:d,children:n})}function Ky(){const n=A.useContext(Dp);if(!n)throw new Error("useBatchContext must be used within a BatchProvider");return n}const Jy=n=>!!n.panZoom;function ou(){const n=Zy(),r=Be(),s=Ky(),u=ze(Jy),a=A.useMemo(()=>{const f=h=>r.getState().nodeLookup.get(h),d=h=>{s.nodeQueue.push(h)},p=h=>{s.edgeQueue.push(h)},g=h=>{const{nodeLookup:m,nodeOrigin:S}=r.getState(),w=pd(h)?h:m.get(h.id),j=w.parentId?lp(w.position,w.measured,w.parentId,m,S):w.position,N={...w,position:j,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return dr(N)},y=(h,m,S={replace:!1})=>{d(w=>w.map(j=>{if(j.id===h){const N=typeof m=="function"?m(j):m;return S.replace&&pd(N)?N:{...j,...N}}return j}))},v=(h,m,S={replace:!1})=>{p(w=>w.map(j=>{if(j.id===h){const N=typeof m=="function"?m(j):m;return S.replace&&Yy(N)?N:{...j,...N}}return j}))};return{getNodes:()=>r.getState().nodes.map(h=>({...h})),getNode:h=>f(h)?.internals.userNode,getInternalNode:f,getEdges:()=>{const{edges:h=[]}=r.getState();return h.map(m=>({...m}))},getEdge:h=>r.getState().edgeLookup.get(h),setNodes:d,setEdges:p,addNodes:h=>{const m=Array.isArray(h)?h:[h];s.nodeQueue.push(S=>[...S,...m])},addEdges:h=>{const m=Array.isArray(h)?h:[h];s.edgeQueue.push(S=>[...S,...m])},toObject:()=>{const{nodes:h=[],edges:m=[],transform:S}=r.getState(),[w,j,N]=S;return{nodes:h.map(E=>({...E})),edges:m.map(E=>({...E})),viewport:{x:w,y:j,zoom:N}}},deleteElements:async({nodes:h=[],edges:m=[]})=>{const{nodes:S,edges:w,onNodesDelete:j,onEdgesDelete:N,triggerNodeChanges:E,triggerEdgeChanges:C,onDelete:x,onBeforeDelete:k}=r.getState(),{nodes:_,edges:P}=await j0({nodesToRemove:h,edgesToRemove:m,nodes:S,edges:w,onBeforeDelete:k}),T=P.length>0,O=_.length>0;if(T){const F=P.map(dd);N?.(P),C(F)}if(O){const F=_.map(dd);j?.(_),E(F)}return(O||T)&&x?.({nodes:_,edges:P}),{deletedNodes:_,deletedEdges:P}},getIntersectingNodes:(h,m=!0,S)=>{const w=Vf(h),j=w?h:g(h),N=S!==void 0;return j?(S||r.getState().nodes).filter(E=>{const C=r.getState().nodeLookup.get(E.id);if(C&&!w&&(E.id===h.id||!C.internals.positionAbsolute))return!1;const x=dr(N?E:C),k=si(x,j);return m&&k>0||k>=x.width*x.height||k>=j.width*j.height}):[]},isNodeIntersecting:(h,m,S=!0)=>{const j=Vf(h)?h:g(h);if(!j)return!1;const N=si(j,m);return S&&N>0||N>=m.width*m.height||N>=j.width*j.height},updateNode:y,updateNodeData:(h,m,S={replace:!1})=>{y(h,w=>{const j=typeof m=="function"?m(w):m;return S.replace?{...w,data:j}:{...w,data:{...w.data,...j}}},S)},updateEdge:v,updateEdgeData:(h,m,S={replace:!1})=>{v(h,w=>{const j=typeof m=="function"?m(w):m;return S.replace?{...w,data:j}:{...w,data:{...w.data,...j}}},S)},getNodesBounds:h=>{const{nodeLookup:m,nodeOrigin:S}=r.getState();return C0(h,{nodeLookup:m,nodeOrigin:S})},getHandleConnections:({type:h,id:m,nodeId:S})=>Array.from(r.getState().connectionLookup.get(`${S}-${h}${m?`-${m}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:m,nodeId:S})=>Array.from(r.getState().connectionLookup.get(`${S}${h?m?`-${h}-${m}`:`-${h}`:""}`)?.values()??[]),fitView:async h=>{const m=r.getState().fitViewResolver??T0();return r.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:m}),s.nodeQueue.push(S=>[...S]),m.promise}}},[]);return A.useMemo(()=>({...a,...n,viewportInitialized:u}),[u])}const gd=n=>n.selected,ev=typeof window<"u"?window:void 0;function tv({deleteKeyCode:n,multiSelectionKeyCode:r}){const s=Be(),{deleteElements:u}=ou(),a=ai(n,{actInsideInputWithModifier:!1}),f=ai(r,{target:ev});A.useEffect(()=>{if(a){const{edges:d,nodes:p}=s.getState();u({nodes:p.filter(gd),edges:d.filter(gd)}),s.setState({nodesSelectionActive:!1})}},[a]),A.useEffect(()=>{s.setState({multiSelectionActive:f})},[f])}function nv(n){const r=Be();A.useEffect(()=>{const s=()=>{if(!n.current||!(n.current.checkVisibility?.()??!0))return!1;const u=Ga(n.current);(u.height===0||u.width===0)&&r.getState().onError?.("004",an.error004()),r.setState({width:u.width||500,height:u.height||500})};if(n.current){s(),window.addEventListener("resize",s);const u=new ResizeObserver(()=>s());return u.observe(n.current),()=>{window.removeEventListener("resize",s),u&&n.current&&u.unobserve(n.current)}}},[])}const Vs={position:"absolute",width:"100%",height:"100%",top:0,left:0},ov=n=>({userSelectionActive:n.userSelectionActive,lib:n.lib,connectionInProgress:n.connection.inProgress});function rv({onPaneContextMenu:n,zoomOnScroll:r=!0,zoomOnPinch:s=!0,panOnScroll:u=!1,panOnScrollSpeed:a=.5,panOnScrollMode:f=yo.Free,zoomOnDoubleClick:d=!0,panOnDrag:p=!0,defaultViewport:g,translateExtent:y,minZoom:v,maxZoom:h,zoomActivationKeyCode:m,preventScrolling:S=!0,children:w,noWheelClassName:j,noPanClassName:N,onViewportChange:E,isControlledViewport:C,paneClickDistance:x,selectionOnDrag:k}){const _=Be(),P=A.useRef(null),{userSelectionActive:T,lib:O,connectionInProgress:F}=ze(ov,Oe),X=ai(m),L=A.useRef();nv(P);const q=A.useCallback(W=>{E?.({x:W[0],y:W[1],zoom:W[2]}),C||_.setState({transform:W})},[E,C]);return A.useEffect(()=>{if(P.current){L.current=gy({domNode:P.current,minZoom:v,maxZoom:h,translateExtent:y,viewport:g,onDraggingChange:D=>_.setState({paneDragging:D}),onPanZoomStart:(D,V)=>{const{onViewportChangeStart:B,onMoveStart:H}=_.getState();H?.(D,V),B?.(V)},onPanZoom:(D,V)=>{const{onViewportChange:B,onMove:H}=_.getState();H?.(D,V),B?.(V)},onPanZoomEnd:(D,V)=>{const{onViewportChangeEnd:B,onMoveEnd:H}=_.getState();H?.(D,V),B?.(V)}});const{x:W,y:M,zoom:$}=L.current.getViewport();return _.setState({panZoom:L.current,transform:[W,M,$],domNode:P.current.closest(".react-flow")}),()=>{L.current?.destroy()}}},[]),A.useEffect(()=>{L.current?.update({onPaneContextMenu:n,zoomOnScroll:r,zoomOnPinch:s,panOnScroll:u,panOnScrollSpeed:a,panOnScrollMode:f,zoomOnDoubleClick:d,panOnDrag:p,zoomActivationKeyPressed:X,preventScrolling:S,noPanClassName:N,userSelectionActive:T,noWheelClassName:j,lib:O,onTransformChange:q,connectionInProgress:F,selectionOnDrag:k,paneClickDistance:x})},[n,r,s,u,a,f,d,p,X,S,N,T,j,O,q,F,k,x]),z.jsx("div",{className:"react-flow__renderer",ref:P,style:Vs,children:w})}const iv=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function sv(){const{userSelectionActive:n,userSelectionRect:r}=ze(iv,Oe);return n&&r?z.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const ka=(n,r)=>s=>{s.target===r.current&&n?.(s)},lv=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,connectionInProgress:n.connection.inProgress,dragging:n.paneDragging});function av({isSelecting:n,selectionKeyPressed:r,selectionMode:s=ii.Full,panOnDrag:u,paneClickDistance:a,selectionOnDrag:f,onSelectionStart:d,onSelectionEnd:p,onPaneClick:g,onPaneContextMenu:y,onPaneScroll:v,onPaneMouseEnter:h,onPaneMouseMove:m,onPaneMouseLeave:S,children:w}){const j=Be(),{userSelectionActive:N,elementsSelectable:E,dragging:C,connectionInProgress:x}=ze(lv,Oe),k=E&&(n||N),_=A.useRef(null),P=A.useRef(),T=A.useRef(new Set),O=A.useRef(new Set),F=A.useRef(!1),X=B=>{if(F.current||x){F.current=!1;return}g?.(B),j.getState().resetSelectedElements(),j.setState({nodesSelectionActive:!1})},L=B=>{if(Array.isArray(u)&&u?.includes(2)){B.preventDefault();return}y?.(B)},q=v?B=>v(B):void 0,W=B=>{F.current&&(B.stopPropagation(),F.current=!1)},M=B=>{const{domNode:H}=j.getState();if(P.current=H?.getBoundingClientRect(),!P.current)return;const K=B.target===_.current;if(!K&&!!B.target.closest(".nokey")||!n||!(f&&K||r)||B.button!==0||!B.isPrimary)return;B.target?.setPointerCapture?.(B.pointerId),F.current=!1;const{x:re,y:ee}=Gt(B.nativeEvent,P.current);j.setState({userSelectionRect:{width:0,height:0,startX:re,startY:ee,x:re,y:ee}}),K||(B.stopPropagation(),B.preventDefault())},$=B=>{const{userSelectionRect:H,transform:K,nodeLookup:G,edgeLookup:Q,connectionLookup:re,triggerNodeChanges:ee,triggerEdgeChanges:ae,defaultEdgeOptions:de,resetSelectedElements:ce}=j.getState();if(!P.current||!H)return;const{x:oe,y:le}=Gt(B.nativeEvent,P.current),{startX:xe,startY:be}=H;if(!F.current){const Ne=r?0:a;if(Math.hypot(oe-xe,le-be)<=Ne)return;ce(),d?.(B)}F.current=!0;const fe={startX:xe,startY:be,x:oe<xe?oe:xe,y:le<be?le:be,width:Math.abs(oe-xe),height:Math.abs(le-be)},pe=T.current,Me=O.current;T.current=new Set(Xa(G,fe,K,s===ii.Partial,!0).map(Ne=>Ne.id)),O.current=new Set;const _e=de?.selectable??!0;for(const Ne of T.current){const De=re.get(Ne);if(De)for(const{edgeId:_t}of De.values()){const wt=Q.get(_t);wt&&(wt.selectable??_e)&&O.current.add(_t)}}if(!Uf(pe,T.current)){const Ne=lr(G,T.current,!0);ee(Ne)}if(!Uf(Me,O.current)){const Ne=lr(Q,O.current);ae(Ne)}j.setState({userSelectionRect:fe,userSelectionActive:!0,nodesSelectionActive:!1})},D=B=>{B.button===0&&(B.target?.releasePointerCapture?.(B.pointerId),!N&&B.target===_.current&&j.getState().userSelectionRect&&X?.(B),j.setState({userSelectionActive:!1,userSelectionRect:null}),F.current&&(p?.(B),j.setState({nodesSelectionActive:T.current.size>0})))},V=u===!0||Array.isArray(u)&&u.includes(0);return z.jsxs("div",{className:et(["react-flow__pane",{draggable:V,dragging:C,selection:n}]),onClick:k?void 0:ka(X,_),onContextMenu:ka(L,_),onWheel:ka(q,_),onPointerEnter:k?void 0:h,onPointerMove:k?$:m,onPointerUp:k?D:void 0,onPointerDownCapture:k?M:void 0,onClickCapture:k?W:void 0,onPointerLeave:S,ref:_,style:Vs,children:[w,z.jsx(sv,{})]})}function La({id:n,store:r,unselect:s=!1,nodeRef:u}){const{addSelectedNodes:a,unselectNodesAndEdges:f,multiSelectionActive:d,nodeLookup:p,onError:g}=r.getState(),y=p.get(n);if(!y){g?.("012",an.error012(n));return}r.setState({nodesSelectionActive:!1}),y.selected?(s||y.selected&&d)&&(f({nodes:[y],edges:[]}),requestAnimationFrame(()=>u?.current?.blur())):a([n])}function Rp({nodeRef:n,disabled:r=!1,noDragClassName:s,handleSelector:u,nodeId:a,isSelectable:f,nodeClickDistance:d}){const p=Be(),[g,y]=A.useState(!1),v=A.useRef();return A.useEffect(()=>{v.current=ty({getStoreItems:()=>p.getState(),onNodeMouseDown:h=>{La({id:h,store:p,nodeRef:n})},onDragStart:()=>{y(!0)},onDragStop:()=>{y(!1)}})},[]),A.useEffect(()=>{if(r)v.current?.destroy();else if(n.current)return v.current?.update({noDragClassName:s,handleSelector:u,domNode:n.current,isSelectable:f,nodeId:a,nodeClickDistance:d}),()=>{v.current?.destroy()}},[s,u,r,f,n,a]),g}const uv=n=>r=>r.selected&&(r.draggable||n&&typeof r.draggable>"u");function Fp(){const n=Be();return A.useCallback(s=>{const{nodeExtent:u,snapToGrid:a,snapGrid:f,nodesDraggable:d,onError:p,updateNodePositions:g,nodeLookup:y,nodeOrigin:v}=n.getState(),h=new Map,m=uv(d),S=a?f[0]:5,w=a?f[1]:5,j=s.direction.x*S*s.factor,N=s.direction.y*w*s.factor;for(const[,E]of y){if(!m(E))continue;let C={x:E.internals.positionAbsolute.x+j,y:E.internals.positionAbsolute.y+N};a&&(C=pi(C,f));const{position:x,positionAbsolute:k}=np({nodeId:E.id,nextPosition:C,nodeLookup:y,nodeExtent:u,nodeOrigin:v,onError:p});E.position=x,E.internals.positionAbsolute=k,h.set(E.id,E)}g(h)},[])}const ru=A.createContext(null),cv=ru.Provider;ru.Consumer;const Lp=()=>A.useContext(ru),fv=n=>({connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName,rfId:n.rfId}),dv=(n,r,s)=>u=>{const{connectionClickStartHandle:a,connectionMode:f,connection:d}=u,{fromHandle:p,toHandle:g,isValid:y}=d,v=g?.nodeId===n&&g?.id===r&&g?.type===s;return{connectingFrom:p?.nodeId===n&&p?.id===r&&p?.type===s,connectingTo:v,clickConnecting:a?.nodeId===n&&a?.id===r&&a?.type===s,isPossibleEndHandle:f===cr.Strict?p?.type!==s:n!==p?.nodeId||r!==p?.id,connectionInProcess:!!p,clickConnectionInProcess:!!a,valid:v&&y}};function pv({type:n="source",position:r=ue.Top,isValidConnection:s,isConnectable:u=!0,isConnectableStart:a=!0,isConnectableEnd:f=!0,id:d,onConnect:p,children:g,className:y,onMouseDown:v,onTouchStart:h,...m},S){const w=d||null,j=n==="target",N=Be(),E=Lp(),{connectOnClick:C,noPanClassName:x,rfId:k}=ze(fv,Oe),{connectingFrom:_,connectingTo:P,clickConnecting:T,isPossibleEndHandle:O,connectionInProcess:F,clickConnectionInProcess:X,valid:L}=ze(dv(E,w,n),Oe);E||N.getState().onError?.("010",an.error010());const q=$=>{const{defaultEdgeOptions:D,onConnect:V,hasDefaultEdges:B}=N.getState(),H={...D,...$};if(B){const{edges:K,setEdges:G}=N.getState();G(hp(H,K))}V?.(H),p?.(H)},W=$=>{if(!E)return;const D=cp($.nativeEvent);if(a&&(D&&$.button===0||!D)){const V=N.getState();Fa.onPointerDown($.nativeEvent,{handleDomNode:$.currentTarget,autoPanOnConnect:V.autoPanOnConnect,connectionMode:V.connectionMode,connectionRadius:V.connectionRadius,domNode:V.domNode,nodeLookup:V.nodeLookup,lib:V.lib,isTarget:j,handleId:w,nodeId:E,flowId:V.rfId,panBy:V.panBy,cancelConnection:V.cancelConnection,onConnectStart:V.onConnectStart,onConnectEnd:V.onConnectEnd,updateConnection:V.updateConnection,onConnect:q,isValidConnection:s||V.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:V.autoPanSpeed,dragThreshold:V.connectionDragThreshold})}D?v?.($):h?.($)},M=$=>{const{onClickConnectStart:D,onClickConnectEnd:V,connectionClickStartHandle:B,connectionMode:H,isValidConnection:K,lib:G,rfId:Q,nodeLookup:re,connection:ee}=N.getState();if(!E||!B&&!a)return;if(!B){D?.($.nativeEvent,{nodeId:E,handleId:w,handleType:n}),N.setState({connectionClickStartHandle:{nodeId:E,type:n,id:w}});return}const ae=ap($.target),de=s||K,{connection:ce,isValid:oe}=Fa.isValid($.nativeEvent,{handle:{nodeId:E,id:w,type:n},connectionMode:H,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:de,flowId:Q,doc:ae,lib:G,nodeLookup:re});oe&&ce&&q(ce);const le=structuredClone(ee);delete le.inProgress,le.toPosition=le.toHandle?le.toHandle.position:null,V?.($,le),N.setState({connectionClickStartHandle:null})};return z.jsx("div",{"data-handleid":w,"data-nodeid":E,"data-handlepos":r,"data-id":`${k}-${E}-${w}-${n}`,className:et(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",x,y,{source:!j,target:j,connectable:u,connectablestart:a,connectableend:f,clickconnecting:T,connectingfrom:_,connectingto:P,valid:L,connectionindicator:u&&(!F||O)&&(F||X?f:a)}]),onMouseDown:W,onTouchStart:W,onClick:C?M:void 0,ref:S,...m,children:g})}const un=A.memo($p(pv));function hv({data:n,isConnectable:r,sourcePosition:s=ue.Bottom}){return z.jsxs(z.Fragment,{children:[n?.label,z.jsx(un,{type:"source",position:s,isConnectable:r})]})}function gv({data:n,isConnectable:r,targetPosition:s=ue.Top,sourcePosition:u=ue.Bottom}){return z.jsxs(z.Fragment,{children:[z.jsx(un,{type:"target",position:s,isConnectable:r}),n?.label,z.jsx(un,{type:"source",position:u,isConnectable:r})]})}function mv(){return null}function yv({data:n,isConnectable:r,targetPosition:s=ue.Top}){return z.jsxs(z.Fragment,{children:[z.jsx(un,{type:"target",position:s,isConnectable:r}),n?.label]})}const Ts={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},md={input:hv,default:gv,output:yv,group:mv};function vv(n){return n.internals.handleBounds===void 0?{width:n.width??n.initialWidth??n.style?.width,height:n.height??n.initialHeight??n.style?.height}:{width:n.width??n.style?.width,height:n.height??n.style?.height}}const bv=n=>{const{width:r,height:s,x:u,y:a}=di(n.nodeLookup,{filter:f=>!!f.selected});return{width:Qt(r)?r:null,height:Qt(s)?s:null,userSelectionActive:n.userSelectionActive,transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]}) translate(${u}px,${a}px)`}};function xv({onSelectionContextMenu:n,noPanClassName:r,disableKeyboardA11y:s}){const u=Be(),{width:a,height:f,transformString:d,userSelectionActive:p}=ze(bv,Oe),g=Fp(),y=A.useRef(null);if(A.useEffect(()=>{s||y.current?.focus({preventScroll:!0})},[s]),Rp({nodeRef:y}),p||!a||!f)return null;const v=n?m=>{const S=u.getState().nodes.filter(w=>w.selected);n(m,S)}:void 0,h=m=>{Object.prototype.hasOwnProperty.call(Ts,m.key)&&(m.preventDefault(),g({direction:Ts[m.key],factor:m.shiftKey?4:1}))};return z.jsx("div",{className:et(["react-flow__nodesselection","react-flow__container",r]),style:{transform:d},children:z.jsx("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:s?void 0:-1,onKeyDown:s?void 0:h,style:{width:a,height:f}})})}const yd=typeof window<"u"?window:void 0,wv=n=>({nodesSelectionActive:n.nodesSelectionActive,userSelectionActive:n.userSelectionActive});function Op({children:n,onPaneClick:r,onPaneMouseEnter:s,onPaneMouseMove:u,onPaneMouseLeave:a,onPaneContextMenu:f,onPaneScroll:d,paneClickDistance:p,deleteKeyCode:g,selectionKeyCode:y,selectionOnDrag:v,selectionMode:h,onSelectionStart:m,onSelectionEnd:S,multiSelectionKeyCode:w,panActivationKeyCode:j,zoomActivationKeyCode:N,elementsSelectable:E,zoomOnScroll:C,zoomOnPinch:x,panOnScroll:k,panOnScrollSpeed:_,panOnScrollMode:P,zoomOnDoubleClick:T,panOnDrag:O,defaultViewport:F,translateExtent:X,minZoom:L,maxZoom:q,preventScrolling:W,onSelectionContextMenu:M,noWheelClassName:$,noPanClassName:D,disableKeyboardA11y:V,onViewportChange:B,isControlledViewport:H}){const{nodesSelectionActive:K,userSelectionActive:G}=ze(wv,Oe),Q=ai(y,{target:yd}),re=ai(j,{target:yd}),ee=re||O,ae=re||k,de=v&&ee!==!0,ce=Q||G||de;return tv({deleteKeyCode:g,multiSelectionKeyCode:w}),z.jsx(rv,{onPaneContextMenu:f,elementsSelectable:E,zoomOnScroll:C,zoomOnPinch:x,panOnScroll:ae,panOnScrollSpeed:_,panOnScrollMode:P,zoomOnDoubleClick:T,panOnDrag:!Q&&ee,defaultViewport:F,translateExtent:X,minZoom:L,maxZoom:q,zoomActivationKeyCode:N,preventScrolling:W,noWheelClassName:$,noPanClassName:D,onViewportChange:B,isControlledViewport:H,paneClickDistance:p,selectionOnDrag:de,children:z.jsxs(av,{onSelectionStart:m,onSelectionEnd:S,onPaneClick:r,onPaneMouseEnter:s,onPaneMouseMove:u,onPaneMouseLeave:a,onPaneContextMenu:f,onPaneScroll:d,panOnDrag:ee,isSelecting:!!ce,selectionMode:h,selectionKeyPressed:Q,paneClickDistance:p,selectionOnDrag:de,children:[n,K&&z.jsx(xv,{onSelectionContextMenu:M,noPanClassName:D,disableKeyboardA11y:V})]})})}Op.displayName="FlowRenderer";const Sv=A.memo(Op),Ev=n=>r=>n?Xa(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(s=>s.id):Array.from(r.nodeLookup.keys());function kv(n){return ze(A.useCallback(Ev(n),[n]),Oe)}const Cv=n=>n.updateNodeInternals;function Nv(){const n=ze(Cv),[r]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(s=>{const u=new Map;s.forEach(a=>{const f=a.target.getAttribute("data-id");u.set(f,{id:f,nodeElement:a.target,force:!0})}),n(u)}));return A.useEffect(()=>()=>{r?.disconnect()},[r]),r}function zv({node:n,nodeType:r,hasDimensions:s,resizeObserver:u}){const a=Be(),f=A.useRef(null),d=A.useRef(null),p=A.useRef(n.sourcePosition),g=A.useRef(n.targetPosition),y=A.useRef(r),v=s&&!!n.internals.handleBounds;return A.useEffect(()=>{f.current&&!n.hidden&&(!v||d.current!==f.current)&&(d.current&&u?.unobserve(d.current),u?.observe(f.current),d.current=f.current)},[v,n.hidden]),A.useEffect(()=>()=>{d.current&&(u?.unobserve(d.current),d.current=null)},[]),A.useEffect(()=>{if(f.current){const h=y.current!==r,m=p.current!==n.sourcePosition,S=g.current!==n.targetPosition;(h||m||S)&&(y.current=r,p.current=n.sourcePosition,g.current=n.targetPosition,a.getState().updateNodeInternals(new Map([[n.id,{id:n.id,nodeElement:f.current,force:!0}]])))}},[n.id,r,n.sourcePosition,n.targetPosition]),f}function Mv({id:n,onClick:r,onMouseEnter:s,onMouseMove:u,onMouseLeave:a,onContextMenu:f,onDoubleClick:d,nodesDraggable:p,elementsSelectable:g,nodesConnectable:y,nodesFocusable:v,resizeObserver:h,noDragClassName:m,noPanClassName:S,disableKeyboardA11y:w,rfId:j,nodeTypes:N,nodeClickDistance:E,onError:C}){const{node:x,internals:k,isParent:_}=ze(oe=>{const le=oe.nodeLookup.get(n),xe=oe.parentLookup.has(n);return{node:le,internals:le.internals,isParent:xe}},Oe);let P=x.type||"default",T=N?.[P]||md[P];T===void 0&&(C?.("003",an.error003(P)),P="default",T=N?.default||md.default);const O=!!(x.draggable||p&&typeof x.draggable>"u"),F=!!(x.selectable||g&&typeof x.selectable>"u"),X=!!(x.connectable||y&&typeof x.connectable>"u"),L=!!(x.focusable||v&&typeof x.focusable>"u"),q=Be(),W=sp(x),M=zv({node:x,nodeType:P,hasDimensions:W,resizeObserver:h}),$=Rp({nodeRef:M,disabled:x.hidden||!O,noDragClassName:m,handleSelector:x.dragHandle,nodeId:n,isSelectable:F,nodeClickDistance:E}),D=Fp();if(x.hidden)return null;const V=En(x),B=vv(x),H=F||O||r||s||u||a,K=s?oe=>s(oe,{...k.userNode}):void 0,G=u?oe=>u(oe,{...k.userNode}):void 0,Q=a?oe=>a(oe,{...k.userNode}):void 0,re=f?oe=>f(oe,{...k.userNode}):void 0,ee=d?oe=>d(oe,{...k.userNode}):void 0,ae=oe=>{const{selectNodesOnDrag:le,nodeDragThreshold:xe}=q.getState();F&&(!le||!O||xe>0)&&La({id:n,store:q,nodeRef:M}),r&&r(oe,{...k.userNode})},de=oe=>{if(!(up(oe.nativeEvent)||w)){if(Gd.includes(oe.key)&&F){const le=oe.key==="Escape";La({id:n,store:q,unselect:le,nodeRef:M})}else if(O&&x.selected&&Object.prototype.hasOwnProperty.call(Ts,oe.key)){oe.preventDefault();const{ariaLabelConfig:le}=q.getState();q.setState({ariaLiveMessage:le["node.a11yDescription.ariaLiveMessage"]({direction:oe.key.replace("Arrow","").toLowerCase(),x:~~k.positionAbsolute.x,y:~~k.positionAbsolute.y})}),D({direction:Ts[oe.key],factor:oe.shiftKey?4:1})}}},ce=()=>{if(w||!M.current?.matches(":focus-visible"))return;const{transform:oe,width:le,height:xe,autoPanOnNodeFocus:be,setCenter:fe}=q.getState();if(!be)return;Xa(new Map([[n,x]]),{x:0,y:0,width:le,height:xe},oe,!0).length>0||fe(x.position.x+V.width/2,x.position.y+V.height/2,{zoom:oe[2]})};return z.jsx("div",{className:et(["react-flow__node",`react-flow__node-${P}`,{[S]:O},x.className,{selected:x.selected,selectable:F,parent:_,draggable:O,dragging:$}]),ref:M,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:W?"visible":"hidden",...x.style,...B},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:K,onMouseMove:G,onMouseLeave:Q,onContextMenu:re,onClick:ae,onDoubleClick:ee,onKeyDown:L?de:void 0,tabIndex:L?0:void 0,onFocus:L?ce:void 0,role:x.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${jp}-${j}`,"aria-label":x.ariaLabel,...x.domAttributes,children:z.jsx(cv,{value:n,children:z.jsx(T,{id:n,data:x.data,type:P,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:x.selected??!1,selectable:F,draggable:O,deletable:x.deletable??!0,isConnectable:X,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:$,dragHandle:x.dragHandle,zIndex:k.z,parentId:x.parentId,...V})})})}var jv=A.memo(Mv);const Iv=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,onError:n.onError});function Bp(n){const{nodesDraggable:r,nodesConnectable:s,nodesFocusable:u,elementsSelectable:a,onError:f}=ze(Iv,Oe),d=kv(n.onlyRenderVisibleElements),p=Nv();return z.jsx("div",{className:"react-flow__nodes",style:Vs,children:d.map(g=>z.jsx(jv,{id:g,nodeTypes:n.nodeTypes,nodeExtent:n.nodeExtent,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,resizeObserver:p,nodesDraggable:r,nodesConnectable:s,nodesFocusable:u,elementsSelectable:a,nodeClickDistance:n.nodeClickDistance,onError:f},g))})}Bp.displayName="NodeRenderer";const Pv=A.memo(Bp);function _v(n){return ze(A.useCallback(s=>{if(!n)return s.edges.map(a=>a.id);const u=[];if(s.width&&s.height)for(const a of s.edges){const f=s.nodeLookup.get(a.source),d=s.nodeLookup.get(a.target);f&&d&&R0({sourceNode:f,targetNode:d,width:s.width,height:s.height,transform:s.transform})&&u.push(a.id)}return u},[n]),Oe)}const Tv=({color:n="none",strokeWidth:r=1})=>{const s={strokeWidth:r,...n&&{stroke:n}};return z.jsx("polyline",{className:"arrow",style:s,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Av=({color:n="none",strokeWidth:r=1})=>{const s={strokeWidth:r,...n&&{stroke:n,fill:n}};return z.jsx("polyline",{className:"arrowclosed",style:s,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},vd={[Xt.Arrow]:Tv,[Xt.ArrowClosed]:Av};function $v(n){const r=Be();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(vd,n)?vd[n]:(r.getState().onError?.("009",an.error009(n)),null),[n])}const Dv=({id:n,type:r,color:s,width:u=12.5,height:a=12.5,markerUnits:f="strokeWidth",strokeWidth:d,orient:p="auto-start-reverse"})=>{const g=$v(r);return g?z.jsx("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${u}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:f,orient:p,refX:"0",refY:"0",children:z.jsx(g,{color:s,strokeWidth:d})}):null},Hp=({defaultColor:n,rfId:r})=>{const s=ze(f=>f.edges),u=ze(f=>f.defaultEdgeOptions),a=A.useMemo(()=>U0(s,{id:r,defaultColor:n,defaultMarkerStart:u?.markerStart,defaultMarkerEnd:u?.markerEnd}),[s,u,r,n]);return a.length?z.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:z.jsx("defs",{children:a.map(f=>z.jsx(Dv,{id:f.id,type:f.type,color:f.color,width:f.width,height:f.height,markerUnits:f.markerUnits,strokeWidth:f.strokeWidth,orient:f.orient},f.id))})}):null};Hp.displayName="MarkerDefinitions";var Rv=A.memo(Hp);function Vp({x:n,y:r,label:s,labelStyle:u,labelShowBg:a=!0,labelBgStyle:f,labelBgPadding:d=[2,4],labelBgBorderRadius:p=2,children:g,className:y,...v}){const[h,m]=A.useState({x:1,y:0,width:0,height:0}),S=et(["react-flow__edge-textwrapper",y]),w=A.useRef(null);return A.useEffect(()=>{if(w.current){const j=w.current.getBBox();m({x:j.x,y:j.y,width:j.width,height:j.height})}},[s]),s?z.jsxs("g",{transform:`translate(${n-h.width/2} ${r-h.height/2})`,className:S,visibility:h.width?"visible":"hidden",...v,children:[a&&z.jsx("rect",{width:h.width+2*d[0],x:-d[0],y:-d[1],height:h.height+2*d[1],className:"react-flow__edge-textbg",style:f,rx:p,ry:p}),z.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:w,style:u,children:s}),g]}):null}Vp.displayName="EdgeText";const Fv=A.memo(Vp);function Us({path:n,labelX:r,labelY:s,label:u,labelStyle:a,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:g,interactionWidth:y=20,...v}){return z.jsxs(z.Fragment,{children:[z.jsx("path",{...v,d:n,fill:"none",className:et(["react-flow__edge-path",v.className])}),y?z.jsx("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:y,className:"react-flow__edge-interaction"}):null,u&&Qt(r)&&Qt(s)?z.jsx(Fv,{x:r,y:s,label:u,labelStyle:a,labelShowBg:f,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:g}):null]})}function bd({pos:n,x1:r,y1:s,x2:u,y2:a}){return n===ue.Left||n===ue.Right?[.5*(r+u),s]:[r,.5*(s+a)]}function Up({sourceX:n,sourceY:r,sourcePosition:s=ue.Bottom,targetX:u,targetY:a,targetPosition:f=ue.Top}){const[d,p]=bd({pos:s,x1:n,y1:r,x2:u,y2:a}),[g,y]=bd({pos:f,x1:u,y1:a,x2:n,y2:r}),[v,h,m,S]=fp({sourceX:n,sourceY:r,targetX:u,targetY:a,sourceControlX:d,sourceControlY:p,targetControlX:g,targetControlY:y});return[`M${n},${r} C${d},${p} ${g},${y} ${u},${a}`,v,h,m,S]}function Wp(n){return A.memo(({id:r,sourceX:s,sourceY:u,targetX:a,targetY:f,sourcePosition:d,targetPosition:p,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:S,style:w,markerEnd:j,markerStart:N,interactionWidth:E})=>{const[C,x,k]=Up({sourceX:s,sourceY:u,sourcePosition:d,targetX:a,targetY:f,targetPosition:p}),_=n.isInternal?void 0:r;return z.jsx(Us,{id:_,path:C,labelX:x,labelY:k,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:S,style:w,markerEnd:j,markerStart:N,interactionWidth:E})})}const Lv=Wp({isInternal:!1}),Zp=Wp({isInternal:!0});Lv.displayName="SimpleBezierEdge";Zp.displayName="SimpleBezierEdgeInternal";function qp(n){return A.memo(({id:r,sourceX:s,sourceY:u,targetX:a,targetY:f,label:d,labelStyle:p,labelShowBg:g,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:h,style:m,sourcePosition:S=ue.Bottom,targetPosition:w=ue.Top,markerEnd:j,markerStart:N,pathOptions:E,interactionWidth:C})=>{const[x,k,_]=_s({sourceX:s,sourceY:u,sourcePosition:S,targetX:a,targetY:f,targetPosition:w,borderRadius:E?.borderRadius,offset:E?.offset,stepPosition:E?.stepPosition}),P=n.isInternal?void 0:r;return z.jsx(Us,{id:P,path:x,labelX:k,labelY:_,label:d,labelStyle:p,labelShowBg:g,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:h,style:m,markerEnd:j,markerStart:N,interactionWidth:C})})}const Yp=qp({isInternal:!1}),Xp=qp({isInternal:!0});Yp.displayName="SmoothStepEdge";Xp.displayName="SmoothStepEdgeInternal";function Qp(n){return A.memo(({id:r,...s})=>{const u=n.isInternal?void 0:r;return z.jsx(Yp,{...s,id:u,pathOptions:A.useMemo(()=>({borderRadius:0,offset:s.pathOptions?.offset}),[s.pathOptions?.offset])})})}const Ov=Qp({isInternal:!1}),Gp=Qp({isInternal:!0});Ov.displayName="StepEdge";Gp.displayName="StepEdgeInternal";function Kp(n){return A.memo(({id:r,sourceX:s,sourceY:u,targetX:a,targetY:f,label:d,labelStyle:p,labelShowBg:g,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:h,style:m,markerEnd:S,markerStart:w,interactionWidth:j})=>{const[N,E,C]=gp({sourceX:s,sourceY:u,targetX:a,targetY:f}),x=n.isInternal?void 0:r;return z.jsx(Us,{id:x,path:N,labelX:E,labelY:C,label:d,labelStyle:p,labelShowBg:g,labelBgStyle:y,labelBgPadding:v,labelBgBorderRadius:h,style:m,markerEnd:S,markerStart:w,interactionWidth:j})})}const Bv=Kp({isInternal:!1}),Jp=Kp({isInternal:!0});Bv.displayName="StraightEdge";Jp.displayName="StraightEdgeInternal";function eh(n){return A.memo(({id:r,sourceX:s,sourceY:u,targetX:a,targetY:f,sourcePosition:d=ue.Bottom,targetPosition:p=ue.Top,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:S,style:w,markerEnd:j,markerStart:N,pathOptions:E,interactionWidth:C})=>{const[x,k,_]=dp({sourceX:s,sourceY:u,sourcePosition:d,targetX:a,targetY:f,targetPosition:p,curvature:E?.curvature}),P=n.isInternal?void 0:r;return z.jsx(Us,{id:P,path:x,labelX:k,labelY:_,label:g,labelStyle:y,labelShowBg:v,labelBgStyle:h,labelBgPadding:m,labelBgBorderRadius:S,style:w,markerEnd:j,markerStart:N,interactionWidth:C})})}const Hv=eh({isInternal:!1}),th=eh({isInternal:!0});Hv.displayName="BezierEdge";th.displayName="BezierEdgeInternal";const xd={default:th,straight:Jp,step:Gp,smoothstep:Xp,simplebezier:Zp},wd={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Vv=(n,r,s)=>s===ue.Left?n-r:s===ue.Right?n+r:n,Uv=(n,r,s)=>s===ue.Top?n-r:s===ue.Bottom?n+r:n,Sd="react-flow__edgeupdater";function Ed({position:n,centerX:r,centerY:s,radius:u=10,onMouseDown:a,onMouseEnter:f,onMouseOut:d,type:p}){return z.jsx("circle",{onMouseDown:a,onMouseEnter:f,onMouseOut:d,className:et([Sd,`${Sd}-${p}`]),cx:Vv(r,u,n),cy:Uv(s,u,n),r:u,stroke:"transparent",fill:"transparent"})}function Wv({isReconnectable:n,reconnectRadius:r,edge:s,sourceX:u,sourceY:a,targetX:f,targetY:d,sourcePosition:p,targetPosition:g,onReconnect:y,onReconnectStart:v,onReconnectEnd:h,setReconnecting:m,setUpdateHover:S}){const w=Be(),j=(k,_)=>{if(k.button!==0)return;const{autoPanOnConnect:P,domNode:T,isValidConnection:O,connectionMode:F,connectionRadius:X,lib:L,onConnectStart:q,onConnectEnd:W,cancelConnection:M,nodeLookup:$,rfId:D,panBy:V,updateConnection:B}=w.getState(),H=_.type==="target",K=(re,ee)=>{m(!1),h?.(re,s,_.type,ee)},G=re=>y?.(s,re),Q=(re,ee)=>{m(!0),v?.(k,s,_.type),q?.(re,ee)};Fa.onPointerDown(k.nativeEvent,{autoPanOnConnect:P,connectionMode:F,connectionRadius:X,domNode:T,handleId:_.id,nodeId:_.nodeId,nodeLookup:$,isTarget:H,edgeUpdaterType:_.type,lib:L,flowId:D,cancelConnection:M,panBy:V,isValidConnection:O,onConnect:G,onConnectStart:Q,onConnectEnd:W,onReconnectEnd:K,updateConnection:B,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:k.currentTarget})},N=k=>j(k,{nodeId:s.target,id:s.targetHandle??null,type:"target"}),E=k=>j(k,{nodeId:s.source,id:s.sourceHandle??null,type:"source"}),C=()=>S(!0),x=()=>S(!1);return z.jsxs(z.Fragment,{children:[(n===!0||n==="source")&&z.jsx(Ed,{position:p,centerX:u,centerY:a,radius:r,onMouseDown:N,onMouseEnter:C,onMouseOut:x,type:"source"}),(n===!0||n==="target")&&z.jsx(Ed,{position:g,centerX:f,centerY:d,radius:r,onMouseDown:E,onMouseEnter:C,onMouseOut:x,type:"target"})]})}function Zv({id:n,edgesFocusable:r,edgesReconnectable:s,elementsSelectable:u,onClick:a,onDoubleClick:f,onContextMenu:d,onMouseEnter:p,onMouseMove:g,onMouseLeave:y,reconnectRadius:v,onReconnect:h,onReconnectStart:m,onReconnectEnd:S,rfId:w,edgeTypes:j,noPanClassName:N,onError:E,disableKeyboardA11y:C}){let x=ze(fe=>fe.edgeLookup.get(n));const k=ze(fe=>fe.defaultEdgeOptions);x=k?{...k,...x}:x;let _=x.type||"default",P=j?.[_]||xd[_];P===void 0&&(E?.("011",an.error011(_)),_="default",P=j?.default||xd.default);const T=!!(x.focusable||r&&typeof x.focusable>"u"),O=typeof h<"u"&&(x.reconnectable||s&&typeof x.reconnectable>"u"),F=!!(x.selectable||u&&typeof x.selectable>"u"),X=A.useRef(null),[L,q]=A.useState(!1),[W,M]=A.useState(!1),$=Be(),{zIndex:D,sourceX:V,sourceY:B,targetX:H,targetY:K,sourcePosition:G,targetPosition:Q}=ze(A.useCallback(fe=>{const pe=fe.nodeLookup.get(x.source),Me=fe.nodeLookup.get(x.target);if(!pe||!Me)return{zIndex:x.zIndex,...wd};const _e=V0({id:n,sourceNode:pe,targetNode:Me,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:fe.connectionMode,onError:E});return{zIndex:D0({selected:x.selected,zIndex:x.zIndex,sourceNode:pe,targetNode:Me,elevateOnSelect:fe.elevateEdgesOnSelect,zIndexMode:fe.zIndexMode}),..._e||wd}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),Oe),re=A.useMemo(()=>x.markerStart?`url('#${Da(x.markerStart,w)}')`:void 0,[x.markerStart,w]),ee=A.useMemo(()=>x.markerEnd?`url('#${Da(x.markerEnd,w)}')`:void 0,[x.markerEnd,w]);if(x.hidden||V===null||B===null||H===null||K===null)return null;const ae=fe=>{const{addSelectedEdges:pe,unselectNodesAndEdges:Me,multiSelectionActive:_e}=$.getState();F&&($.setState({nodesSelectionActive:!1}),x.selected&&_e?(Me({nodes:[],edges:[x]}),X.current?.blur()):pe([n])),a&&a(fe,x)},de=f?fe=>{f(fe,{...x})}:void 0,ce=d?fe=>{d(fe,{...x})}:void 0,oe=p?fe=>{p(fe,{...x})}:void 0,le=g?fe=>{g(fe,{...x})}:void 0,xe=y?fe=>{y(fe,{...x})}:void 0,be=fe=>{if(!C&&Gd.includes(fe.key)&&F){const{unselectNodesAndEdges:pe,addSelectedEdges:Me}=$.getState();fe.key==="Escape"?(X.current?.blur(),pe({edges:[x]})):Me([n])}};return z.jsx("svg",{style:{zIndex:D},children:z.jsxs("g",{className:et(["react-flow__edge",`react-flow__edge-${_}`,x.className,N,{selected:x.selected,animated:x.animated,inactive:!F&&!a,updating:L,selectable:F}]),onClick:ae,onDoubleClick:de,onContextMenu:ce,onMouseEnter:oe,onMouseMove:le,onMouseLeave:xe,onKeyDown:T?be:void 0,tabIndex:T?0:void 0,role:x.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":n,"data-testid":`rf__edge-${n}`,"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||`Edge from ${x.source} to ${x.target}`,"aria-describedby":T?`${Ip}-${w}`:void 0,ref:X,...x.domAttributes,children:[!W&&z.jsx(P,{id:n,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:F,deletable:x.deletable??!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:V,sourceY:B,targetX:H,targetY:K,sourcePosition:G,targetPosition:Q,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:re,markerEnd:ee,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),O&&z.jsx(Wv,{edge:x,isReconnectable:O,reconnectRadius:v,onReconnect:h,onReconnectStart:m,onReconnectEnd:S,sourceX:V,sourceY:B,targetX:H,targetY:K,sourcePosition:G,targetPosition:Q,setUpdateHover:q,setReconnecting:M})]})})}var qv=A.memo(Zv);const Yv=n=>({edgesFocusable:n.edgesFocusable,edgesReconnectable:n.edgesReconnectable,elementsSelectable:n.elementsSelectable,connectionMode:n.connectionMode,onError:n.onError});function nh({defaultMarkerColor:n,onlyRenderVisibleElements:r,rfId:s,edgeTypes:u,noPanClassName:a,onReconnect:f,onEdgeContextMenu:d,onEdgeMouseEnter:p,onEdgeMouseMove:g,onEdgeMouseLeave:y,onEdgeClick:v,reconnectRadius:h,onEdgeDoubleClick:m,onReconnectStart:S,onReconnectEnd:w,disableKeyboardA11y:j}){const{edgesFocusable:N,edgesReconnectable:E,elementsSelectable:C,onError:x}=ze(Yv,Oe),k=_v(r);return z.jsxs("div",{className:"react-flow__edges",children:[z.jsx(Rv,{defaultColor:n,rfId:s}),k.map(_=>z.jsx(qv,{id:_,edgesFocusable:N,edgesReconnectable:E,elementsSelectable:C,noPanClassName:a,onReconnect:f,onContextMenu:d,onMouseEnter:p,onMouseMove:g,onMouseLeave:y,onClick:v,reconnectRadius:h,onDoubleClick:m,onReconnectStart:S,onReconnectEnd:w,rfId:s,onError:x,edgeTypes:u,disableKeyboardA11y:j},_))]})}nh.displayName="EdgeRenderer";const Xv=A.memo(nh),Qv=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function Gv({children:n}){const r=ze(Qv);return z.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:n})}function Kv(n){const r=ou(),s=A.useRef(!1);A.useEffect(()=>{!s.current&&r.viewportInitialized&&n&&(setTimeout(()=>n(r),1),s.current=!0)},[n,r.viewportInitialized])}const Jv=n=>n.panZoom?.syncViewport;function eb(n){const r=ze(Jv),s=Be();return A.useEffect(()=>{n&&(r?.(n),s.setState({transform:[n.x,n.y,n.zoom]}))},[n,r]),null}function tb(n){return n.connection.inProgress?{...n.connection,to:hi(n.connection.to,n.transform)}:{...n.connection}}function nb(n){return tb}function ob(n){const r=nb();return ze(r,Oe)}const rb=n=>({nodesConnectable:n.nodesConnectable,isValid:n.connection.isValid,inProgress:n.connection.inProgress,width:n.width,height:n.height});function ib({containerStyle:n,style:r,type:s,component:u}){const{nodesConnectable:a,width:f,height:d,isValid:p,inProgress:g}=ze(rb,Oe);return!(f&&a&&g)?null:z.jsx("svg",{style:n,width:f,height:d,className:"react-flow__connectionline react-flow__container",children:z.jsx("g",{className:et(["react-flow__connection",ep(p)]),children:z.jsx(oh,{style:r,type:s,CustomComponent:u,isValid:p})})})}const oh=({style:n,type:r=Hn.Bezier,CustomComponent:s,isValid:u})=>{const{inProgress:a,from:f,fromNode:d,fromHandle:p,fromPosition:g,to:y,toNode:v,toHandle:h,toPosition:m,pointer:S}=ob();if(!a)return;if(s)return z.jsx(s,{connectionLineType:r,connectionLineStyle:n,fromNode:d,fromHandle:p,fromX:f.x,fromY:f.y,toX:y.x,toY:y.y,fromPosition:g,toPosition:m,connectionStatus:ep(u),toNode:v,toHandle:h,pointer:S});let w="";const j={sourceX:f.x,sourceY:f.y,sourcePosition:g,targetX:y.x,targetY:y.y,targetPosition:m};switch(r){case Hn.Bezier:[w]=dp(j);break;case Hn.SimpleBezier:[w]=Up(j);break;case Hn.Step:[w]=_s({...j,borderRadius:0});break;case Hn.SmoothStep:[w]=_s(j);break;default:[w]=gp(j)}return z.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};oh.displayName="ConnectionLine";const sb={};function kd(n=sb){A.useRef(n),Be(),A.useEffect(()=>{},[n])}function lb(){Be(),A.useRef(!1),A.useEffect(()=>{},[])}function rh({nodeTypes:n,edgeTypes:r,onInit:s,onNodeClick:u,onEdgeClick:a,onNodeDoubleClick:f,onEdgeDoubleClick:d,onNodeMouseEnter:p,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:v,onSelectionContextMenu:h,onSelectionStart:m,onSelectionEnd:S,connectionLineType:w,connectionLineStyle:j,connectionLineComponent:N,connectionLineContainerStyle:E,selectionKeyCode:C,selectionOnDrag:x,selectionMode:k,multiSelectionKeyCode:_,panActivationKeyCode:P,zoomActivationKeyCode:T,deleteKeyCode:O,onlyRenderVisibleElements:F,elementsSelectable:X,defaultViewport:L,translateExtent:q,minZoom:W,maxZoom:M,preventScrolling:$,defaultMarkerColor:D,zoomOnScroll:V,zoomOnPinch:B,panOnScroll:H,panOnScrollSpeed:K,panOnScrollMode:G,zoomOnDoubleClick:Q,panOnDrag:re,onPaneClick:ee,onPaneMouseEnter:ae,onPaneMouseMove:de,onPaneMouseLeave:ce,onPaneScroll:oe,onPaneContextMenu:le,paneClickDistance:xe,nodeClickDistance:be,onEdgeContextMenu:fe,onEdgeMouseEnter:pe,onEdgeMouseMove:Me,onEdgeMouseLeave:_e,reconnectRadius:Ne,onReconnect:De,onReconnectStart:_t,onReconnectEnd:wt,noDragClassName:gt,noWheelClassName:Kt,noPanClassName:St,disableKeyboardA11y:He,nodeExtent:kn,rfId:Wn,viewport:Jt,onViewportChange:Ft}){return kd(n),kd(r),lb(),Kv(s),eb(Jt),z.jsx(Sv,{onPaneClick:ee,onPaneMouseEnter:ae,onPaneMouseMove:de,onPaneMouseLeave:ce,onPaneContextMenu:le,onPaneScroll:oe,paneClickDistance:xe,deleteKeyCode:O,selectionKeyCode:C,selectionOnDrag:x,selectionMode:k,onSelectionStart:m,onSelectionEnd:S,multiSelectionKeyCode:_,panActivationKeyCode:P,zoomActivationKeyCode:T,elementsSelectable:X,zoomOnScroll:V,zoomOnPinch:B,zoomOnDoubleClick:Q,panOnScroll:H,panOnScrollSpeed:K,panOnScrollMode:G,panOnDrag:re,defaultViewport:L,translateExtent:q,minZoom:W,maxZoom:M,onSelectionContextMenu:h,preventScrolling:$,noDragClassName:gt,noWheelClassName:Kt,noPanClassName:St,disableKeyboardA11y:He,onViewportChange:Ft,isControlledViewport:!!Jt,children:z.jsxs(Gv,{children:[z.jsx(Xv,{edgeTypes:r,onEdgeClick:a,onEdgeDoubleClick:d,onReconnect:De,onReconnectStart:_t,onReconnectEnd:wt,onlyRenderVisibleElements:F,onEdgeContextMenu:fe,onEdgeMouseEnter:pe,onEdgeMouseMove:Me,onEdgeMouseLeave:_e,reconnectRadius:Ne,defaultMarkerColor:D,noPanClassName:St,disableKeyboardA11y:He,rfId:Wn}),z.jsx(ib,{style:j,type:w,component:N,containerStyle:E}),z.jsx("div",{className:"react-flow__edgelabel-renderer"}),z.jsx(Pv,{nodeTypes:n,onNodeClick:u,onNodeDoubleClick:f,onNodeMouseEnter:p,onNodeMouseMove:g,onNodeMouseLeave:y,onNodeContextMenu:v,nodeClickDistance:be,onlyRenderVisibleElements:F,noPanClassName:St,noDragClassName:gt,disableKeyboardA11y:He,nodeExtent:kn,rfId:Wn}),z.jsx("div",{className:"react-flow__viewport-portal"})]})})}rh.displayName="GraphView";const ab=A.memo(rh),Cd=({nodes:n,edges:r,defaultNodes:s,defaultEdges:u,width:a,height:f,fitView:d,fitViewOptions:p,minZoom:g=.5,maxZoom:y=2,nodeOrigin:v,nodeExtent:h,zIndexMode:m="basic"}={})=>{const S=new Map,w=new Map,j=new Map,N=new Map,E=u??r??[],C=s??n??[],x=v??[0,0],k=h??ri;vp(j,N,E);const _=Ra(C,S,w,{nodeOrigin:x,nodeExtent:k,zIndexMode:m});let P=[0,0,1];if(d&&a&&f){const T=di(S,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:O,y:F,zoom:X}=Qa(T,a,f,g,y,p?.padding??.1);P=[O,F,X]}return{rfId:"1",width:a??0,height:f??0,transform:P,nodes:C,nodesInitialized:_,nodeLookup:S,parentLookup:w,edges:E,edgeLookup:N,connectionLookup:j,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:s!==void 0,hasDefaultEdges:u!==void 0,panZoom:null,minZoom:g,maxZoom:y,translateExtent:ri,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:cr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:d??!1,fitViewOptions:p,fitViewResolver:null,connection:{...Jd},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:I0,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Kd,zIndexMode:m,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},ub=({nodes:n,edges:r,defaultNodes:s,defaultEdges:u,width:a,height:f,fitView:d,fitViewOptions:p,minZoom:g,maxZoom:y,nodeOrigin:v,nodeExtent:h,zIndexMode:m})=>zy((S,w)=>{async function j(){const{nodeLookup:N,panZoom:E,fitViewOptions:C,fitViewResolver:x,width:k,height:_,minZoom:P,maxZoom:T}=w();E&&(await M0({nodes:N,width:k,height:_,panZoom:E,minZoom:P,maxZoom:T},C),x?.resolve(!0),S({fitViewResolver:null}))}return{...Cd({nodes:n,edges:r,width:a,height:f,fitView:d,fitViewOptions:p,minZoom:g,maxZoom:y,nodeOrigin:v,nodeExtent:h,defaultNodes:s,defaultEdges:u,zIndexMode:m}),setNodes:N=>{const{nodeLookup:E,parentLookup:C,nodeOrigin:x,elevateNodesOnSelect:k,fitViewQueued:_,zIndexMode:P}=w(),T=Ra(N,E,C,{nodeOrigin:x,nodeExtent:h,elevateNodesOnSelect:k,checkEquality:!0,zIndexMode:P});_&&T?(j(),S({nodes:N,nodesInitialized:T,fitViewQueued:!1,fitViewOptions:void 0})):S({nodes:N,nodesInitialized:T})},setEdges:N=>{const{connectionLookup:E,edgeLookup:C}=w();vp(E,C,N),S({edges:N})},setDefaultNodesAndEdges:(N,E)=>{if(N){const{setNodes:C}=w();C(N),S({hasDefaultNodes:!0})}if(E){const{setEdges:C}=w();C(E),S({hasDefaultEdges:!0})}},updateNodeInternals:N=>{const{triggerNodeChanges:E,nodeLookup:C,parentLookup:x,domNode:k,nodeOrigin:_,nodeExtent:P,debug:T,fitViewQueued:O,zIndexMode:F}=w(),{changes:X,updatedInternals:L}=G0(N,C,x,k,_,P,F);L&&(q0(C,x,{nodeOrigin:_,nodeExtent:P,zIndexMode:F}),O?(j(),S({fitViewQueued:!1,fitViewOptions:void 0})):S({}),X?.length>0&&(T&&console.log("React Flow: trigger node changes",X),E?.(X)))},updateNodePositions:(N,E=!1)=>{const C=[];let x=[];const{nodeLookup:k,triggerNodeChanges:_,connection:P,updateConnection:T,onNodesChangeMiddlewareMap:O}=w();for(const[F,X]of N){const L=k.get(F),q=!!(L?.expandParent&&L?.parentId&&X?.position),W={id:F,type:"position",position:q?{x:Math.max(0,X.position.x),y:Math.max(0,X.position.y)}:X.position,dragging:E};if(L&&P.inProgress&&P.fromNode.id===L.id){const M=bo(L,P.fromHandle,ue.Left,!0);T({...P,from:M})}q&&L.parentId&&C.push({id:F,parentId:L.parentId,rect:{...X.internals.positionAbsolute,width:X.measured.width??0,height:X.measured.height??0}}),x.push(W)}if(C.length>0){const{parentLookup:F,nodeOrigin:X}=w(),L=nu(C,k,F,X);x.push(...L)}for(const F of O.values())x=F(x);_(x)},triggerNodeChanges:N=>{const{onNodesChange:E,setNodes:C,nodes:x,hasDefaultNodes:k,debug:_}=w();if(N?.length){if(k){const P=Tp(N,x);C(P)}_&&console.log("React Flow: trigger node changes",N),E?.(N)}},triggerEdgeChanges:N=>{const{onEdgesChange:E,setEdges:C,edges:x,hasDefaultEdges:k,debug:_}=w();if(N?.length){if(k){const P=Ap(N,x);C(P)}_&&console.log("React Flow: trigger edge changes",N),E?.(N)}},addSelectedNodes:N=>{const{multiSelectionActive:E,edgeLookup:C,nodeLookup:x,triggerNodeChanges:k,triggerEdgeChanges:_}=w();if(E){const P=N.map(T=>mo(T,!0));k(P);return}k(lr(x,new Set([...N]),!0)),_(lr(C))},addSelectedEdges:N=>{const{multiSelectionActive:E,edgeLookup:C,nodeLookup:x,triggerNodeChanges:k,triggerEdgeChanges:_}=w();if(E){const P=N.map(T=>mo(T,!0));_(P);return}_(lr(C,new Set([...N]))),k(lr(x,new Set,!0))},unselectNodesAndEdges:({nodes:N,edges:E}={})=>{const{edges:C,nodes:x,nodeLookup:k,triggerNodeChanges:_,triggerEdgeChanges:P}=w(),T=N||x,O=E||C,F=T.map(L=>{const q=k.get(L.id);return q&&(q.selected=!1),mo(L.id,!1)}),X=O.map(L=>mo(L.id,!1));_(F),P(X)},setMinZoom:N=>{const{panZoom:E,maxZoom:C}=w();E?.setScaleExtent([N,C]),S({minZoom:N})},setMaxZoom:N=>{const{panZoom:E,minZoom:C}=w();E?.setScaleExtent([C,N]),S({maxZoom:N})},setTranslateExtent:N=>{w().panZoom?.setTranslateExtent(N),S({translateExtent:N})},resetSelectedElements:()=>{const{edges:N,nodes:E,triggerNodeChanges:C,triggerEdgeChanges:x,elementsSelectable:k}=w();if(!k)return;const _=E.reduce((T,O)=>O.selected?[...T,mo(O.id,!1)]:T,[]),P=N.reduce((T,O)=>O.selected?[...T,mo(O.id,!1)]:T,[]);C(_),x(P)},setNodeExtent:N=>{const{nodes:E,nodeLookup:C,parentLookup:x,nodeOrigin:k,elevateNodesOnSelect:_,nodeExtent:P,zIndexMode:T}=w();N[0][0]===P[0][0]&&N[0][1]===P[0][1]&&N[1][0]===P[1][0]&&N[1][1]===P[1][1]||(Ra(E,C,x,{nodeOrigin:k,nodeExtent:N,elevateNodesOnSelect:_,checkEquality:!1,zIndexMode:T}),S({nodeExtent:N}))},panBy:N=>{const{transform:E,width:C,height:x,panZoom:k,translateExtent:_}=w();return K0({delta:N,panZoom:k,transform:E,translateExtent:_,width:C,height:x})},setCenter:async(N,E,C)=>{const{width:x,height:k,maxZoom:_,panZoom:P}=w();if(!P)return Promise.resolve(!1);const T=typeof C?.zoom<"u"?C.zoom:_;return await P.setViewport({x:x/2-N*T,y:k/2-E*T,zoom:T},{duration:C?.duration,ease:C?.ease,interpolate:C?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{S({connection:{...Jd}})},updateConnection:N=>{S({connection:N})},reset:()=>S({...Cd()})}},Object.is);function ih({initialNodes:n,initialEdges:r,defaultNodes:s,defaultEdges:u,initialWidth:a,initialHeight:f,initialMinZoom:d,initialMaxZoom:p,initialFitViewOptions:g,fitView:y,nodeOrigin:v,nodeExtent:h,zIndexMode:m,children:S}){const[w]=A.useState(()=>ub({nodes:n,edges:r,defaultNodes:s,defaultEdges:u,width:a,height:f,fitView:y,minZoom:d,maxZoom:p,fitViewOptions:g,nodeOrigin:v,nodeExtent:h,zIndexMode:m}));return z.jsx(My,{value:w,children:z.jsx(Gy,{children:S})})}function cb({children:n,nodes:r,edges:s,defaultNodes:u,defaultEdges:a,width:f,height:d,fitView:p,fitViewOptions:g,minZoom:y,maxZoom:v,nodeOrigin:h,nodeExtent:m,zIndexMode:S}){return A.useContext(Bs)?z.jsx(z.Fragment,{children:n}):z.jsx(ih,{initialNodes:r,initialEdges:s,defaultNodes:u,defaultEdges:a,initialWidth:f,initialHeight:d,fitView:p,initialFitViewOptions:g,initialMinZoom:y,initialMaxZoom:v,nodeOrigin:h,nodeExtent:m,zIndexMode:S,children:n})}const fb={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function db({nodes:n,edges:r,defaultNodes:s,defaultEdges:u,className:a,nodeTypes:f,edgeTypes:d,onNodeClick:p,onEdgeClick:g,onInit:y,onMove:v,onMoveStart:h,onMoveEnd:m,onConnect:S,onConnectStart:w,onConnectEnd:j,onClickConnectStart:N,onClickConnectEnd:E,onNodeMouseEnter:C,onNodeMouseMove:x,onNodeMouseLeave:k,onNodeContextMenu:_,onNodeDoubleClick:P,onNodeDragStart:T,onNodeDrag:O,onNodeDragStop:F,onNodesDelete:X,onEdgesDelete:L,onDelete:q,onSelectionChange:W,onSelectionDragStart:M,onSelectionDrag:$,onSelectionDragStop:D,onSelectionContextMenu:V,onSelectionStart:B,onSelectionEnd:H,onBeforeDelete:K,connectionMode:G,connectionLineType:Q=Hn.Bezier,connectionLineStyle:re,connectionLineComponent:ee,connectionLineContainerStyle:ae,deleteKeyCode:de="Backspace",selectionKeyCode:ce="Shift",selectionOnDrag:oe=!1,selectionMode:le=ii.Full,panActivationKeyCode:xe="Space",multiSelectionKeyCode:be=li()?"Meta":"Control",zoomActivationKeyCode:fe=li()?"Meta":"Control",snapToGrid:pe,snapGrid:Me,onlyRenderVisibleElements:_e=!1,selectNodesOnDrag:Ne,nodesDraggable:De,autoPanOnNodeFocus:_t,nodesConnectable:wt,nodesFocusable:gt,nodeOrigin:Kt=Pp,edgesFocusable:St,edgesReconnectable:He,elementsSelectable:kn=!0,defaultViewport:Wn=By,minZoom:Jt=.5,maxZoom:Ft=2,translateExtent:Zn=ri,preventScrolling:Tt=!0,nodeExtent:en,defaultMarkerColor:mi="#b1b1b7",zoomOnScroll:yi=!0,zoomOnPinch:vi=!0,panOnScroll:bi=!1,panOnScrollSpeed:xi=.5,panOnScrollMode:Zs=yo.Free,zoomOnDoubleClick:yr=!0,panOnDrag:qs=!0,onPaneClick:wi,onPaneMouseEnter:Ys,onPaneMouseMove:vr,onPaneMouseLeave:wo,onPaneScroll:Si,onPaneContextMenu:So,paneClickDistance:Ei=1,nodeClickDistance:ki=0,children:cn,onReconnect:Ci,onReconnectStart:Ni,onReconnectEnd:Eo,onEdgeContextMenu:qn,onEdgeDoubleClick:ko,onEdgeMouseEnter:zi,onEdgeMouseMove:Co,onEdgeMouseLeave:No,reconnectRadius:br=10,onNodesChange:fn,onEdgesChange:Mi,noDragClassName:zo="nodrag",noWheelClassName:xr="nowheel",noPanClassName:Mo="nopan",fitView:Lt,fitViewOptions:Ot,connectOnClick:Yn,attributionPosition:wr,proOptions:Xn,defaultEdgeOptions:Qn,elevateNodesOnSelect:ji=!0,elevateEdgesOnSelect:Ii=!1,disableKeyboardA11y:Sr=!1,autoPanOnConnect:Er,autoPanOnNodeDrag:kr,autoPanSpeed:tn,connectionRadius:Cr,isValidConnection:Pi,onError:nn,style:pt,id:Gn,nodeDragThreshold:Fe,connectionDragThreshold:Nr,viewport:zr,onViewportChange:_i,width:Ti,height:Xs,colorMode:Mr="light",debug:jr,onScroll:jo,ariaLabelConfig:st,zIndexMode:Le="basic",...Io},Kn){const Cn=Gn||"1",Ir=Wy(Mr),Bt=A.useCallback(Jn=>{Jn.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),jo?.(Jn)},[jo]);return z.jsx("div",{"data-testid":"rf__wrapper",...Io,onScroll:Bt,style:{...pt,...fb},ref:Kn,className:et(["react-flow",a,Ir]),id:Gn,role:"application",children:z.jsxs(cb,{nodes:n,edges:r,width:Ti,height:Xs,fitView:Lt,fitViewOptions:Ot,minZoom:Jt,maxZoom:Ft,nodeOrigin:Kt,nodeExtent:en,zIndexMode:Le,children:[z.jsx(ab,{onInit:y,onNodeClick:p,onEdgeClick:g,onNodeMouseEnter:C,onNodeMouseMove:x,onNodeMouseLeave:k,onNodeContextMenu:_,onNodeDoubleClick:P,nodeTypes:f,edgeTypes:d,connectionLineType:Q,connectionLineStyle:re,connectionLineComponent:ee,connectionLineContainerStyle:ae,selectionKeyCode:ce,selectionOnDrag:oe,selectionMode:le,deleteKeyCode:de,multiSelectionKeyCode:be,panActivationKeyCode:xe,zoomActivationKeyCode:fe,onlyRenderVisibleElements:_e,defaultViewport:Wn,translateExtent:Zn,minZoom:Jt,maxZoom:Ft,preventScrolling:Tt,zoomOnScroll:yi,zoomOnPinch:vi,zoomOnDoubleClick:yr,panOnScroll:bi,panOnScrollSpeed:xi,panOnScrollMode:Zs,panOnDrag:qs,onPaneClick:wi,onPaneMouseEnter:Ys,onPaneMouseMove:vr,onPaneMouseLeave:wo,onPaneScroll:Si,onPaneContextMenu:So,paneClickDistance:Ei,nodeClickDistance:ki,onSelectionContextMenu:V,onSelectionStart:B,onSelectionEnd:H,onReconnect:Ci,onReconnectStart:Ni,onReconnectEnd:Eo,onEdgeContextMenu:qn,onEdgeDoubleClick:ko,onEdgeMouseEnter:zi,onEdgeMouseMove:Co,onEdgeMouseLeave:No,reconnectRadius:br,defaultMarkerColor:mi,noDragClassName:zo,noWheelClassName:xr,noPanClassName:Mo,rfId:Cn,disableKeyboardA11y:Sr,nodeExtent:en,viewport:zr,onViewportChange:_i}),z.jsx(Uy,{nodes:n,edges:r,defaultNodes:s,defaultEdges:u,onConnect:S,onConnectStart:w,onConnectEnd:j,onClickConnectStart:N,onClickConnectEnd:E,nodesDraggable:De,autoPanOnNodeFocus:_t,nodesConnectable:wt,nodesFocusable:gt,edgesFocusable:St,edgesReconnectable:He,elementsSelectable:kn,elevateNodesOnSelect:ji,elevateEdgesOnSelect:Ii,minZoom:Jt,maxZoom:Ft,nodeExtent:en,onNodesChange:fn,onEdgesChange:Mi,snapToGrid:pe,snapGrid:Me,connectionMode:G,translateExtent:Zn,connectOnClick:Yn,defaultEdgeOptions:Qn,fitView:Lt,fitViewOptions:Ot,onNodesDelete:X,onEdgesDelete:L,onDelete:q,onNodeDragStart:T,onNodeDrag:O,onNodeDragStop:F,onSelectionDrag:$,onSelectionDragStart:M,onSelectionDragStop:D,onMove:v,onMoveStart:h,onMoveEnd:m,noPanClassName:Mo,nodeOrigin:Kt,rfId:Cn,autoPanOnConnect:Er,autoPanOnNodeDrag:kr,autoPanSpeed:tn,onError:nn,connectionRadius:Cr,isValidConnection:Pi,selectNodesOnDrag:Ne,nodeDragThreshold:Fe,connectionDragThreshold:Nr,onBeforeDelete:K,debug:jr,ariaLabelConfig:st,zIndexMode:Le}),z.jsx(Oy,{onSelectionChange:W}),cn,z.jsx($y,{proOptions:Xn,position:wr}),z.jsx(Ay,{rfId:Cn,disableKeyboardA11y:Sr})]})})}var pb=$p(db);function hb(n){const[r,s]=A.useState(n),u=A.useCallback(a=>s(f=>Tp(a,f)),[]);return[r,s,u]}function gb(n){const[r,s]=A.useState(n),u=A.useCallback(a=>s(f=>Ap(a,f)),[]);return[r,s,u]}function mb({dimensions:n,lineWidth:r,variant:s,className:u}){return z.jsx("path",{strokeWidth:r,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`,className:et(["react-flow__background-pattern",s,u])})}function yb({radius:n,className:r}){return z.jsx("circle",{cx:n,cy:n,r:n,className:et(["react-flow__background-pattern","dots",r])})}var Un;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Un||(Un={}));const vb={[Un.Dots]:1,[Un.Lines]:1,[Un.Cross]:6},bb=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function sh({id:n,variant:r=Un.Dots,gap:s=20,size:u,lineWidth:a=1,offset:f=0,color:d,bgColor:p,style:g,className:y,patternClassName:v}){const h=A.useRef(null),{transform:m,patternId:S}=ze(bb,Oe),w=u||vb[r],j=r===Un.Dots,N=r===Un.Cross,E=Array.isArray(s)?s:[s,s],C=[E[0]*m[2]||1,E[1]*m[2]||1],x=w*m[2],k=Array.isArray(f)?f:[f,f],_=N?[x,x]:C,P=[k[0]*m[2]||1+_[0]/2,k[1]*m[2]||1+_[1]/2],T=`${S}${n||""}`;return z.jsxs("svg",{className:et(["react-flow__background",y]),style:{...g,...Vs,"--xy-background-color-props":p,"--xy-background-pattern-color-props":d},ref:h,"data-testid":"rf__background",children:[z.jsx("pattern",{id:T,x:m[0]%C[0],y:m[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`,children:j?z.jsx(yb,{radius:x/2,className:v}):z.jsx(mb,{dimensions:_,lineWidth:a,variant:r,className:v})}),z.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}sh.displayName="Background";const xb=A.memo(sh);function wb(){return z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:z.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Sb(){return z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:z.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Eb(){return z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:z.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function kb(){return z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:z.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Cb(){return z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:z.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ks({children:n,className:r,...s}){return z.jsx("button",{type:"button",className:et(["react-flow__controls-button",r]),...s,children:n})}const Nb=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom,ariaLabelConfig:n.ariaLabelConfig});function lh({style:n,showZoom:r=!0,showFitView:s=!0,showInteractive:u=!0,fitViewOptions:a,onZoomIn:f,onZoomOut:d,onFitView:p,onInteractiveChange:g,className:y,children:v,position:h="bottom-left",orientation:m="vertical","aria-label":S}){const w=Be(),{isInteractive:j,minZoomReached:N,maxZoomReached:E,ariaLabelConfig:C}=ze(Nb,Oe),{zoomIn:x,zoomOut:k,fitView:_}=ou(),P=()=>{x(),f?.()},T=()=>{k(),d?.()},O=()=>{_(a),p?.()},F=()=>{w.setState({nodesDraggable:!j,nodesConnectable:!j,elementsSelectable:!j}),g?.(!j)},X=m==="horizontal"?"horizontal":"vertical";return z.jsxs(Hs,{className:et(["react-flow__controls",X,y]),position:h,style:n,"data-testid":"rf__controls","aria-label":S??C["controls.ariaLabel"],children:[r&&z.jsxs(z.Fragment,{children:[z.jsx(ks,{onClick:P,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:E,children:z.jsx(wb,{})}),z.jsx(ks,{onClick:T,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:N,children:z.jsx(Sb,{})})]}),s&&z.jsx(ks,{className:"react-flow__controls-fitview",onClick:O,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:z.jsx(Eb,{})}),u&&z.jsx(ks,{className:"react-flow__controls-interactive",onClick:F,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:j?z.jsx(Cb,{}):z.jsx(kb,{})}),v]})}lh.displayName="Controls";A.memo(lh);function zb({id:n,x:r,y:s,width:u,height:a,style:f,color:d,strokeColor:p,strokeWidth:g,className:y,borderRadius:v,shapeRendering:h,selected:m,onClick:S}){const{background:w,backgroundColor:j}=f||{},N=d||w||j;return z.jsx("rect",{className:et(["react-flow__minimap-node",{selected:m},y]),x:r,y:s,rx:v,ry:v,width:u,height:a,style:{fill:N,stroke:p,strokeWidth:g},shapeRendering:h,onClick:S?E=>S(E,n):void 0})}const Mb=A.memo(zb),jb=n=>n.nodes.map(r=>r.id),Ca=n=>n instanceof Function?n:()=>n;function Ib({nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:u=5,nodeStrokeWidth:a,nodeComponent:f=Mb,onClick:d}){const p=ze(jb,Oe),g=Ca(r),y=Ca(n),v=Ca(s),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return z.jsx(z.Fragment,{children:p.map(m=>z.jsx(_b,{id:m,nodeColorFunc:g,nodeStrokeColorFunc:y,nodeClassNameFunc:v,nodeBorderRadius:u,nodeStrokeWidth:a,NodeComponent:f,onClick:d,shapeRendering:h},m))})}function Pb({id:n,nodeColorFunc:r,nodeStrokeColorFunc:s,nodeClassNameFunc:u,nodeBorderRadius:a,nodeStrokeWidth:f,shapeRendering:d,NodeComponent:p,onClick:g}){const{node:y,x:v,y:h,width:m,height:S}=ze(w=>{const{internals:j}=w.nodeLookup.get(n),N=j.userNode,{x:E,y:C}=j.positionAbsolute,{width:x,height:k}=En(N);return{node:N,x:E,y:C,width:x,height:k}},Oe);return!y||y.hidden||!sp(y)?null:z.jsx(p,{x:v,y:h,width:m,height:S,style:y.style,selected:!!y.selected,className:u(y),color:r(y),borderRadius:a,strokeColor:s(y),strokeWidth:f,shapeRendering:d,onClick:g,id:y.id})}const _b=A.memo(Pb);var Tb=A.memo(Ib);const Ab=200,$b=150,Db=n=>!n.hidden,Rb=n=>{const r={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:r,boundingRect:n.nodeLookup.size>0?ip(di(n.nodeLookup,{filter:Db}),r):r,rfId:n.rfId,panZoom:n.panZoom,translateExtent:n.translateExtent,flowWidth:n.width,flowHeight:n.height,ariaLabelConfig:n.ariaLabelConfig}},Fb="react-flow__minimap-desc";function ah({style:n,className:r,nodeStrokeColor:s,nodeColor:u,nodeClassName:a="",nodeBorderRadius:f=5,nodeStrokeWidth:d,nodeComponent:p,bgColor:g,maskColor:y,maskStrokeColor:v,maskStrokeWidth:h,position:m="bottom-right",onClick:S,onNodeClick:w,pannable:j=!1,zoomable:N=!1,ariaLabel:E,inversePan:C,zoomStep:x=1,offsetScale:k=5}){const _=Be(),P=A.useRef(null),{boundingRect:T,viewBB:O,rfId:F,panZoom:X,translateExtent:L,flowWidth:q,flowHeight:W,ariaLabelConfig:M}=ze(Rb,Oe),$=n?.width??Ab,D=n?.height??$b,V=T.width/$,B=T.height/D,H=Math.max(V,B),K=H*$,G=H*D,Q=k*H,re=T.x-(K-T.width)/2-Q,ee=T.y-(G-T.height)/2-Q,ae=K+Q*2,de=G+Q*2,ce=`${Fb}-${F}`,oe=A.useRef(0),le=A.useRef();oe.current=H,A.useEffect(()=>{if(P.current&&X)return le.current=ly({domNode:P.current,panZoom:X,getTransform:()=>_.getState().transform,getViewScale:()=>oe.current}),()=>{le.current?.destroy()}},[X]),A.useEffect(()=>{le.current?.update({translateExtent:L,width:q,height:W,inversePan:C,pannable:j,zoomStep:x,zoomable:N})},[j,N,C,x,L,q,W]);const xe=S?pe=>{const[Me,_e]=le.current?.pointer(pe)||[0,0];S(pe,{x:Me,y:_e})}:void 0,be=w?A.useCallback((pe,Me)=>{const _e=_.getState().nodeLookup.get(Me).internals.userNode;w(pe,_e)},[]):void 0,fe=E??M["minimap.ariaLabel"];return z.jsx(Hs,{position:m,style:{...n,"--xy-minimap-background-color-props":typeof g=="string"?g:void 0,"--xy-minimap-mask-background-color-props":typeof y=="string"?y:void 0,"--xy-minimap-mask-stroke-color-props":typeof v=="string"?v:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*H:void 0,"--xy-minimap-node-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-node-stroke-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-width-props":typeof d=="number"?d:void 0},className:et(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:z.jsxs("svg",{width:$,height:D,viewBox:`${re} ${ee} ${ae} ${de}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":ce,ref:P,onClick:xe,children:[fe&&z.jsx("title",{id:ce,children:fe}),z.jsx(Tb,{onClick:be,nodeColor:u,nodeStrokeColor:s,nodeBorderRadius:f,nodeClassName:a,nodeStrokeWidth:d,nodeComponent:p}),z.jsx("path",{className:"react-flow__minimap-mask",d:`M${re-Q},${ee-Q}h${ae+Q*2}v${de+Q*2}h${-ae-Q*2}z
        M${O.x},${O.y}h${O.width}v${O.height}h${-O.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}ah.displayName="MiniMap";A.memo(ah);const Lb=n=>r=>n?`${Math.max(1/r.transform[2],1)}`:void 0,Ob={[hr.Line]:"right",[hr.Handle]:"bottom-right"};function Bb({nodeId:n,position:r,variant:s=hr.Handle,className:u,style:a=void 0,children:f,color:d,minWidth:p=10,minHeight:g=10,maxWidth:y=Number.MAX_VALUE,maxHeight:v=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:m,autoScale:S=!0,shouldResize:w,onResizeStart:j,onResize:N,onResizeEnd:E}){const C=Lp(),x=typeof n=="string"?n:C,k=Be(),_=A.useRef(null),P=s===hr.Handle,T=ze(A.useCallback(Lb(P&&S),[P,S]),Oe),O=A.useRef(null),F=r??Ob[s];A.useEffect(()=>{if(!(!_.current||!x))return O.current||(O.current=wy({domNode:_.current,nodeId:x,getStoreItems:()=>{const{nodeLookup:L,transform:q,snapGrid:W,snapToGrid:M,nodeOrigin:$,domNode:D}=k.getState();return{nodeLookup:L,transform:q,snapGrid:W,snapToGrid:M,nodeOrigin:$,paneDomNode:D}},onChange:(L,q)=>{const{triggerNodeChanges:W,nodeLookup:M,parentLookup:$,nodeOrigin:D}=k.getState(),V=[],B={x:L.x,y:L.y},H=M.get(x);if(H&&H.expandParent&&H.parentId){const K=H.origin??D,G=L.width??H.measured.width??0,Q=L.height??H.measured.height??0,re={id:H.id,parentId:H.parentId,rect:{width:G,height:Q,...lp({x:L.x??H.position.x,y:L.y??H.position.y},{width:G,height:Q},H.parentId,M,K)}},ee=nu([re],M,$,D);V.push(...ee),B.x=L.x?Math.max(K[0]*G,L.x):void 0,B.y=L.y?Math.max(K[1]*Q,L.y):void 0}if(B.x!==void 0&&B.y!==void 0){const K={id:x,type:"position",position:{...B}};V.push(K)}if(L.width!==void 0&&L.height!==void 0){const G={id:x,type:"dimensions",resizing:!0,setAttributes:m?m==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};V.push(G)}for(const K of q){const G={...K,type:"position"};V.push(G)}W(V)},onEnd:({width:L,height:q})=>{const W={id:x,type:"dimensions",resizing:!1,dimensions:{width:L,height:q}};k.getState().triggerNodeChanges([W])}})),O.current.update({controlPosition:F,boundaries:{minWidth:p,minHeight:g,maxWidth:y,maxHeight:v},keepAspectRatio:h,resizeDirection:m,onResizeStart:j,onResize:N,onResizeEnd:E,shouldResize:w}),()=>{O.current?.destroy()}},[F,p,g,y,v,h,j,N,E,w]);const X=F.split("-");return z.jsx("div",{className:et(["react-flow__resize-control","nodrag",...X,s,u]),ref:_,style:{...a,scale:T,...d&&{[P?"backgroundColor":"borderColor"]:d}},children:f})}A.memo(Bb);const Nd=n=>{let r;const s=new Set,u=(y,v)=>{const h=typeof y=="function"?y(r):y;if(!Object.is(h,r)){const m=r;r=v??(typeof h!="object"||h===null)?h:Object.assign({},r,h),s.forEach(S=>S(r,m))}},a=()=>r,p={setState:u,getState:a,getInitialState:()=>g,subscribe:y=>(s.add(y),()=>s.delete(y))},g=r=n(u,a,p);return p},Hb=(n=>n?Nd(n):Nd),{useSyncExternalStoreWithSelector:Vb}=Wd,Ub=n=>n;function Wb(n,r=Ub,s){const u=Vb(n.subscribe,n.getState,n.getInitialState,r,s);return ur.useDebugValue(u),u}const zd=(n,r)=>{const s=Hb(n),u=(a,f=r)=>Wb(s,a,f);return Object.assign(u,s),u},Zb=((n,r)=>n?zd(n,r):zd);var Oa=a0();const qb=Hm(Oa);function iu(n,r,s){if(!n)return;if(s(n)===!0)return n;let u=r?n.return:n.child;for(;u;){const a=iu(u,r,s);if(a)return a;u=r?null:u.sibling}}function uh(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const su=uh(A.createContext(null));class ch extends A.Component{render(){return A.createElement(su.Provider,{value:this._reactInternals},this.props.children)}}function fh(){const n=A.useContext(su);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=A.useId();return A.useMemo(()=>{for(const s of[n,n?.alternate]){if(!s)continue;const u=iu(s,!1,a=>{let f=a.memoizedState;for(;f;){if(f.memoizedState===r)return!0;f=f.next}});if(u)return u}},[n,r])}const Yb=Symbol.for("react.context"),Xb=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===Yb;function Qb(){const n=fh(),[r]=A.useState(()=>new Map);r.clear();let s=n;for(;s;){const u=s.type;Xb(u)&&u!==su&&!r.has(u)&&r.set(u,A.use(uh(u))),s=s.return}return r}function Gb(){const n=Qb();return A.useMemo(()=>Array.from(n.keys()).reduce((r,s)=>u=>A.createElement(r,null,A.createElement(s.Provider,{...u,value:n.get(s)})),r=>A.createElement(ch,{...r})),[n])}function dh(n){let r=n.root;for(;r.getState().previousRoot;)r=r.getState().previousRoot;return r}const ph=n=>n&&n.isOrthographicCamera,Kb=n=>n&&n.hasOwnProperty("current"),Jb=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),gi=((n,r)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((r=window.navigator)==null?void 0:r.product)==="ReactNative"))()?A.useLayoutEffect:A.useEffect;function hh(n){const r=A.useRef(n);return gi(()=>void(r.current=n),[n]),r}function ex(){const n=fh(),r=Gb();return A.useMemo(()=>({children:s})=>{const a=!!iu(n,!0,f=>f.type===A.StrictMode)?A.StrictMode:A.Fragment;return z.jsx(a,{children:z.jsx(r,{children:s})})},[n,r])}function tx({set:n}){return gi(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const nx=(n=>(n=class extends A.Component{constructor(...s){super(...s),this.state={error:!1}}componentDidCatch(s){this.props.set(s)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function gh(n){var r;const s=typeof window<"u"?(r=window.devicePixelRatio)!=null?r:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],s),n[1]):n}function or(n){var r;return(r=n.__r3f)==null?void 0:r.root.getState()}const Ze={obj:n=>n===Object(n)&&!Ze.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,r,{arrays:s="shallow",objects:u="reference",strict:a=!0}={}){if(typeof n!=typeof r||!!n!=!!r)return!1;if(Ze.str(n)||Ze.num(n)||Ze.boo(n))return n===r;const f=Ze.obj(n);if(f&&u==="reference")return n===r;const d=Ze.arr(n);if(d&&s==="reference")return n===r;if((d||f)&&n===r)return!0;let p;for(p in n)if(!(p in r))return!1;if(f&&s==="shallow"&&u==="shallow"){for(p in a?r:n)if(!Ze.equ(n[p],r[p],{strict:a,objects:"reference"}))return!1}else for(p in a?r:n)if(n[p]!==r[p])return!1;if(Ze.und(p)){if(d&&n.length===0&&r.length===0||f&&Object.keys(n).length===0&&Object.keys(r).length===0)return!0;if(n!==r)return!1}return!0}};function ox(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const r in n){const s=n[r];s?.type!=="Scene"&&(s==null||s.dispose==null||s.dispose())}}const mh=["children","key","ref"];function rx(n){const r={};for(const s in n)mh.includes(s)||(r[s]=n[s]);return r}function As(n,r,s,u){const a=n;let f=a?.__r3f;return f||(f={root:r,type:s,parent:null,children:[],props:rx(u),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=f)),f}function ui(n,r){if(!r.includes("-"))return{root:n,key:r,target:n[r]};if(r in n)return{root:n,key:r,target:n[r]};let s=n;const u=r.split("-");for(const a of u){if(typeof s!="object"||s===null){if(s!==void 0){const f=u.slice(u.indexOf(a)).join("-");return{root:s,key:f,target:void 0}}return{root:n,key:r,target:void 0}}r=a,n=s,s=s[r]}return{root:n,key:r,target:s}}const Md=/-\d+$/;function $s(n,r){if(Ze.str(r.props.attach)){if(Md.test(r.props.attach)){const a=r.props.attach.replace(Md,""),{root:f,key:d}=ui(n.object,a);Array.isArray(f[d])||(f[d]=[])}const{root:s,key:u}=ui(n.object,r.props.attach);r.previousAttach=s[u],s[u]=r.object}else Ze.fun(r.props.attach)&&(r.previousAttach=r.props.attach(n.object,r.object))}function Ds(n,r){if(Ze.str(r.props.attach)){const{root:s,key:u}=ui(n.object,r.props.attach),a=r.previousAttach;a===void 0?delete s[u]:s[u]=a}else r.previousAttach==null||r.previousAttach(n.object,r.object);delete r.previousAttach}const Ba=[...mh,"args","dispose","attach","object","onUpdate","dispose"],jd=new Map;function ix(n){let r=jd.get(n.constructor);try{r||(r=new n.constructor,jd.set(n.constructor,r))}catch{}return r}function sx(n,r){const s={};for(const u in r)if(!Ba.includes(u)&&!Ze.equ(r[u],n.props[u])){s[u]=r[u];for(const a in r)a.startsWith(`${u}-`)&&(s[a]=r[a])}for(const u in n.props){if(Ba.includes(u)||r.hasOwnProperty(u))continue;const{root:a,key:f}=ui(n.object,u);if(a.constructor&&a.constructor.length===0){const d=ix(a);Ze.und(d)||(s[f]=d[f])}else s[f]=0}return s}const lx=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],ax=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Vn(n,r){var s;const u=n.__r3f,a=u&&dh(u).getState(),f=u?.eventCount;for(const p in r){let g=r[p];if(Ba.includes(p))continue;if(u&&ax.test(p)){typeof g=="function"?u.handlers[p]=g:delete u.handlers[p],u.eventCount=Object.keys(u.handlers).length;continue}if(g===void 0)continue;let{root:y,key:v,target:h}=ui(n,p);if(h===void 0&&(typeof y!="object"||y===null))throw Error(`R3F: Cannot set "${p}". Ensure it is an object before setting "${v}".`);if(h instanceof Ff&&g instanceof Ff)h.mask=g.mask;else if(h instanceof n0&&Jb(g))h.set(g);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof h.copy=="function"&&g!=null&&g.constructor&&h.constructor===g.constructor)h.copy(g);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&Array.isArray(g))typeof h.fromArray=="function"?h.fromArray(g):h.set(...g);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof g=="number")typeof h.setScalar=="function"?h.setScalar(g):h.set(g);else{var d;y[v]=g,a&&!a.linear&&lx.includes(v)&&(d=y[v])!=null&&d.isTexture&&y[v].format===o0&&y[v].type===r0&&(y[v].colorSpace=Zd)}}if(u!=null&&u.parent&&a!=null&&a.internal&&(s=u.object)!=null&&s.isObject3D&&f!==u.eventCount){const p=u.object,g=a.internal.interaction.indexOf(p);g>-1&&a.internal.interaction.splice(g,1),u.eventCount&&p.raycast!==null&&a.internal.interaction.push(p)}return u&&u.props.attach===void 0&&(u.object.isBufferGeometry?u.props.attach="geometry":u.object.isMaterial&&(u.props.attach="material")),u&&mr(u),n}function mr(n){var r;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const s=(r=n.root)==null||r.getState==null?void 0:r.getState();s&&s.internal.frames===0&&s.invalidate()}function ux(n,r){n.manual||(ph(n)?(n.left=r.width/-2,n.right=r.width/2,n.top=r.height/2,n.bottom=r.height/-2):n.aspect=r.width/r.height,n.updateProjectionMatrix())}const xt=n=>n?.isObject3D;function Cs(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function yh(n,r,s,u){const a=s.get(r);a&&(s.delete(r),s.size===0&&(n.delete(u),a.target.releasePointerCapture(u)))}function cx(n,r){const{internal:s}=n.getState();s.interaction=s.interaction.filter(u=>u!==r),s.initialHits=s.initialHits.filter(u=>u!==r),s.hovered.forEach((u,a)=>{(u.eventObject===r||u.object===r)&&s.hovered.delete(a)}),s.capturedMap.forEach((u,a)=>{yh(s.capturedMap,r,u,a)})}function fx(n){function r(g){const{internal:y}=n.getState(),v=g.offsetX-y.initialClick[0],h=g.offsetY-y.initialClick[1];return Math.round(Math.sqrt(v*v+h*h))}function s(g){return g.filter(y=>["Move","Over","Enter","Out","Leave"].some(v=>{var h;return(h=y.__r3f)==null?void 0:h.handlers["onPointer"+v]}))}function u(g,y){const v=n.getState(),h=new Set,m=[],S=y?y(v.internal.interaction):v.internal.interaction;for(let E=0;E<S.length;E++){const C=or(S[E]);C&&(C.raycaster.camera=void 0)}v.previousRoot||v.events.compute==null||v.events.compute(g,v);function w(E){const C=or(E);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var x;C.events.compute==null||C.events.compute(g,C,(x=C.previousRoot)==null?void 0:x.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(E,!0):[]}let j=S.flatMap(w).sort((E,C)=>{const x=or(E.object),k=or(C.object);return!x||!k?E.distance-C.distance:k.events.priority-x.events.priority||E.distance-C.distance}).filter(E=>{const C=Cs(E);return h.has(C)?!1:(h.add(C),!0)});v.events.filter&&(j=v.events.filter(j,v));for(const E of j){let C=E.object;for(;C;){var N;(N=C.__r3f)!=null&&N.eventCount&&m.push({...E,eventObject:C}),C=C.parent}}if("pointerId"in g&&v.internal.capturedMap.has(g.pointerId))for(let E of v.internal.capturedMap.get(g.pointerId).values())h.has(Cs(E.intersection))||m.push(E.intersection);return m}function a(g,y,v,h){if(g.length){const m={stopped:!1};for(const S of g){let w=or(S.object);if(w||S.object.traverseAncestors(j=>{const N=or(j);if(N)return w=N,!1}),w){const{raycaster:j,pointer:N,camera:E,internal:C}=w,x=new zs(N.x,N.y,0).unproject(E),k=F=>{var X,L;return(X=(L=C.capturedMap.get(F))==null?void 0:L.has(S.eventObject))!=null?X:!1},_=F=>{const X={intersection:S,target:y.target};C.capturedMap.has(F)?C.capturedMap.get(F).set(S.eventObject,X):C.capturedMap.set(F,new Map([[S.eventObject,X]])),y.target.setPointerCapture(F)},P=F=>{const X=C.capturedMap.get(F);X&&yh(C.capturedMap,S.eventObject,X,F)};let T={};for(let F in y){let X=y[F];typeof X!="function"&&(T[F]=X)}let O={...S,...T,pointer:N,intersections:g,stopped:m.stopped,delta:v,unprojectedPoint:x,ray:j.ray,camera:E,stopPropagation(){const F="pointerId"in y&&C.capturedMap.get(y.pointerId);if((!F||F.has(S.eventObject))&&(O.stopped=m.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(X=>X.eventObject===S.eventObject))){const X=g.slice(0,g.indexOf(S));f([...X,S])}},target:{hasPointerCapture:k,setPointerCapture:_,releasePointerCapture:P},currentTarget:{hasPointerCapture:k,setPointerCapture:_,releasePointerCapture:P},nativeEvent:y};if(h(O),m.stopped===!0)break}}}return g}function f(g){const{internal:y}=n.getState();for(const v of y.hovered.values())if(!g.length||!g.find(h=>h.object===v.object&&h.index===v.index&&h.instanceId===v.instanceId)){const m=v.eventObject.__r3f;if(y.hovered.delete(Cs(v)),m!=null&&m.eventCount){const S=m.handlers,w={...v,intersections:g};S.onPointerOut==null||S.onPointerOut(w),S.onPointerLeave==null||S.onPointerLeave(w)}}}function d(g,y){for(let v=0;v<y.length;v++){const h=y[v].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(g)}}function p(g){switch(g){case"onPointerLeave":case"onPointerCancel":return()=>f([]);case"onLostPointerCapture":return y=>{const{internal:v}=n.getState();"pointerId"in y&&v.capturedMap.has(y.pointerId)&&requestAnimationFrame(()=>{v.capturedMap.has(y.pointerId)&&(v.capturedMap.delete(y.pointerId),f([]))})}}return function(v){const{onPointerMissed:h,internal:m}=n.getState();m.lastEvent.current=v;const S=g==="onPointerMove",w=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",N=u(v,S?s:void 0),E=w?r(v):0;g==="onPointerDown"&&(m.initialClick=[v.offsetX,v.offsetY],m.initialHits=N.map(x=>x.eventObject)),w&&!N.length&&E<=2&&(d(v,m.interaction),h&&h(v)),S&&f(N);function C(x){const k=x.eventObject,_=k.__r3f;if(!(_!=null&&_.eventCount))return;const P=_.handlers;if(S){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const T=Cs(x),O=m.hovered.get(T);O?O.stopped&&x.stopPropagation():(m.hovered.set(T,x),P.onPointerOver==null||P.onPointerOver(x),P.onPointerEnter==null||P.onPointerEnter(x))}P.onPointerMove==null||P.onPointerMove(x)}else{const T=P[g];T?(!w||m.initialHits.includes(k))&&(d(v,m.interaction.filter(O=>!m.initialHits.includes(O))),T(x)):w&&m.initialHits.includes(k)&&d(v,m.interaction.filter(O=>!m.initialHits.includes(O)))}}a(N,v,E,C)}}return{handlePointer:p}}const Id=n=>!!(n!=null&&n.render),vh=A.createContext(null),dx=(n,r)=>{const s=Zb((p,g)=>{const y=new zs,v=new zs,h=new zs;function m(E=g().camera,C=v,x=g().size){const{width:k,height:_,top:P,left:T}=x,O=k/_;C.isVector3?h.copy(C):h.set(...C);const F=E.getWorldPosition(y).distanceTo(h);if(ph(E))return{width:k/E.zoom,height:_/E.zoom,top:P,left:T,factor:1,distance:F,aspect:O};{const X=E.fov*Math.PI/180,L=2*Math.tan(X/2)*F,q=L*(k/_);return{width:q,height:L,top:P,left:T,factor:k/q,distance:F,aspect:O}}}let S;const w=E=>p(C=>({performance:{...C.performance,current:E}})),j=new i0;return{set:p,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(E=1)=>n(g(),E),advance:(E,C)=>r(E,C,g()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new s0,pointer:j,mouse:j,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=g();S&&clearTimeout(S),E.performance.current!==E.performance.min&&w(E.performance.min),S=setTimeout(()=>w(g().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:E=>p(C=>({...C,events:{...C.events,...E}})),setSize:(E,C,x=0,k=0)=>{const _=g().camera,P={width:E,height:C,top:x,left:k};p(T=>({size:P,viewport:{...T.viewport,...m(_,v,P)}}))},setDpr:E=>p(C=>{const x=gh(E);return{viewport:{...C.viewport,dpr:x,initialDpr:C.viewport.initialDpr||x}}}),setFrameloop:(E="always")=>{const C=g().clock;C.stop(),C.elapsedTime=0,E!=="never"&&(C.start(),C.elapsedTime=0),p(()=>({frameloop:E}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:A.createRef(),active:!1,frames:0,priority:0,subscribe:(E,C,x)=>{const k=g().internal;return k.priority=k.priority+(C>0?1:0),k.subscribers.push({ref:E,priority:C,store:x}),k.subscribers=k.subscribers.sort((_,P)=>_.priority-P.priority),()=>{const _=g().internal;_!=null&&_.subscribers&&(_.priority=_.priority-(C>0?1:0),_.subscribers=_.subscribers.filter(P=>P.ref!==E))}}}}}),u=s.getState();let a=u.size,f=u.viewport.dpr,d=u.camera;return s.subscribe(()=>{const{camera:p,size:g,viewport:y,gl:v,set:h}=s.getState();if(g.width!==a.width||g.height!==a.height||y.dpr!==f){a=g,f=y.dpr,ux(p,g),y.dpr>0&&v.setPixelRatio(y.dpr);const m=typeof HTMLCanvasElement<"u"&&v.domElement instanceof HTMLCanvasElement;v.setSize(g.width,g.height,m)}p!==d&&(d=p,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(p)}})))}),s.subscribe(p=>n(p)),s};function px(){const n=A.useContext(vh);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function hx(n,r=0){const s=px(),u=s.getState().internal.subscribe,a=hh(n);return gi(()=>u(a,r,s),[r,u,s]),null}/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const gx=1,mx=8,yx=32,vx=2;var bx={version:"9.5.0"};function xx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pd={exports:{}},_d={exports:{}},Td;function wx(){return Td||(Td=1,(function(n){n.exports=function(r){function s(e,t,o,i){return new qh(e,t,o,i)}function u(){}function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function d(e){if(f(e)!==e)throw Error(a(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(a(188));return t!==e?null:e}for(var o=e,i=t;;){var l=o.return;if(l===null)break;var c=l.alternate;if(c===null){if(i=l.return,i!==null){o=i;continue}break}if(l.child===c.child){for(c=l.child;c;){if(c===o)return d(l),e;if(c===i)return d(l),t;c=c.sibling}throw Error(a(188))}if(o.return!==i.return)o=l,i=c;else{for(var b=!1,I=l.child;I;){if(I===o){b=!0,o=l,i=c;break}if(I===i){b=!0,i=l,o=c;break}I=I.sibling}if(!b){for(I=c.child;I;){if(I===o){b=!0,o=c,i=l;break}if(I===i){b=!0,i=c,o=l;break}I=I.sibling}if(!b)throw Error(a(189))}}if(o.alternate!==i)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(e.tag!==4&&(t=y(e),t!==null))return t;e=e.sibling}return null}function v(e){return e===null||typeof e!="object"?null:(e=nf&&e[nf]||e["@@iterator"],typeof e=="function"?e:null)}function h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Kh?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case $l:return"Profiler";case ef:return"StrictMode";case Rl:return"Suspense";case Fl:return"SuspenseList";case Ol:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $o:return"Portal";case Mn:return e.displayName||"Context";case tf:return(e._context.displayName||"Context")+".Consumer";case Dl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ll:return t=e.displayName||null,t!==null?t:h(e.type)||"Memo";case jn:t=e._payload,e=e._init;try{return h(e(t))}catch{}}return null}function m(e){return{current:e}}function S(e){0>Lo||(e.current=Zl[Lo],Zl[Lo]=null,Lo--)}function w(e,t){Lo++,Zl[Lo]=e.current,e.current=t}function j(e){return e>>>=0,e===0?32:31-(Nm(e)/zm|0)|0}function N(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function E(e,t,o){var i=e.pendingLanes;if(i===0)return 0;var l=0,c=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var I=i&134217727;return I!==0?(i=I&~c,i!==0?l=N(i):(b&=I,b!==0?l=N(b):o||(o=I&~e,o!==0&&(l=N(o))))):(I=i&~c,I!==0?l=N(I):b!==0?l=N(b):o||(o=i&~e,o!==0&&(l=N(o)))),l===0?0:t!==0&&t!==l&&(t&c)===0&&(c=l&-l,o=t&-t,c>=o||c===32&&(o&4194048)!==0)?t:l}function C(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function x(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k(){var e=es;return es<<=1,(es&62914560)===0&&(es=4194304),e}function _(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function P(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function T(e,t,o,i,l,c){var b=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var I=e.entanglements,Y=e.expirationTimes,J=e.hiddenUpdates;for(o=b&~o;0<o;){var ie=31-Ct(o),te=1<<ie;I[ie]=0,Y[ie]=-1;var se=J[ie];if(se!==null)for(J[ie]=null,ie=0;ie<se.length;ie++){var ye=se[ie];ye!==null&&(ye.lane&=-536870913)}o&=~te}i!==0&&O(e,i,0),c!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=c&~(b&~t))}function O(e,t,o){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ct(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|o&261930}function F(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var i=31-Ct(o),l=1<<i;l&t|e[i]&t&&(e[i]|=t),o&=~l}}function X(e,t){var o=t&-t;return o=(o&42)!==0?1:L(o),(o&(e.suspendedLanes|t))!==0?0:o}function L(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function q(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function W(e){if(typeof _m=="function"&&Tm(e),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Hr,e)}catch{}}function M(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}function $(e){if(Xl===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);Xl=t&&t[1]||"",jf=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xl+e+jf}function D(e,t){if(!e||Ql)return"";Ql=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(ye){var se=ye}Reflect.construct(e,[],te)}else{try{te.call()}catch(ye){se=ye}e.call(te.prototype)}}else{try{throw Error()}catch(ye){se=ye}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(ye){if(ye&&se&&typeof ye.stack=="string")return[ye.stack,se.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),b=c[0],I=c[1];if(b&&I){var Y=b.split(`
`),J=I.split(`
`);for(l=i=0;i<Y.length&&!Y[i].includes("DetermineComponentFrameRoot");)i++;for(;l<J.length&&!J[l].includes("DetermineComponentFrameRoot");)l++;if(i===Y.length||l===J.length)for(i=Y.length-1,l=J.length-1;1<=i&&0<=l&&Y[i]!==J[l];)l--;for(;1<=i&&0<=l;i--,l--)if(Y[i]!==J[l]){if(i!==1||l!==1)do if(i--,l--,0>l||Y[i]!==J[l]){var ie=`
`+Y[i].replace(" at new "," at ");return e.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",e.displayName)),ie}while(1<=i&&0<=l);break}}}finally{Ql=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?$(o):""}function V(e,t){switch(e.tag){case 26:case 27:case 5:return $(e.type);case 16:return $("Lazy");case 13:return e.child!==t&&t!==null?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return D(e.type,!1);case 11:return D(e.type.render,!1);case 1:return D(e.type,!0);case 31:return $("Activity");default:return""}}function B(e){try{var t="",o=null;do t+=V(e,o),o=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function H(e,t){if(typeof e=="object"&&e!==null){var o=If.get(e);return o!==void 0?o:(t={value:e,source:t,stack:B(t)},If.set(e,t),t)}return{value:e,source:t,stack:B(t)}}function K(e,t){Bo[Ho++]=Vr,Bo[Ho++]=ns,ns=e,Vr=t}function G(e,t,o){At[$t++]=sn,At[$t++]=ln,At[$t++]=In,In=e;var i=sn;e=ln;var l=32-Ct(i)-1;i&=~(1<<l),o+=1;var c=32-Ct(t)+l;if(30<c){var b=l-l%5;c=(i&(1<<b)-1).toString(32),i>>=b,l-=b,sn=1<<32-Ct(t)+l|o<<l|i,ln=c+e}else sn=1<<c|o<<l|i,ln=e}function Q(e){e.return!==null&&(K(e,1),G(e,1,0))}function re(e){for(;e===ns;)ns=Bo[--Ho],Bo[Ho]=null,Vr=Bo[--Ho],Bo[Ho]=null;for(;e===In;)In=At[--$t],At[$t]=null,ln=At[--$t],At[$t]=null,sn=At[--$t],At[$t]=null}function ee(e,t){At[$t++]=sn,At[$t++]=ln,At[$t++]=In,sn=t.id,ln=t.overflow,In=e}function ae(e,t){w(Pn,t),w(Ur,e),w(at,null),e=tg(t),S(at),w(at,e)}function de(){S(at),S(Ur),S(Pn)}function ce(e){e.memoizedState!==null&&w(os,e);var t=at.current,o=ng(t,e.type);t!==o&&(w(Ur,e),w(at,o))}function oe(e){Ur.current===e&&(S(at),S(Ur)),os.current===e&&(S(os),mn?io._currentValue=Ro:io._currentValue2=Ro)}function le(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _e(H(t,e)),Gl}function xe(e,t){if(!dt)throw Error(a(175));nm(e.stateNode,e.type,e.memoizedProps,t,e)||le(e,!0)}function be(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Dt=!1;return;case 27:case 3:Dt=!0;return;default:ut=ut.return}}function fe(e){if(!dt||e!==ut)return!1;if(!Ce)return be(e),Ce=!0,!1;var t=e.tag;if(tt?t!==3&&t!==27&&(t!==5||mf(e.type)&&!Gi(e.type,e.memoizedProps))&&Ve&&le(e):t!==3&&(t!==5||mf(e.type)&&!Gi(e.type,e.memoizedProps))&&Ve&&le(e),be(e),t===13){if(!dt)throw Error(a(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=lm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=sm(e)}else Ve=tt&&t===27?Zg(e.type,Ve):ut?gf(e.stateNode):null;return!0}function pe(){dt&&(Ve=ut=null,Ce=!1)}function Me(){var e=_n;return e!==null&&(bt===null?bt=e:bt.push.apply(bt,e),_n=null),e}function _e(e){_n===null?_n=[e]:_n.push(e)}function Ne(e,t,o){mn?(w(rs,t._currentValue),t._currentValue=o):(w(rs,t._currentValue2),t._currentValue2=o)}function De(e){var t=rs.current;mn?e._currentValue=t:e._currentValue2=t,S(rs)}function _t(e,t,o){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===o)break;e=e.return}}function wt(e,t,o,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var c=l.dependencies;if(c!==null){var b=l.child;c=c.firstContext;e:for(;c!==null;){var I=c;c=l;for(var Y=0;Y<t.length;Y++)if(I.context===t[Y]){c.lanes|=o,I=c.alternate,I!==null&&(I.lanes|=o),_t(c.return,o,e),i||(b=null);break e}c=I.next}}else if(l.tag===18){if(b=l.return,b===null)throw Error(a(341));b.lanes|=o,c=b.alternate,c!==null&&(c.lanes|=o),_t(b,o,e),b=null}else b=l.child;if(b!==null)b.return=l;else for(b=l;b!==null;){if(b===e){b=null;break}if(l=b.sibling,l!==null){l.return=b.return,b=l;break}b=b.return}l=b}}function gt(e,t,o,i){e=null;for(var l=t,c=!1;l!==null;){if(!c){if((l.flags&524288)!==0)c=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var b=l.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var I=l.type;zt(l.pendingProps.value,b.value)||(e!==null?e.push(I):e=[I])}}else if(l===os.current){if(b=l.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}l=l.return}e!==null&&wt(t,e,o,i),t.flags|=262144}function Kt(e){for(e=e.firstContext;e!==null;){var t=e.context;if(!zt(mn?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function St(e){so=e,vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Wn(so,e)}function kn(e,t){return so===null&&St(e),Wn(e,t)}function Wn(e,t){var o=mn?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:o,next:null},vn===null){if(e===null)throw Error(a(308));vn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vn=vn.next=t;return o}function Jt(){return{controller:new $m,data:new Map,refCount:0}}function Ft(e){e.refCount--,e.refCount===0&&Dm(Rm,function(){e.controller.abort()})}function Zn(){}function Tt(e){e!==Vo&&e.next===null&&(Vo===null?is=Vo=e:Vo=Vo.next=e),ss=!0,Kl||(Kl=!0,Zs())}function en(e,t){if(!Jl&&ss){Jl=!0;do for(var o=!1,i=is;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var c=0;else{var b=i.suspendedLanes,I=i.pingedLanes;c=(1<<31-Ct(42|e)+1)-1,c&=l&~(b&~I),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(o=!0,xi(i,c))}else c=ke,c=E(i,i===$e?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==ro),(c&3)===0||C(i,c)||(o=!0,xi(i,c));i=i.next}while(o);Jl=!1}}function mi(){yi()}function yi(){ss=Kl=!1;var e=0;lo!==0&&fg()&&(e=lo);for(var t=yt(),o=null,i=is;i!==null;){var l=i.next,c=vi(i,t);c===0?(i.next=null,o===null?is=l:o.next=l,l===null&&(Vo=o)):(o=i,(e!==0||(c&3)!==0)&&(ss=!0)),i=l}nt!==0&&nt!==5||en(e),lo!==0&&(lo=0)}function vi(e,t){for(var o=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var b=31-Ct(c),I=1<<b,Y=l[b];Y===-1?((I&o)===0||(I&i)!==0)&&(l[b]=x(I,t)):Y<=t&&(e.expiredLanes|=I),c&=~I}if(t=$e,o=ke,o=E(e,e===t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==ro),i=e.callbackNode,o===0||e===t&&(Te===2||Te===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&ql(i),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||C(e,o)){if(t=o&-o,t===e.callbackPriority)return t;switch(i!==null&&ql(i),q(o)){case 2:case 8:o=Im;break;case 32:o=Yl;break;case 268435456:o=Pm;break;default:o=Yl}return i=bi.bind(null,e),o=ts(o,i),e.callbackPriority=t,e.callbackNode=o,t}return i!==null&&i!==null&&ql(i),e.callbackPriority=2,e.callbackNode=null,2}function bi(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Fr()&&e.callbackNode!==o)return null;var i=ke;return i=E(e,e===$e?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==ro),i===0?null:(jc(e,i,t),vi(e,yt()),e.callbackNode!=null&&e.callbackNode===o?bi.bind(null,e):null)}function xi(e,t){if(Fr())return null;jc(e,t,!0)}function Zs(){vg?bg(function(){(Se&6)!==0?ts(zf,mi):yi()}):ts(zf,mi)}function yr(){if(lo===0){var e=Uo;e===0&&(e=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),lo=e}return lo}function qs(e,t){if(Wr===null){var o=Wr=[];ea=0,Uo=yr(),Wo={status:"pending",value:void 0,then:function(i){o.push(i)}}}return ea++,t.then(wi,wi),t}function wi(){if(--ea===0&&Wr!==null){Wo!==null&&(Wo.status="fulfilled");var e=Wr;Wr=null,Uo=0,Wo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ys(e,t){var o=[],i={status:"pending",value:null,reason:null,then:function(l){o.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<o.length;l++)(0,o[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<o.length;l++)(0,o[l])(void 0)}),i}function vr(){var e=ao.current;return e!==null?e:$e.pooledCache}function wo(e,t){t===null?w(ao,ao.current):w(ao,t.pool)}function Si(){var e=vr();return e===null?null:{parent:mn?Ue._currentValue:Ue._currentValue2,pool:e}}function So(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(i=0;i<o.length;i++){var l=o[i];if(!Am.call(t,l)||!zt(e[l],t[l]))return!1}return!0}function Ei(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ki(e,t,o){switch(o=e[o],o===void 0?e.push(t):o!==t&&(t.then(Zn,Zn),t=o),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ni(e),e;default:if(typeof t.status=="string")t.then(Zn,Zn);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ni(e),e}throw uo=t,Zo}}function cn(e){try{var t=e._init;return t(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(uo=o,Zo):o}}function Ci(){if(uo===null)throw Error(a(459));var e=uo;return uo=null,e}function Ni(e){if(e===Zo||e===ls)throw Error(a(483))}function Eo(e){var t=Zr;return Zr+=1,qo===null&&(qo=[]),ki(qo,e,t)}function qn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ko(e,t){throw t.$$typeof===Qh?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zi(e){function t(U,R){if(e){var Z=U.deletions;Z===null?(U.deletions=[R],U.flags|=16):Z.push(R)}}function o(U,R){if(!e)return null;for(;R!==null;)t(U,R),R=R.sibling;return null}function i(U){for(var R=new Map;U!==null;)U.key!==null?R.set(U.key,U):R.set(U.index,U),U=U.sibling;return R}function l(U,R){return U=gn(U,R),U.index=0,U.sibling=null,U}function c(U,R,Z){return U.index=Z,e?(Z=U.alternate,Z!==null?(Z=Z.index,Z<R?(U.flags|=67108866,R):Z):(U.flags|=67108866,R)):(U.flags|=1048576,R)}function b(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function I(U,R,Z,ne){return R===null||R.tag!==6?(R=Pl(Z,U.mode,ne),R.return=U,R):(R=l(R,Z),R.return=U,R)}function Y(U,R,Z,ne){var ge=Z.type;return ge===Do?ie(U,R,Z.props.children,ne,Z.key):R!==null&&(R.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===jn&&cn(ge)===R.type)?(R=l(R,Z.props),qn(R,Z),R.return=U,R):(R=Yi(Z.type,Z.key,Z.props,null,U.mode,ne),qn(R,Z),R.return=U,R)}function J(U,R,Z,ne){return R===null||R.tag!==4||R.stateNode.containerInfo!==Z.containerInfo||R.stateNode.implementation!==Z.implementation?(R=_l(Z,U.mode,ne),R.return=U,R):(R=l(R,Z.children||[]),R.return=U,R)}function ie(U,R,Z,ne,ge){return R===null||R.tag!==7?(R=oo(Z,U.mode,ne,ge),R.return=U,R):(R=l(R,Z),R.return=U,R)}function te(U,R,Z){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Pl(""+R,U.mode,Z),R.return=U,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Xi:return Z=Yi(R.type,R.key,R.props,null,U.mode,Z),qn(Z,R),Z.return=U,Z;case $o:return R=_l(R,U.mode,Z),R.return=U,R;case jn:return R=cn(R),te(U,R,Z)}if(Qi(R)||v(R))return R=oo(R,U.mode,Z,null),R.return=U,R;if(typeof R.then=="function")return te(U,Eo(R),Z);if(R.$$typeof===Mn)return te(U,kn(U,R),Z);ko(U,R)}return null}function se(U,R,Z,ne){var ge=R!==null?R.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ge!==null?null:I(U,R,""+Z,ne);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Xi:return Z.key===ge?Y(U,R,Z,ne):null;case $o:return Z.key===ge?J(U,R,Z,ne):null;case jn:return Z=cn(Z),se(U,R,Z,ne)}if(Qi(Z)||v(Z))return ge!==null?null:ie(U,R,Z,ne,null);if(typeof Z.then=="function")return se(U,R,Eo(Z),ne);if(Z.$$typeof===Mn)return se(U,R,kn(U,Z),ne);ko(U,Z)}return null}function ye(U,R,Z,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return U=U.get(Z)||null,I(R,U,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Xi:return U=U.get(ne.key===null?Z:ne.key)||null,Y(R,U,ne,ge);case $o:return U=U.get(ne.key===null?Z:ne.key)||null,J(R,U,ne,ge);case jn:return ne=cn(ne),ye(U,R,Z,ne,ge)}if(Qi(ne)||v(ne))return U=U.get(Z)||null,ie(R,U,ne,ge,null);if(typeof ne.then=="function")return ye(U,R,Z,Eo(ne),ge);if(ne.$$typeof===Mn)return ye(U,R,Z,kn(R,ne),ge);ko(R,ne)}return null}function Je(U,R,Z,ne){for(var ge=null,We=null,me=R,Ie=R=0,it=null;me!==null&&Ie<Z.length;Ie++){me.index>Ie?(it=me,me=null):it=me.sibling;var Pe=se(U,me,Z[Ie],ne);if(Pe===null){me===null&&(me=it);break}e&&me&&Pe.alternate===null&&t(U,me),R=c(Pe,R,Ie),We===null?ge=Pe:We.sibling=Pe,We=Pe,me=it}if(Ie===Z.length)return o(U,me),Ce&&K(U,Ie),ge;if(me===null){for(;Ie<Z.length;Ie++)me=te(U,Z[Ie],ne),me!==null&&(R=c(me,R,Ie),We===null?ge=me:We.sibling=me,We=me);return Ce&&K(U,Ie),ge}for(me=i(me);Ie<Z.length;Ie++)it=ye(me,U,Ie,Z[Ie],ne),it!==null&&(e&&it.alternate!==null&&me.delete(it.key===null?Ie:it.key),R=c(it,R,Ie),We===null?ge=it:We.sibling=it,We=it);return e&&me.forEach(function(Fn){return t(U,Fn)}),Ce&&K(U,Ie),ge}function Jr(U,R,Z,ne){if(Z==null)throw Error(a(151));for(var ge=null,We=null,me=R,Ie=R=0,it=null,Pe=Z.next();me!==null&&!Pe.done;Ie++,Pe=Z.next()){me.index>Ie?(it=me,me=null):it=me.sibling;var Fn=se(U,me,Pe.value,ne);if(Fn===null){me===null&&(me=it);break}e&&me&&Fn.alternate===null&&t(U,me),R=c(Fn,R,Ie),We===null?ge=Fn:We.sibling=Fn,We=Fn,me=it}if(Pe.done)return o(U,me),Ce&&K(U,Ie),ge;if(me===null){for(;!Pe.done;Ie++,Pe=Z.next())Pe=te(U,Pe.value,ne),Pe!==null&&(R=c(Pe,R,Ie),We===null?ge=Pe:We.sibling=Pe,We=Pe);return Ce&&K(U,Ie),ge}for(me=i(me);!Pe.done;Ie++,Pe=Z.next())Pe=ye(me,U,Ie,Pe.value,ne),Pe!==null&&(e&&Pe.alternate!==null&&me.delete(Pe.key===null?Ie:Pe.key),R=c(Pe,R,Ie),We===null?ge=Pe:We.sibling=Pe,We=Pe);return e&&me.forEach(function(Bm){return t(U,Bm)}),Ce&&K(U,Ie),ge}function ho(U,R,Z,ne){if(typeof Z=="object"&&Z!==null&&Z.type===Do&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Xi:e:{for(var ge=Z.key;R!==null;){if(R.key===ge){if(ge=Z.type,ge===Do){if(R.tag===7){o(U,R.sibling),ne=l(R,Z.props.children),ne.return=U,U=ne;break e}}else if(R.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===jn&&cn(ge)===R.type){o(U,R.sibling),ne=l(R,Z.props),qn(ne,Z),ne.return=U,U=ne;break e}o(U,R);break}else t(U,R);R=R.sibling}Z.type===Do?(ne=oo(Z.props.children,U.mode,ne,Z.key),ne.return=U,U=ne):(ne=Yi(Z.type,Z.key,Z.props,null,U.mode,ne),qn(ne,Z),ne.return=U,U=ne)}return b(U);case $o:e:{for(ge=Z.key;R!==null;){if(R.key===ge)if(R.tag===4&&R.stateNode.containerInfo===Z.containerInfo&&R.stateNode.implementation===Z.implementation){o(U,R.sibling),ne=l(R,Z.children||[]),ne.return=U,U=ne;break e}else{o(U,R);break}else t(U,R);R=R.sibling}ne=_l(Z,U.mode,ne),ne.return=U,U=ne}return b(U);case jn:return Z=cn(Z),ho(U,R,Z,ne)}if(Qi(Z))return Je(U,R,Z,ne);if(v(Z)){if(ge=v(Z),typeof ge!="function")throw Error(a(150));return Z=ge.call(Z),Jr(U,R,Z,ne)}if(typeof Z.then=="function")return ho(U,R,Eo(Z),ne);if(Z.$$typeof===Mn)return ho(U,R,kn(U,Z),ne);ko(U,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,R!==null&&R.tag===6?(o(U,R.sibling),ne=l(R,Z),ne.return=U,U=ne):(o(U,R),ne=Pl(Z,U.mode,ne),ne.return=U,U=ne),b(U)):o(U,R)}return function(U,R,Z,ne){try{Zr=0;var ge=ho(U,R,Z,ne);return qo=null,ge}catch(me){if(me===Zo||me===ls)throw me;var We=s(29,me,null,U.mode);return We.lanes=ne,We.return=U,We}finally{}}}function Co(){for(var e=Yo,t=na=Yo=0;t<e;){var o=Rt[t];Rt[t++]=null;var i=Rt[t];Rt[t++]=null;var l=Rt[t];Rt[t++]=null;var c=Rt[t];if(Rt[t++]=null,i!==null&&l!==null){var b=i.pending;b===null?l.next=l:(l.next=b.next,b.next=l),i.pending=l}c!==0&&Mi(o,l,c)}}function No(e,t,o,i){Rt[Yo++]=e,Rt[Yo++]=t,Rt[Yo++]=o,Rt[Yo++]=i,na|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function br(e,t,o,i){return No(e,t,o,i),zo(e)}function fn(e,t){return No(e,null,null,t),zo(e)}function Mi(e,t,o){e.lanes|=o;var i=e.alternate;i!==null&&(i.lanes|=o);for(var l=!1,c=e.return;c!==null;)c.childLanes|=o,i=c.alternate,i!==null&&(i.childLanes|=o),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(l=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,l&&t!==null&&(l=31-Ct(o),e=c.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=o|536870912),c):null}function zo(e){if(50<Kr)throw Kr=0,ha=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}function xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lt(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ot(e,t,o){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Se&2)!==0){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=zo(e),Mi(e,null,o),t}return No(e,i,t,o),zo(e)}function Yn(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,o|=i,t.lanes=o,F(e,o)}}function wr(e,t){var o=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,o===i)){var l=null,c=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};c===null?l=c=b:c=c.next=b,o=o.next}while(o!==null);c===null?l=c=t:c=c.next=t}else l=c=t;o={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function Xn(){if(oa){var e=Wo;if(e!==null)throw e}}function Qn(e,t,o,i){oa=!1;var l=e.updateQueue;Tn=!1;var c=l.firstBaseUpdate,b=l.lastBaseUpdate,I=l.shared.pending;if(I!==null){l.shared.pending=null;var Y=I,J=Y.next;Y.next=null,b===null?c=J:b.next=J,b=Y;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,I=ie.lastBaseUpdate,I!==b&&(I===null?ie.firstBaseUpdate=J:I.next=J,ie.lastBaseUpdate=Y))}if(c!==null){var te=l.baseState;b=0,ie=J=Y=null,I=c;do{var se=I.lane&-536870913,ye=se!==I.lane;if(ye?(ke&se)===se:(i&se)===se){se!==0&&se===Uo&&(oa=!0),ie!==null&&(ie=ie.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Je=e,Jr=I;se=t;var ho=o;switch(Jr.tag){case 1:if(Je=Jr.payload,typeof Je=="function"){te=Je.call(ho,te,se);break e}te=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Jr.payload,se=typeof Je=="function"?Je.call(ho,te,se):Je,se==null)break e;te=Al({},te,se);break e;case 2:Tn=!0}}se=I.callback,se!==null&&(e.flags|=64,ye&&(e.flags|=8192),ye=l.callbacks,ye===null?l.callbacks=[se]:ye.push(se))}else ye={lane:se,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ie===null?(J=ie=ye,Y=te):ie=ie.next=ye,b|=se;if(I=I.next,I===null){if(I=l.shared.pending,I===null)break;ye=I,I=ye.next,ye.next=null,l.lastBaseUpdate=ye,l.shared.pending=null}}while(!0);ie===null&&(Y=te),l.baseState=Y,l.firstBaseUpdate=J,l.lastBaseUpdate=ie,c===null&&(l.shared.lanes=0),$n|=b,e.lanes=b,e.memoizedState=te}}function ji(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Ii(e,t){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)ji(o[e],t)}function Sr(e,t){e=wn,w(us,e),w(Xo,t),wn=e|t.baseLanes}function Er(){w(us,wn),w(Xo,Xo.current)}function kr(){wn=us.current,S(Xo),S(us)}function tn(e){var t=e.alternate;w(Ye,Ye.current&1),w(Mt,e),Zt===null&&(t===null||Xo.current!==null||t.memoizedState!==null)&&(Zt=e)}function Cr(e){w(Ye,Ye.current),w(Mt,e),Zt===null&&(Zt=e)}function Pi(e){e.tag===22?(w(Ye,Ye.current),w(Mt,e),Zt===null&&(Zt=e)):nn()}function nn(){w(Ye,Ye.current),w(Mt,Mt.current)}function pt(e){S(Mt),Zt===e&&(Zt=null),S(Ye)}function Gn(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vl(o)||Ul(o)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fe(){throw Error(a(321))}function Nr(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!zt(e[o],t[o]))return!1;return!0}function zr(e,t,o,i,l,c){return bn=c,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,he.H=e===null||e.memoizedState===null?Tf:ra,fo=!1,c=o(i,l),fo=!1,Qo&&(c=Ti(t,o,i,l)),_i(e),c}function _i(e){he.H=Yr;var t=Ae!==null&&Ae.next!==null;if(bn=0,Xe=Ae=ve=null,cs=!1,qr=0,Go=null,t)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Kt(e)&&(Qe=!0))}function Ti(e,t,o,i){ve=e;var l=0;do{if(Qo&&(Go=null),qr=0,Qo=!1,25<=l)throw Error(a(301));if(l+=1,Xe=Ae=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}he.H=Af,c=t(o,i)}while(Qo);return c}function Xs(){var e=he.H,t=e.useState()[0];return t=typeof t.then=="function"?Kn(t):t,e=e.useState()[0],(Ae!==null?Ae.memoizedState:null)!==e&&(ve.flags|=1024),t}function Mr(){var e=fs!==0;return fs=0,e}function jr(e,t,o){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o}function jo(e){if(cs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}cs=!1}bn=0,Xe=Ae=ve=null,Qo=!1,qr=fs=0,Go=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Le(){if(Ae===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Xe===null?ve.memoizedState:Xe.next;if(t!==null)Xe=t,Ae=e;else{if(e===null)throw ve.alternate===null?Error(a(467)):Error(a(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Xe===null?ve.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Io(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kn(e){var t=qr;return qr+=1,Go===null&&(Go=[]),e=ki(Go,e,t),t=ve,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,he.H=t===null||t.memoizedState===null?Tf:ra),e}function Cn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kn(e);if(e.$$typeof===Mn)return He(e)}throw Error(a(438,String(e)))}function Ir(e){var t=null,o=ve.updateQueue;if(o!==null&&(t=o.memoCache),t==null){var i=ve.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),o===null&&(o=Io(),ve.updateQueue=o),o.memoCache=t,o=t.data[t.index],o===void 0)for(o=t.data[t.index]=Array(e),i=0;i<e;i++)o[i]=Gh;return t.index++,o}function Bt(e,t){return typeof t=="function"?t(e):t}function Jn(e){var t=Le();return Qs(t,Ae,e)}function Qs(e,t,o){var i=e.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=o;var l=e.baseQueue,c=i.pending;if(c!==null){if(l!==null){var b=l.next;l.next=c.next,c.next=b}t.baseQueue=l=c,i.pending=null}if(c=e.baseState,l===null)e.memoizedState=c;else{t=l.next;var I=b=null,Y=null,J=t,ie=!1;do{var te=J.lane&-536870913;if(te!==J.lane?(ke&te)===te:(bn&te)===te){var se=J.revertLane;if(se===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),te===Uo&&(ie=!0);else if((bn&se)===se){J=J.next,se===Uo&&(ie=!0);continue}else te={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},Y===null?(I=Y=te,b=c):Y=Y.next=te,ve.lanes|=se,$n|=se;te=J.action,fo&&o(c,te),c=J.hasEagerState?J.eagerState:o(c,te)}else se={lane:te,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},Y===null?(I=Y=se,b=c):Y=Y.next=se,ve.lanes|=te,$n|=te;J=J.next}while(J!==null&&J!==t);if(Y===null?b=c:Y.next=I,!zt(c,e.memoizedState)&&(Qe=!0,ie&&(o=Wo,o!==null)))throw o;e.memoizedState=c,e.baseState=b,e.baseQueue=Y,i.lastRenderedState=c}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Gs(e){var t=Le(),o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var i=o.dispatch,l=o.pending,c=t.memoizedState;if(l!==null){o.pending=null;var b=l=l.next;do c=e(c,b.action),b=b.next;while(b!==l);zt(c,t.memoizedState)||(Qe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),o.lastRenderedState=c}return[c,i]}function au(e,t,o){var i=ve,l=Le(),c=Ce;if(c){if(o===void 0)throw Error(a(407));o=o()}else o=t();var b=!zt((Ae||l).memoizedState,o);if(b&&(l.memoizedState=o,Qe=!0),l=l.queue,el(fu.bind(null,i,l,e),[e]),l.getSnapshot!==t||b||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,Po(9,{destroy:void 0},cu.bind(null,i,l,o,t),null),$e===null)throw Error(a(349));c||(bn&127)!==0||uu(i,t,o)}return o}function uu(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=ve.updateQueue,t===null?(t=Io(),ve.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function cu(e,t,o,i){t.value=o,t.getSnapshot=i,du(t)&&pu(e)}function fu(e,t,o){return o(function(){du(t)&&pu(e)})}function du(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!zt(e,o)}catch{return!0}}function pu(e){var t=fn(e,2);t!==null&&mt(t,e,2)}function Ks(e){var t=st();if(typeof e=="function"){var o=e;if(e=o(),fo){W(!0);try{o()}finally{W(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:e},t}function hu(e,t,o,i){return e.baseState=o,Qs(e,Ae,typeof i=="function"?i:Bt)}function zh(e,t,o,i,l){if(Di(e))throw Error(a(485));if(e=t.action,e!==null){var c={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){c.listeners.push(b)}};he.T!==null?o(!0):c.isTransition=!1,i(c),o=t.pending,o===null?(c.next=t.pending=c,gu(t,c)):(c.next=o.next,t.pending=o.next=c)}}function gu(e,t){var o=t.action,i=t.payload,l=e.state;if(t.isTransition){var c=he.T,b={};he.T=b;try{var I=o(l,i),Y=he.S;Y!==null&&Y(b,I),mu(e,t,I)}catch(J){Js(e,t,J)}finally{c!==null&&b.types!==null&&(c.types=b.types),he.T=c}}else try{c=o(l,i),mu(e,t,c)}catch(J){Js(e,t,J)}}function mu(e,t,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(i){yu(e,t,i)},function(i){return Js(e,t,i)}):yu(e,t,o)}function yu(e,t,o){t.status="fulfilled",t.value=o,vu(t),e.state=o,t=e.pending,t!==null&&(o=t.next,o===t?e.pending=null:(o=o.next,t.next=o,gu(e,o)))}function Js(e,t,o){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=o,vu(t),t=t.next;while(t!==i)}e.action=null}function vu(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function bu(e,t){return t}function xu(e,t){if(Ce){var o=$e.formState;if(o!==null){e:{var i=ve;if(Ce){if(Ve){var l=Ug(Ve,Dt);if(l){Ve=gf(l),i=Wg(l);break e}}le(i)}i=!1}i&&(t=o[0])}}o=st(),o.memoizedState=o.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bu,lastRenderedState:t},o.queue=i,o=Fu.bind(null,ve,i),i.dispatch=o,i=Ks(!1);var c=rl.bind(null,ve,!1,i.queue);return i=st(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,o=zh.bind(null,ve,l,c,o),l.dispatch=o,i.memoizedState=e,[t,o,!1]}function wu(e){var t=Le();return Su(t,Ae,e)}function Su(e,t,o){if(t=Qs(e,t,bu)[0],e=Jn(Bt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Kn(t)}catch(b){throw b===Zo?ls:b}else i=t;t=Le();var l=t.queue,c=l.dispatch;return o!==t.memoizedState&&(ve.flags|=2048,Po(9,{destroy:void 0},Mh.bind(null,l,o),null)),[i,c,e]}function Mh(e,t){e.action=t}function Eu(e){var t=Le(),o=Ae;if(o!==null)return Su(t,o,e);Le(),t=t.memoizedState,o=Le();var i=o.queue.dispatch;return o.memoizedState=e,[t,i,!1]}function Po(e,t,o,i){return e={tag:e,create:o,deps:i,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Io(),ve.updateQueue=t),o=t.lastEffect,o===null?t.lastEffect=e.next=e:(i=o.next,o.next=e,e.next=i,t.lastEffect=e),e}function ku(){return Le().memoizedState}function Ai(e,t,o,i){var l=st();ve.flags|=e,l.memoizedState=Po(1|t,{destroy:void 0},o,i===void 0?null:i)}function $i(e,t,o,i){var l=Le();i=i===void 0?null:i;var c=l.memoizedState.inst;Ae!==null&&i!==null&&Nr(i,Ae.memoizedState.deps)?l.memoizedState=Po(t,c,o,i):(ve.flags|=e,l.memoizedState=Po(1|t,c,o,i))}function Cu(e,t){Ai(8390656,8,e,t)}function el(e,t){$i(2048,8,e,t)}function jh(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Io(),ve.updateQueue=t,t.events=[e];else{var o=t.events;o===null?t.events=[e]:o.push(e)}}function Nu(e){var t=Le().memoizedState;return jh({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function zu(e,t){return $i(4,2,e,t)}function Mu(e,t){return $i(4,4,e,t)}function ju(e,t){if(typeof t=="function"){e=e();var o=t(e);return function(){typeof o=="function"?o():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Iu(e,t,o){o=o!=null?o.concat([e]):null,$i(4,4,ju.bind(null,t,e),o)}function tl(){}function Pu(e,t){var o=Le();t=t===void 0?null:t;var i=o.memoizedState;return t!==null&&Nr(t,i[1])?i[0]:(o.memoizedState=[e,t],e)}function _u(e,t){var o=Le();t=t===void 0?null:t;var i=o.memoizedState;if(t!==null&&Nr(t,i[1]))return i[0];if(i=e(),fo){W(!0);try{e()}finally{W(!1)}}return o.memoizedState=[i,t],i}function nl(e,t,o){return o===void 0||(bn&1073741824)!==0&&(ke&261930)===0?e.memoizedState=t:(e.memoizedState=o,e=Mc(),ve.lanes|=e,$n|=e,o)}function Tu(e,t,o,i){return zt(o,t)?o:Xo.current!==null?(e=nl(e,o,i),zt(e,t)||(Qe=!0),e):(bn&42)===0||(bn&1073741824)!==0&&(ke&261930)===0?(Qe=!0,e.memoizedState=o):(e=Mc(),ve.lanes|=e,$n|=e,t)}function Au(e,t,o,i,l){var c=yn();ot(c!==0&&8>c?c:8);var b=he.T,I={};he.T=I,rl(e,!1,t,o);try{var Y=l(),J=he.S;if(J!==null&&J(I,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ie=Ys(Y,i);Pr(e,t,ie,Et(e))}else Pr(e,t,i,Et(e))}catch(te){Pr(e,t,{then:function(){},status:"rejected",reason:te},Et())}finally{ot(c),b!==null&&I.types!==null&&(b.types=I.types),he.T=b}}function $u(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ro,baseState:Ro,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:Ro},next:null};var o={};return t.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:o},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ol(){return He(io)}function Du(){return Le().memoizedState}function Ru(){return Le().memoizedState}function Ih(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var o=Et();e=Lt(o);var i=Ot(t,e,o);i!==null&&(mt(i,t,o),Yn(i,t,o)),t={cache:Jt()},e.payload=t;return}t=t.return}}function Ph(e,t,o){var i=Et();o={lane:i,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Di(e)?Lu(t,o):(o=br(e,t,o,i),o!==null&&(mt(o,e,i),Ou(o,t,i)))}function Fu(e,t,o){var i=Et();Pr(e,t,o,i)}function Pr(e,t,o,i){var l={lane:i,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Di(e))Lu(t,l);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var b=t.lastRenderedState,I=c(b,o);if(l.hasEagerState=!0,l.eagerState=I,zt(I,b))return No(e,t,l,0),$e===null&&Co(),!1}catch{}finally{}if(o=br(e,t,l,i),o!==null)return mt(o,e,i),Ou(o,t,i),!0}return!1}function rl(e,t,o,i){if(i={lane:2,revertLane:yr(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Di(e)){if(t)throw Error(a(479))}else t=br(e,o,i,2),t!==null&&mt(t,e,2)}function Di(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Lu(e,t){Qo=cs=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Ou(e,t,o){if((o&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,o|=i,t.lanes=o,F(e,o)}}function il(e,t,o,i){t=e.memoizedState,o=o(i,t),o=o==null?t:Al({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}function Bu(e,t,o,i,l,c,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,b):t.prototype&&t.prototype.isPureReactComponent?!So(o,i)||!So(l,c):!0}function Hu(e,t,o,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,i),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function eo(e,t){var o=t;if("ref"in t){o={};for(var i in t)i!=="ref"&&(o[i]=t[i])}if(e=e.defaultProps){o===t&&(o=Al({},o));for(var l in e)o[l]===void 0&&(o[l]=e[l])}return o}function Ri(e,t){try{var o=e.onUncaughtError;o(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Vu(e,t,o){try{var i=e.onCaughtError;i(o.value,{componentStack:o.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function sl(e,t,o){return o=Lt(o),o.tag=3,o.payload={element:null},o.callback=function(){Ri(e,t)},o}function Uu(e){return e=Lt(e),e.tag=3,e}function Wu(e,t,o,i){var l=o.type.getDerivedStateFromError;if(typeof l=="function"){var c=i.value;e.payload=function(){return l(c)},e.callback=function(){Vu(t,o,i)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Vu(t,o,i),typeof l!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var I=i.stack;this.componentDidCatch(i.value,{componentStack:I!==null?I:""})})}function _h(e,t,o,i,l){if(o.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=o.alternate,t!==null&&gt(t,o,l,!0),o=Mt.current,o!==null){switch(o.tag){case 31:case 13:return Zt===null?Zi():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=l,i===as?o.flags|=16384:(t=o.updateQueue,t===null?o.updateQueue=new Set([i]):t.add(i),jl(e,i,l)),!1;case 22:return o.flags|=65536,i===as?o.flags|=16384:(t=o.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},o.updateQueue=t):(o=t.retryQueue,o===null?t.retryQueue=new Set([i]):o.add(i)),jl(e,i,l)),!1}throw Error(a(435,o.tag))}return jl(e,i,l),Zi(),!1}if(Ce)return t=Mt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==Gl&&(e=Error(a(422),{cause:i}),_e(H(e,o)))):(i!==Gl&&(t=Error(a(423),{cause:i}),_e(H(t,o))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=H(i,o),l=sl(e.stateNode,i,l),wr(e,l),qe!==4&&(qe=2)),!1;var c=Error(a(520),{cause:i});if(c=H(c,o),Qr===null?Qr=[c]:Qr.push(c),qe!==4&&(qe=2),t===null)return!0;i=H(i,o),o=t;do{switch(o.tag){case 3:return o.flags|=65536,e=l&-l,o.lanes|=e,e=sl(o.stateNode,i,e),wr(o,e),!1;case 1:if(t=o.type,c=o.stateNode,(o.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Dn===null||!Dn.has(c))))return o.flags|=65536,l&=-l,o.lanes|=l,l=Uu(l),Wu(l,e,o,i),wr(o,l),!1}o=o.return}while(o!==null);return!1}function lt(e,t,o,i){t.child=e===null?_f(t,null,o,i):co(t,e.child,o,i)}function Zu(e,t,o,i,l){o=o.render;var c=t.ref;if("ref"in i){var b={};for(var I in i)I!=="ref"&&(b[I]=i[I])}else b=i;return St(t),i=zr(e,t,o,b,c,l),I=Mr(),e!==null&&!Qe?(jr(e,t,l),dn(e,t,l)):(Ce&&I&&Q(t),t.flags|=1,lt(e,t,i,l),t.child)}function qu(e,t,o,i,l){if(e===null){var c=o.type;return typeof c=="function"&&!Il(c)&&c.defaultProps===void 0&&o.compare===null?(t.tag=15,t.type=c,Yu(e,t,c,i,l)):(e=Yi(o.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!pl(e,l)){var b=c.memoizedProps;if(o=o.compare,o=o!==null?o:So,o(b,i)&&e.ref===t.ref)return dn(e,t,l)}return t.flags|=1,e=gn(c,i),e.ref=t.ref,e.return=t,t.child=e}function Yu(e,t,o,i,l){if(e!==null){var c=e.memoizedProps;if(So(c,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=c,pl(e,l))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,dn(e,t,l)}return ll(e,t,o,i,l)}function Xu(e,t,o,i){var l=i.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|o:o,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~c}else i=0,t.child=null;return Qu(e,t,c,o,i)}if((o&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&wo(t,c!==null?c.cachePool:null),c!==null?Sr(t,c):Er(),Pi(t);else return i=t.lanes=536870912,Qu(e,t,c!==null?c.baseLanes|o:o,o,i)}else c!==null?(wo(t,c.cachePool),Sr(t,c),nn(),t.memoizedState=null):(e!==null&&wo(t,null),Er(),nn());return lt(e,t,l,o),t.child}function _r(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qu(e,t,o,i,l){var c=vr();return c=c===null?null:{parent:mn?Ue._currentValue:Ue._currentValue2,pool:c},t.memoizedState={baseLanes:o,cachePool:c},e!==null&&wo(t,null),Er(),Pi(t),e!==null&&gt(e,t,i,!0),t.childLanes=l,null}function Fi(e,t){return t=Oi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gu(e,t,o){return co(t,e.child,null,o),e=Fi(t,t.pendingProps),e.flags|=2,pt(t),t.memoizedState=null,e}function Th(e,t,o){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ce){if(i.mode==="hidden")return e=Fi(t,i),t.lanes=536870912,_r(null,e);if(Cr(t),(e=Ve)?(e=em(e,Dt),e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=Yc(e),o.return=t,t.child=o,ut=t,Ve=null)):e=null,e===null)throw le(t);return t.lanes=536870912,null}return Fi(t,i)}var c=e.memoizedState;if(c!==null){var b=c.dehydrated;if(Cr(t),l)if(t.flags&256)t.flags&=-257,t=Gu(e,t,o);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(Qe||gt(e,t,o,!1),l=(o&e.childLanes)!==0,Qe||l){if(i=$e,i!==null&&(b=X(i,o),b!==0&&b!==c.retryLane))throw c.retryLane=b,fn(e,b),mt(i,e,b),sa;Zi(),t=Gu(e,t,o)}else e=c.treeContext,dt&&(Ve=Xg(b),ut=t,Ce=!0,_n=null,Dt=!1,e!==null&&ee(t,e)),t=Fi(t,i),t.flags|=4096;return t}return e=gn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Li(e,t){var o=t.ref;if(o===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(t.flags|=4194816)}}function ll(e,t,o,i,l){return St(t),o=zr(e,t,o,i,void 0,l),i=Mr(),e!==null&&!Qe?(jr(e,t,l),dn(e,t,l)):(Ce&&i&&Q(t),t.flags|=1,lt(e,t,o,l),t.child)}function Ku(e,t,o,i,l,c){return St(t),t.updateQueue=null,o=Ti(t,i,o,l),_i(e),i=Mr(),e!==null&&!Qe?(jr(e,t,c),dn(e,t,c)):(Ce&&i&&Q(t),t.flags|=1,lt(e,t,o,c),t.child)}function Ju(e,t,o,i,l){if(St(t),t.stateNode===null){var c=Oo,b=o.contextType;typeof b=="object"&&b!==null&&(c=He(b)),c=new o(i,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=ia,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=i,c.state=t.memoizedState,c.refs={},xr(t),b=o.contextType,c.context=typeof b=="object"&&b!==null?He(b):Oo,c.state=t.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(il(t,o,b,i),c.state=t.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(b=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),b!==c.state&&ia.enqueueReplaceState(c,c.state,null),Qn(t,i,c,l),Xn(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){c=t.stateNode;var I=t.memoizedProps,Y=eo(o,I);c.props=Y;var J=c.context,ie=o.contextType;b=Oo,typeof ie=="object"&&ie!==null&&(b=He(ie));var te=o.getDerivedStateFromProps;ie=typeof te=="function"||typeof c.getSnapshotBeforeUpdate=="function",I=t.pendingProps!==I,ie||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(I||J!==b)&&Hu(t,c,i,b),Tn=!1;var se=t.memoizedState;c.state=se,Qn(t,i,c,l),Xn(),J=t.memoizedState,I||se!==J||Tn?(typeof te=="function"&&(il(t,o,te,i),J=t.memoizedState),(Y=Tn||Bu(t,o,Y,i,se,J,b))?(ie||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=J),c.props=i,c.state=J,c.context=b,i=Y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,Mo(e,t),b=t.memoizedProps,ie=eo(o,b),c.props=ie,te=t.pendingProps,se=c.context,J=o.contextType,Y=Oo,typeof J=="object"&&J!==null&&(Y=He(J)),I=o.getDerivedStateFromProps,(J=typeof I=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(b!==te||se!==Y)&&Hu(t,c,i,Y),Tn=!1,se=t.memoizedState,c.state=se,Qn(t,i,c,l),Xn();var ye=t.memoizedState;b!==te||se!==ye||Tn||e!==null&&e.dependencies!==null&&Kt(e.dependencies)?(typeof I=="function"&&(il(t,o,I,i),ye=t.memoizedState),(ie=Tn||Bu(t,o,ie,i,se,ye,Y)||e!==null&&e.dependencies!==null&&Kt(e.dependencies))?(J||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,ye,Y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,ye,Y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||b===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ye),c.props=i,c.state=ye,c.context=Y,i=ie):(typeof c.componentDidUpdate!="function"||b===e.memoizedProps&&se===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&se===e.memoizedState||(t.flags|=1024),i=!1)}return c=i,Li(e,t),i=(t.flags&128)!==0,c||i?(c=t.stateNode,o=i&&typeof o.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&i?(t.child=co(t,e.child,null,l),t.child=co(t,null,o,l)):lt(e,t,o,l),t.memoizedState=c.state,e=t.child):e=dn(e,t,l),e}function ec(e,t,o,i){return pe(),t.flags|=256,lt(e,t,o,i),t.child}function al(e){return{baseLanes:e,cachePool:Si()}}function ul(e,t,o){return e=e!==null?e.childLanes&~o:0,t&&(e|=It),e}function tc(e,t,o){var i=t.pendingProps,l=!1,c=(t.flags&128)!==0,b;if((b=c)||(b=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),b&&(l=!0,t.flags&=-129),b=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(l?tn(t):nn(),(e=Ve)?(e=tm(e,Dt),e!==null&&(t.memoizedState={dehydrated:e,treeContext:In!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=Yc(e),o.return=t,t.child=o,ut=t,Ve=null)):e=null,e===null)throw le(t);return Ul(e)?t.lanes=32:t.lanes=536870912,null}var I=i.children;return i=i.fallback,l?(nn(),l=t.mode,I=Oi({mode:"hidden",children:I},l),i=oo(i,l,o,null),I.return=t,i.return=t,I.sibling=i,t.child=I,i=t.child,i.memoizedState=al(o),i.childLanes=ul(e,b,o),t.memoizedState=la,_r(null,i)):(tn(t),cl(t,I))}var Y=e.memoizedState;if(Y!==null&&(I=Y.dehydrated,I!==null)){if(c)t.flags&256?(tn(t),t.flags&=-257,t=fl(e,t,o)):t.memoizedState!==null?(nn(),t.child=e.child,t.flags|=128,t=null):(nn(),I=i.fallback,l=t.mode,i=Oi({mode:"visible",children:i.children},l),I=oo(I,l,o,null),I.flags|=2,i.return=t,I.return=t,i.sibling=I,t.child=i,co(t,e.child,null,o),i=t.child,i.memoizedState=al(o),i.childLanes=ul(e,b,o),t.memoizedState=la,t=_r(null,i));else if(tn(t),Ul(I))b=Hg(I).digest,i=Error(a(419)),i.stack="",i.digest=b,_e({value:i,source:null,stack:null}),t=fl(e,t,o);else if(Qe||gt(e,t,o,!1),b=(o&e.childLanes)!==0,Qe||b){if(b=$e,b!==null&&(i=X(b,o),i!==0&&i!==Y.retryLane))throw Y.retryLane=i,fn(e,i),mt(b,e,i),sa;Vl(I)||Zi(),t=fl(e,t,o)}else Vl(I)?(t.flags|=192,t.child=e.child,t=null):(e=Y.treeContext,dt&&(Ve=Qg(I),ut=t,Ce=!0,_n=null,Dt=!1,e!==null&&ee(t,e)),t=cl(t,i.children),t.flags|=4096);return t}return l?(nn(),I=i.fallback,l=t.mode,Y=e.child,c=Y.sibling,i=gn(Y,{mode:"hidden",children:i.children}),i.subtreeFlags=Y.subtreeFlags&65011712,c!==null?I=gn(c,I):(I=oo(I,l,o,null),I.flags|=2),I.return=t,i.return=t,i.sibling=I,t.child=i,_r(null,i),i=t.child,I=e.child.memoizedState,I===null?I=al(o):(l=I.cachePool,l!==null?(Y=mn?Ue._currentValue:Ue._currentValue2,l=l.parent!==Y?{parent:Y,pool:Y}:l):l=Si(),I={baseLanes:I.baseLanes|o,cachePool:l}),i.memoizedState=I,i.childLanes=ul(e,b,o),t.memoizedState=la,_r(e.child,i)):(tn(t),o=e.child,e=o.sibling,o=gn(o,{mode:"visible",children:i.children}),o.return=t,o.sibling=null,e!==null&&(b=t.deletions,b===null?(t.deletions=[e],t.flags|=16):b.push(e)),t.child=o,t.memoizedState=null,o)}function cl(e,t){return t=Oi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Oi(e,t){return e=s(22,e,null,t),e.lanes=0,e}function fl(e,t,o){return co(t,e.child,null,o),e=cl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nc(e,t,o){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),_t(e.return,t,o)}function dl(e,t,o,i,l,c){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:o,tailMode:l,treeForkCount:c}:(b.isBackwards=t,b.rendering=null,b.renderingStartTime=0,b.last=i,b.tail=o,b.tailMode=l,b.treeForkCount=c)}function oc(e,t,o){var i=t.pendingProps,l=i.revealOrder,c=i.tail;i=i.children;var b=Ye.current,I=(b&2)!==0;if(I?(b=b&1|2,t.flags|=128):b&=1,w(Ye,b),lt(e,t,i,o),i=Ce?Vr:0,!I&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nc(e,o,t);else if(e.tag===19)nc(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(o=t.child,l=null;o!==null;)e=o.alternate,e!==null&&Gn(e)===null&&(l=o),o=o.sibling;o=l,o===null?(l=t.child,t.child=null):(l=o.sibling,o.sibling=null),dl(t,!1,l,o,c,i);break;case"backwards":case"unstable_legacy-backwards":for(o=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Gn(e)===null){t.child=l;break}e=l.sibling,l.sibling=o,o=l,l=e}dl(t,!0,o,null,c,i);break;case"together":dl(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function dn(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(o&t.childLanes)===0)if(e!==null){if(gt(e,t,o,!1),(o&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,o=gn(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=gn(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function pl(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Kt(e)))}function Ah(e,t,o){switch(t.tag){case 3:ae(t,t.stateNode.containerInfo),Ne(t,Ue,e.memoizedState.cache),pe();break;case 27:case 5:ce(t);break;case 4:ae(t,t.stateNode.containerInfo);break;case 10:Ne(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Cr(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(tn(t),t.flags|=128,null):(o&t.child.childLanes)!==0?tc(e,t,o):(tn(t),e=dn(e,t,o),e!==null?e.sibling:null);tn(t);break;case 19:var l=(e.flags&128)!==0;if(i=(o&t.childLanes)!==0,i||(gt(e,t,o,!1),i=(o&t.childLanes)!==0),l){if(i)return oc(e,t,o);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),w(Ye,Ye.current),i)break;return null;case 22:return t.lanes=0,Xu(e,t,o,t.pendingProps);case 24:Ne(t,Ue,e.memoizedState.cache)}return dn(e,t,o)}function rc(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!pl(e,o)&&(t.flags&128)===0)return Qe=!1,Ah(e,t,o);Qe=(e.flags&131072)!==0}else Qe=!1,Ce&&(t.flags&1048576)!==0&&G(t,Vr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=cn(t.elementType),t.type=e,typeof e=="function")Il(e)?(i=eo(e,i),t.tag=1,t=Ju(null,t,e,i,o)):(t.tag=0,t=ll(null,t,e,i,o));else{if(e!=null){var l=e.$$typeof;if(l===Dl){t.tag=11,t=Zu(null,t,e,i,o);break e}else if(l===Ll){t.tag=14,t=qu(null,t,e,i,o);break e}}throw t=h(e)||e,Error(a(306,t,""))}}return t;case 0:return ll(e,t,t.type,t.pendingProps,o);case 1:return i=t.type,l=eo(i,t.pendingProps),Ju(e,t,i,l,o);case 3:e:{if(ae(t,t.stateNode.containerInfo),e===null)throw Error(a(387));var c=t.pendingProps;l=t.memoizedState,i=l.element,Mo(e,t),Qn(t,c,null,o);var b=t.memoizedState;if(c=b.cache,Ne(t,Ue,c),c!==l.cache&&wt(t,[Ue],o,!0),Xn(),c=b.element,dt&&l.isDehydrated)if(l={element:c,isDehydrated:!1,cache:b.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=ec(e,t,c,o);break e}else if(c!==i){i=H(Error(a(424)),t),_e(i),t=ec(e,t,c,o);break e}else for(dt&&(Ve=Yg(t.stateNode.containerInfo),ut=t,Ce=!0,_n=null,Dt=!0),o=_f(t,null,c,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(pe(),c===i){t=dn(e,t,o);break e}lt(e,t,c,o)}t=t.child}return t;case 26:if(Wt)return Li(e,t),e===null?(o=vf(t.type,null,t.pendingProps,null))?t.memoizedState=o:Ce||(t.stateNode=wm(t.type,t.pendingProps,Pn.current,t)):t.memoizedState=vf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(tt)return ce(t),e===null&&tt&&Ce&&(i=t.stateNode=kf(t.type,t.pendingProps,Pn.current,at.current,!1),ut=t,Dt=!0,Ve=Gg(t.type,i,Ve)),lt(e,t,t.pendingProps.children,o),Li(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&(vm(t.type,t.pendingProps,at.current),(l=i=Ve)&&(i=Kg(i,t.type,t.pendingProps,Dt),i!==null?(t.stateNode=i,ut=t,Ve=qg(i),Dt=!1,l=!0):l=!1),l||le(t)),ce(t),l=t.type,c=t.pendingProps,b=e!==null?e.memoizedProps:null,i=c.children,Gi(l,c)?i=null:b!==null&&Gi(l,b)&&(t.flags|=32),t.memoizedState!==null&&(l=zr(e,t,Xs,null,null,o),mn?io._currentValue=l:io._currentValue2=l),Li(e,t),lt(e,t,i,o),t.child;case 6:return e===null&&Ce&&(bm(t.pendingProps,at.current),(e=o=Ve)&&(o=Jg(o,t.pendingProps,Dt),o!==null?(t.stateNode=o,ut=t,Ve=null,e=!0):e=!1),e||le(t)),null;case 13:return tc(e,t,o);case 4:return ae(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=co(t,null,i,o):lt(e,t,i,o),t.child;case 11:return Zu(e,t,t.type,t.pendingProps,o);case 7:return lt(e,t,t.pendingProps,o),t.child;case 8:return lt(e,t,t.pendingProps.children,o),t.child;case 12:return lt(e,t,t.pendingProps.children,o),t.child;case 10:return i=t.pendingProps,Ne(t,t.type,i.value),lt(e,t,i.children,o),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,St(t),l=He(l),i=i(l),t.flags|=1,lt(e,t,i,o),t.child;case 14:return qu(e,t,t.type,t.pendingProps,o);case 15:return Yu(e,t,t.type,t.pendingProps,o);case 19:return oc(e,t,o);case 31:return Th(e,t,o);case 22:return Xu(e,t,o,t.pendingProps);case 24:return St(t),i=He(Ue),e===null?(l=vr(),l===null&&(l=$e,c=Jt(),l.pooledCache=c,c.refCount++,c!==null&&(l.pooledCacheLanes|=o),l=c),t.memoizedState={parent:i,cache:l},xr(t),Ne(t,Ue,l)):((e.lanes&o)!==0&&(Mo(e,t),Qn(t,null,null,o),Xn()),l=e.memoizedState,c=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),Ne(t,Ue,i)):(i=c.cache,Ne(t,Ue,i),i!==l.cache&&wt(t,[Ue],o,!0))),lt(e,t,t.pendingProps.children,o),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Ht(e){e.flags|=4}function Bi(e){rn&&(e.flags|=8)}function ic(e,t){if(e!==null&&e.child===t.child)return!1;if((t.flags&16)!==0)return!0;for(e=t.child;e!==null;){if((e.flags&8218)!==0||(e.subtreeFlags&8218)!==0)return!0;e=e.sibling}return!1}function hl(e,t,o,i){if(ft)for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)Bl(e,o.stateNode);else if(!(o.tag===4||tt&&o.tag===27)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}else if(rn)for(var l=t.child;l!==null;){if(l.tag===5){var c=l.stateNode;o&&i&&(c=pf(c,l.type,l.memoizedProps)),Bl(e,c)}else if(l.tag===6)c=l.stateNode,o&&i&&(c=hf(c,l.memoizedProps)),Bl(e,c);else if(l.tag!==4){if(l.tag===22&&l.memoizedState!==null)c=l.child,c!==null&&(c.return=l),hl(e,l,!0,!0);else if(l.child!==null){l.child.return=l,l=l.child;continue}}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return;l=l.return}l.sibling.return=l.return,l=l.sibling}}function sc(e,t,o,i){var l=!1;if(rn)for(var c=t.child;c!==null;){if(c.tag===5){var b=c.stateNode;o&&i&&(b=pf(b,c.type,c.memoizedProps)),ff(e,b)}else if(c.tag===6)b=c.stateNode,o&&i&&(b=hf(b,c.memoizedProps)),ff(e,b);else if(c.tag!==4){if(c.tag===22&&c.memoizedState!==null)l=c.child,l!==null&&(l.return=c),sc(e,c,!0,!0),l=!0;else if(c.child!==null){c.child.return=c,c=c.child;continue}}if(c===t)break;for(;c.sibling===null;){if(c.return===null||c.return===t)return l;c=c.return}c.sibling.return=c.return,c=c.sibling}return l}function lc(e,t){if(rn&&ic(e,t)){e=t.stateNode;var o=e.containerInfo,i=cf();sc(i,t,!1,!1),e.pendingChildren=i,Ht(t),Bg(o,i)}}function gl(e,t,o,i){if(ft)e.memoizedProps!==i&&Ht(t);else if(rn){var l=e.stateNode,c=e.memoizedProps;if((e=ic(e,t))||c!==i){var b=at.current;c=Og(l,o,c,i,!e,null),c===l?t.stateNode=l:(Bi(t),rf(c,o,i,b)&&Ht(t),t.stateNode=c,e&&hl(c,t,!1,!1))}else t.stateNode=l}}function ml(e,t,o,i,l){if((e.mode&32)!==0&&(o===null?pg(t,i):hg(t,o,i))){if(e.flags|=16777216,(l&335544128)===l||Hl(t,i))if(lf(e.stateNode,t,i))e.flags|=8192;else if(Tc())e.flags|=8192;else throw uo=as,ta}else e.flags&=-16777217}function ac(e,t){if(Em(t)){if(e.flags|=16777216,!Ef(t))if(Tc())e.flags|=8192;else throw uo=as,ta}else e.flags&=-16777217}function Hi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?k():536870912,e.lanes|=t,er|=t)}function Tr(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var i=null;o!==null;)o.alternate!==null&&(i=o),o=o.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,i=0;if(t)for(var l=e.child;l!==null;)o|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)o|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=o,t}function $h(e,t,o){var i=t.pendingProps;switch(re(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return o=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),De(Ue),de(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(fe(t)?Ht(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Me())),lc(e,t),Re(t),null;case 26:if(Wt){var l=t.type,c=t.memoizedState;return e===null?(Ht(t),c!==null?(Re(t),ac(t,c)):(Re(t),ml(t,l,null,i,o))):c?c!==e.memoizedState?(Ht(t),Re(t),ac(t,c)):(Re(t),t.flags&=-16777217):(c=e.memoizedProps,ft?c!==i&&Ht(t):gl(e,t,l,i),Re(t),ml(t,l,c,i,o)),null}case 27:if(tt){if(oe(t),o=Pn.current,l=t.type,e!==null&&t.stateNode!=null)ft?e.memoizedProps!==i&&Ht(t):gl(e,t,l,i);else{if(!i){if(t.stateNode===null)throw Error(a(166));return Re(t),null}e=at.current,fe(t)?xe(t,e):(e=kf(l,i,o,e,!0),t.stateNode=e,Ht(t))}return Re(t),null}case 5:if(oe(t),l=t.type,e!==null&&t.stateNode!=null)gl(e,t,l,i);else{if(!i){if(t.stateNode===null)throw Error(a(166));return Re(t),null}if(c=at.current,fe(t))xe(t,c),dm(t.stateNode,l,i,c)&&(t.flags|=64);else{var b=ig(l,i,Pn.current,c,t);Bi(t),hl(b,t,!1,!1),t.stateNode=b,rf(b,l,i,c)&&Ht(t)}}return Re(t),ml(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,o),null;case 6:if(e&&t.stateNode!=null)o=e.memoizedProps,ft?o!==i&&Ht(t):rn&&(o!==i?(e=Pn.current,o=at.current,Bi(t),t.stateNode=sf(i,e,o,t)):t.stateNode=e.stateNode);else{if(typeof i!="string"&&t.stateNode===null)throw Error(a(166));if(e=Pn.current,o=at.current,fe(t)){if(!dt)throw Error(a(176));if(e=t.stateNode,o=t.memoizedProps,i=null,l=ut,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}om(e,o,t,i)||le(t,!0)}else Bi(t),t.stateNode=sf(i,e,o,t)}return Re(t),null;case 31:if(o=t.memoizedState,e===null||e.memoizedState!==null){if(i=fe(t),o!==null){if(e===null){if(!i)throw Error(a(318));if(!dt)throw Error(a(556));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));rm(e,t)}else pe(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),e=!1}else o=Me(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return t.flags&256?(pt(t),t):(pt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Re(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=fe(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(a(318));if(!dt)throw Error(a(344));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));im(l,t)}else pe(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Re(t),l=!1}else l=Me(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(pt(t),t):(pt(t),null)}return pt(t),(t.flags&128)!==0?(t.lanes=o,t):(o=i!==null,e=e!==null&&e.memoizedState!==null,o&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==l&&(i.flags|=2048)),o!==e&&o&&(t.child.flags|=8192),Hi(t,t.updateQueue),Re(t),null);case 4:return de(),lc(e,t),e===null&&ug(t.stateNode.containerInfo),Re(t),null;case 10:return De(t.type),Re(t),null;case 19:if(S(Ye),i=t.memoizedState,i===null)return Re(t),null;if(l=(t.flags&128)!==0,c=i.rendering,c===null)if(l)Tr(i,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Gn(e),c!==null){for(t.flags|=128,Tr(i,!1),e=c.updateQueue,t.updateQueue=e,Hi(t,e),t.subtreeFlags=0,e=o,o=t.child;o!==null;)qc(o,e),o=o.sibling;return w(Ye,Ye.current&1|2),Ce&&K(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&yt()>Gr&&(t.flags|=128,l=!0,Tr(i,!1),t.lanes=4194304)}else{if(!l)if(e=Gn(c),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Hi(t,e),Tr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!Ce)return Re(t),null}else 2*yt()-i.renderingStartTime>Gr&&o!==536870912&&(t.flags|=128,l=!0,Tr(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=yt(),e.sibling=null,o=Ye.current,w(Ye,l?o&1|2:o&1),Ce&&K(t,i.treeForkCount),e):(Re(t),null);case 22:case 23:return pt(t),kr(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(o&536870912)!==0&&(t.flags&128)===0&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),o=t.updateQueue,o!==null&&Hi(t,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==o&&(t.flags|=2048),e!==null&&S(ao),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),De(Ue),Re(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function Dh(e,t){switch(re(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return De(Ue),de(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return oe(t),null;case 31:if(t.memoizedState!==null){if(pt(t),t.alternate===null)throw Error(a(340));pe()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));pe()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return S(Ye),null;case 4:return de(),null;case 10:return De(t.type),null;case 22:case 23:return pt(t),kr(),e!==null&&S(ao),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return De(Ue),null;case 25:return null;default:return null}}function uc(e,t){switch(re(t),t.tag){case 3:De(Ue),de();break;case 26:case 27:case 5:oe(t);break;case 4:de();break;case 31:t.memoizedState!==null&&pt(t);break;case 13:pt(t);break;case 19:S(Ye);break;case 10:De(t.type);break;case 22:case 23:pt(t),kr(),e!==null&&S(ao);break;case 24:De(Ue)}}function Ar(e,t){try{var o=t.updateQueue,i=o!==null?o.lastEffect:null;if(i!==null){var l=i.next;o=l;do{if((o.tag&e)===e){i=void 0;var c=o.create,b=o.inst;i=c(),b.destroy=i}o=o.next}while(o!==l)}}catch(I){je(t,t.return,I)}}function Nn(e,t,o){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){var b=i.inst,I=b.destroy;if(I!==void 0){b.destroy=void 0,l=t;var Y=o,J=I;try{J()}catch(ie){je(l,Y,ie)}}}i=i.next}while(i!==c)}}catch(ie){je(t,t.return,ie)}}function cc(e){var t=e.updateQueue;if(t!==null){var o=e.stateNode;try{Ii(t,o)}catch(i){je(e,e.return,i)}}}function fc(e,t,o){o.props=eo(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(i){je(e,t,i)}}function $r(e,t){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var i=Lr(e.stateNode);break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof o=="function"?e.refCleanup=o(i):o.current=i}}catch(l){je(e,t,l)}}function on(e,t){var o=e.ref,i=e.refCleanup;if(o!==null)if(typeof i=="function")try{i()}catch(l){je(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(l){je(e,t,l)}else o.current=null}function dc(e){var t=e.type,o=e.memoizedProps,i=e.stateNode;try{jg(i,t,o,e)}catch(l){je(e,e.return,l)}}function yl(e,t,o){try{Ig(e.stateNode,e.type,o,t,e)}catch(i){je(e,e.return,i)}}function pc(e){return e.tag===5||e.tag===3||(Wt?e.tag===26:!1)||(tt?e.tag===27&&Fo(e.type):!1)||e.tag===4}function vl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(tt&&e.tag===27&&Fo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,o){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?_g(o,e,t):zg(o,e);else if(i!==4&&(tt&&i===27&&Fo(e.type)&&(o=e.stateNode,t=null),e=e.child,e!==null))for(bl(e,t,o),e=e.sibling;e!==null;)bl(e,t,o),e=e.sibling}function Vi(e,t,o){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?Pg(o,e,t):Ng(o,e);else if(i!==4&&(tt&&i===27&&Fo(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Vi(e,t,o),e=e.sibling;e!==null;)Vi(e,t,o),e=e.sibling}function hc(e,t,o){e=e.containerInfo;try{df(e,o)}catch(i){je(t,t.return,i)}}function gc(e){var t=e.stateNode,o=e.memoizedProps;try{Cm(e.type,o,t,e)}catch(i){je(e,e.return,i)}}function Rh(e,t){for(og(e.containerInfo),rt=t;rt!==null;)if(e=rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,rt=t;else for(;rt!==null;){e=rt;var o=e.alternate;switch(t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(var i=0;i<t.length;i++){var l=t[i];l.ref.impl=l.nextImpl}break;case 11:case 15:break;case 1:if((t&1024)!==0&&o!==null){t=void 0,i=e,l=o.memoizedProps,o=o.memoizedState;var c=i.stateNode;try{var b=eo(i.type,l);t=c.getSnapshotBeforeUpdate(b,o),c.__reactInternalSnapshotBeforeUpdate=t}catch(I){je(i,i.return,I)}}break;case 3:(t&1024)!==0&&ft&&Lg(e.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=e.sibling,t!==null){t.return=e.return,rt=t;break}rt=e.return}}function mc(e,t,o){var i=o.flags;switch(o.tag){case 0:case 11:case 15:pn(e,o),i&4&&Ar(5,o);break;case 1:if(pn(e,o),i&4)if(e=o.stateNode,t===null)try{e.componentDidMount()}catch(b){je(o,o.return,b)}else{var l=eo(o.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(b){je(o,o.return,b)}}i&64&&cc(o),i&512&&$r(o,o.return);break;case 3:if(pn(e,o),i&64&&(i=o.updateQueue,i!==null)){if(e=null,o.child!==null)switch(o.child.tag){case 27:case 5:e=Lr(o.child.stateNode);break;case 1:e=o.child.stateNode}try{Ii(i,e)}catch(b){je(o,o.return,b)}}break;case 27:tt&&t===null&&i&4&&gc(o);case 26:case 5:if(pn(e,o),t===null){if(i&4)dc(o);else if(i&64){e=o.type,t=o.memoizedProps,l=o.stateNode;try{am(l,e,t,o)}catch(b){je(o,o.return,b)}}}i&512&&$r(o,o.return);break;case 12:pn(e,o);break;case 31:pn(e,o),i&4&&vc(e,o);break;case 13:pn(e,o),i&4&&bc(e,o),i&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Uh.bind(null,o),Vg(i,o))));break;case 22:if(i=o.memoizedState!==null||xn,!i){t=t!==null&&t.memoizedState!==null||Ge,l=xn;var c=Ge;xn=i,(Ge=t)&&!c?hn(e,o,(o.subtreeFlags&8772)!==0):pn(e,o),xn=l,Ge=c}break;case 30:break;default:pn(e,o)}}function yc(e){var t=e.alternate;t!==null&&(e.alternate=null,yc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&dg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vt(e,t,o){for(o=o.child;o!==null;)xl(e,t,o),o=o.sibling}function xl(e,t,o){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Hr,o)}catch{}switch(o.tag){case 26:if(Wt){Ge||on(o,t),Vt(e,t,o),o.memoizedState?xf(o.memoizedState):o.stateNode&&Sf(o.stateNode);break}case 27:if(tt){Ge||on(o,t);var i=Ke,l=vt;Fo(o.type)&&(Ke=o.stateNode,vt=!1),Vt(e,t,o),Cf(o.stateNode),Ke=i,vt=l;break}case 5:Ge||on(o,t);case 6:if(ft){if(i=Ke,l=vt,Ke=null,Vt(e,t,o),Ke=i,vt=l,Ke!==null)if(vt)try{Ag(Ke,o.stateNode)}catch(c){je(o,t,c)}else try{Tg(Ke,o.stateNode)}catch(c){je(o,t,c)}}else Vt(e,t,o);break;case 18:ft&&Ke!==null&&(vt?gm(Ke,o.stateNode):hm(Ke,o.stateNode));break;case 4:ft?(i=Ke,l=vt,Ke=o.stateNode.containerInfo,vt=!0,Vt(e,t,o),Ke=i,vt=l):(rn&&hc(o.stateNode,o,cf()),Vt(e,t,o));break;case 0:case 11:case 14:case 15:Nn(2,o,t),Ge||Nn(4,o,t),Vt(e,t,o);break;case 1:Ge||(on(o,t),i=o.stateNode,typeof i.componentWillUnmount=="function"&&fc(o,t,i)),Vt(e,t,o);break;case 21:Vt(e,t,o);break;case 22:Ge=(i=Ge)||o.memoizedState!==null,Vt(e,t,o),Ge=i;break;default:Vt(e,t,o)}}function vc(e,t){if(dt&&t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{cm(e)}catch(o){je(t,t.return,o)}}}function bc(e,t){if(dt&&t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fm(e)}catch(o){je(t,t.return,o)}}function Fh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $f),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $f),t;default:throw Error(a(435,e.tag))}}function Ui(e,t){var o=Fh(e);t.forEach(function(i){if(!o.has(i)){o.add(i);var l=Wh.bind(null,e,i);i.then(l,l)}})}function ct(e,t){var o=t.deletions;if(o!==null)for(var i=0;i<o.length;i++){var l=o[i],c=e,b=t;if(ft){var I=b;e:for(;I!==null;){switch(I.tag){case 27:if(tt){if(Fo(I.type)){Ke=I.stateNode,vt=!1;break e}break}case 5:Ke=I.stateNode,vt=!1;break e;case 3:case 4:Ke=I.stateNode.containerInfo,vt=!0;break e}I=I.return}if(Ke===null)throw Error(a(160));xl(c,b,l),Ke=null,vt=!1}else xl(c,b,l);c=l.alternate,c!==null&&(c.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xc(t,e),t=t.sibling}function xc(e,t){var o=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ct(t,e),ht(e),i&4&&(Nn(3,e,e.return),Ar(3,e),Nn(5,e,e.return));break;case 1:ct(t,e),ht(e),i&512&&(Ge||o===null||on(o,o.return)),i&64&&xn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?i:o.concat(i))));break;case 26:if(Wt){var l=qt;if(ct(t,e),ht(e),i&512&&(Ge||o===null||on(o,o.return)),i&4){i=o!==null?o.memoizedState:null;var c=e.memoizedState;o===null?c===null?e.stateNode===null?e.stateNode=xm(l,e.type,e.memoizedProps,e):wf(l,e.type,e.stateNode):e.stateNode=bf(l,c,e.memoizedProps):i!==c?(i===null?o.stateNode!==null&&Sf(o.stateNode):xf(i),c===null?wf(l,e.type,e.stateNode):bf(l,c,e.memoizedProps)):c===null&&e.stateNode!==null&&yl(e,e.memoizedProps,o.memoizedProps)}break}case 27:if(tt){ct(t,e),ht(e),i&512&&(Ge||o===null||on(o,o.return)),o!==null&&i&4&&yl(e,e.memoizedProps,o.memoizedProps);break}case 5:if(ct(t,e),ht(e),i&512&&(Ge||o===null||on(o,o.return)),ft){if(e.flags&32){l=e.stateNode;try{uf(l)}catch(te){je(e,e.return,te)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,yl(e,l,o!==null?o.memoizedProps:l)),i&1024&&(aa=!0)}else rn&&e.alternate!==null&&(e.alternate.stateNode=e.stateNode);break;case 6:if(ct(t,e),ht(e),i&4&&ft){if(e.stateNode===null)throw Error(a(162));i=e.memoizedProps,o=o!==null?o.memoizedProps:i,l=e.stateNode;try{Mg(l,o,i)}catch(te){je(e,e.return,te)}}break;case 3:if(Wt?(Sm(),l=qt,qt=Wl(t.containerInfo),ct(t,e),qt=l):ct(t,e),ht(e),i&4){if(ft&&dt&&o!==null&&o.memoizedState.isDehydrated)try{um(t.containerInfo)}catch(te){je(e,e.return,te)}if(rn){i=t.containerInfo,o=t.pendingChildren;try{df(i,o)}catch(te){je(e,e.return,te)}}}aa&&(aa=!1,wc(e));break;case 4:Wt?(o=qt,qt=Wl(e.stateNode.containerInfo),ct(t,e),ht(e),qt=o):(ct(t,e),ht(e)),i&4&&rn&&hc(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:ct(t,e),ht(e);break;case 31:ct(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ui(e,i)));break;case 13:ct(t,e),ht(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ys=yt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ui(e,i)));break;case 22:l=e.memoizedState!==null;var b=o!==null&&o.memoizedState!==null,I=xn,Y=Ge;if(xn=I||l,Ge=Y||b,ct(t,e),Ge=Y,xn=I,ht(e),i&8192&&(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(o===null||b||xn||Ge||to(e)),ft)){e:if(o=null,ft)for(t=e;;){if(t.tag===5||Wt&&t.tag===26){if(o===null){b=o=t;try{c=b.stateNode,l?$g(c):Rg(b.stateNode,b.memoizedProps)}catch(te){je(b,b.return,te)}}}else if(t.tag===6){if(o===null){b=t;try{var J=b.stateNode;l?Dg(J):Fg(J,b.memoizedProps)}catch(te){je(b,b.return,te)}}}else if(t.tag===18){if(o===null){b=t;try{var ie=b.stateNode;l?mm(ie):ym(b.stateNode)}catch(te){je(b,b.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;o===t&&(o=null),t=t.return}o===t&&(o=null),t.sibling.return=t.return,t=t.sibling}}i&4&&(i=e.updateQueue,i!==null&&(o=i.retryQueue,o!==null&&(i.retryQueue=null,Ui(e,o))));break;case 19:ct(t,e),ht(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ui(e,i)));break;case 30:break;case 21:break;default:ct(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{for(var o,i=e.return;i!==null;){if(pc(i)){o=i;break}i=i.return}if(ft){if(o==null)throw Error(a(160));switch(o.tag){case 27:if(tt){var l=o.stateNode,c=vl(e);Vi(e,c,l);break}case 5:var b=o.stateNode;o.flags&32&&(uf(b),o.flags&=-33);var I=vl(e);Vi(e,I,b);break;case 3:case 4:var Y=o.stateNode.containerInfo,J=vl(e);bl(e,J,Y);break;default:throw Error(a(161))}}}catch(ie){je(e,e.return,ie)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wc(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wc(t),t.tag===5&&t.flags&1024&&yg(t.stateNode),e=e.sibling}}function pn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mc(e,t.alternate,t),t=t.sibling}function to(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nn(4,t,t.return),to(t);break;case 1:on(t,t.return);var o=t.stateNode;typeof o.componentWillUnmount=="function"&&fc(t,t.return,o),to(t);break;case 27:tt&&Cf(t.stateNode);case 26:case 5:on(t,t.return),to(t);break;case 22:t.memoizedState===null&&to(t);break;case 30:to(t);break;default:to(t)}e=e.sibling}}function hn(e,t,o){for(o=o&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,c=t,b=c.flags;switch(c.tag){case 0:case 11:case 15:hn(l,c,o),Ar(4,c);break;case 1:if(hn(l,c,o),i=c,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(J){je(i,i.return,J)}if(i=c,l=i.updateQueue,l!==null){var I=i.stateNode;try{var Y=l.shared.hiddenCallbacks;if(Y!==null)for(l.shared.hiddenCallbacks=null,l=0;l<Y.length;l++)ji(Y[l],I)}catch(J){je(i,i.return,J)}}o&&b&64&&cc(c),$r(c,c.return);break;case 27:tt&&gc(c);case 26:case 5:hn(l,c,o),o&&i===null&&b&4&&dc(c),$r(c,c.return);break;case 12:hn(l,c,o);break;case 31:hn(l,c,o),o&&b&4&&vc(l,c);break;case 13:hn(l,c,o),o&&b&4&&bc(l,c);break;case 22:c.memoizedState===null&&hn(l,c,o),$r(c,c.return);break;case 30:break;default:hn(l,c,o)}t=t.sibling}}function wl(e,t){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&Ft(o))}function Sl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ft(e))}function Ut(e,t,o,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sc(e,t,o,i),t=t.sibling}function Sc(e,t,o,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ut(e,t,o,i),l&2048&&Ar(9,t);break;case 1:Ut(e,t,o,i);break;case 3:Ut(e,t,o,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ft(e)));break;case 12:if(l&2048){Ut(e,t,o,i),e=t.stateNode;try{var c=t.memoizedProps,b=c.id,I=c.onPostCommit;typeof I=="function"&&I(b,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(Y){je(t,t.return,Y)}}else Ut(e,t,o,i);break;case 31:Ut(e,t,o,i);break;case 13:Ut(e,t,o,i);break;case 23:break;case 22:c=t.stateNode,b=t.alternate,t.memoizedState!==null?c._visibility&2?Ut(e,t,o,i):Dr(e,t):c._visibility&2?Ut(e,t,o,i):(c._visibility|=2,_o(e,t,o,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&wl(b,t);break;case 24:Ut(e,t,o,i),l&2048&&Sl(t.alternate,t);break;default:Ut(e,t,o,i)}}function _o(e,t,o,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,b=t,I=o,Y=i,J=b.flags;switch(b.tag){case 0:case 11:case 15:_o(c,b,I,Y,l),Ar(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?_o(c,b,I,Y,l):Dr(c,b):(ie._visibility|=2,_o(c,b,I,Y,l)),l&&J&2048&&wl(b.alternate,b);break;case 24:_o(c,b,I,Y,l),l&&J&2048&&Sl(b.alternate,b);break;default:_o(c,b,I,Y,l)}t=t.sibling}}function Dr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var o=e,i=t,l=i.flags;switch(i.tag){case 22:Dr(o,i),l&2048&&wl(i.alternate,i);break;case 24:Dr(o,i),l&2048&&Sl(i.alternate,i);break;default:Dr(o,i)}t=t.sibling}}function no(e,t,o){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)Ec(e,t,o),e=e.sibling}function Ec(e,t,o){switch(e.tag){case 26:if(no(e,t,o),e.flags&Ko)if(e.memoizedState!==null)km(o,qt,e.memoizedState,e.memoizedProps);else{var i=e.stateNode,l=e.type;e=e.memoizedProps,((t&335544128)===t||Hl(l,e))&&af(o,i,l,e)}break;case 5:no(e,t,o),e.flags&Ko&&(i=e.stateNode,l=e.type,e=e.memoizedProps,((t&335544128)===t||Hl(l,e))&&af(o,i,l,e));break;case 3:case 4:Wt?(i=qt,qt=Wl(e.stateNode.containerInfo),no(e,t,o),qt=i):no(e,t,o);break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Ko,Ko=16777216,no(e,t,o),Ko=i):no(e,t,o));break;default:no(e,t,o)}}function kc(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var i=t[o];rt=i,Nc(i,e)}kc(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cc(e),e=e.sibling}function Cc(e){switch(e.tag){case 0:case 11:case 15:Rr(e),e.flags&2048&&Nn(9,e,e.return);break;case 3:Rr(e);break;case 12:Rr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wi(e)):Rr(e);break;default:Rr(e)}}function Wi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var o=0;o<t.length;o++){var i=t[o];rt=i,Nc(i,e)}kc(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nn(8,t,t.return),Wi(t);break;case 22:o=t.stateNode,o._visibility&2&&(o._visibility&=-3,Wi(t));break;default:Wi(t)}e=e.sibling}}function Nc(e,t){for(;rt!==null;){var o=rt;switch(o.tag){case 0:case 11:case 15:Nn(8,o,t);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var i=o.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ft(o.memoizedState.cache)}if(i=o.child,i!==null)i.return=o,rt=i;else e:for(o=e;rt!==null;){i=rt;var l=i.sibling,c=i.return;if(yc(i),i===o){rt=null;break e}if(l!==null){l.return=c,rt=l;break e}rt=c}}}function El(e){var t=ag(e);if(t!=null){if(typeof t.memoizedProps["data-testname"]!="string")throw Error(a(364));return t}if(e=xg(e),e===null)throw Error(a(362));return e.stateNode.current}function kl(e,t){var o=e.tag;switch(t.$$typeof){case ds:if(e.type===t.value)return!0;break;case ps:e:{for(t=t.value,e=[e,0],o=0;o<e.length;){var i=e[o++],l=i.tag,c=e[o++],b=t[c];if(l!==5&&l!==26&&l!==27||!Br(i)){for(;b!=null&&kl(i,b);)c++,b=t[c];if(c===t.length){t=!0;break e}else for(i=i.child;i!==null;)e.push(i,c),i=i.sibling}}t=!1}return t;case hs:if((o===5||o===26||o===27)&&Eg(e.stateNode,t.value))return!0;break;case ms:if((o===5||o===6||o===26||o===27)&&(e=Sg(e),e!==null&&0<=e.indexOf(t.value)))return!0;break;case gs:if((o===5||o===26||o===27)&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Cl(e){switch(e.$$typeof){case ds:return"<"+(h(e.value)||"Unknown")+">";case ps:return":has("+(Cl(e)||"")+")";case hs:return'[role="'+e.value+'"]';case ms:return'"'+e.value+'"';case gs:return'[data-testname="'+e.value+'"]';default:throw Error(a(365))}}function zc(e,t){var o=[];e=[e,0];for(var i=0;i<e.length;){var l=e[i++],c=l.tag,b=e[i++],I=t[b];if(c!==5&&c!==26&&c!==27||!Br(l)){for(;I!=null&&kl(l,I);)b++,I=t[b];if(b===t.length)o.push(l);else for(l=l.child;l!==null;)e.push(l,b),l=l.sibling}}return o}function Nl(e,t){if(!Or)throw Error(a(363));e=El(e),e=zc(e,t),t=[],e=Array.from(e);for(var o=0;o<e.length;){var i=e[o++],l=i.tag;if(l===5||l===26||l===27)Br(i)||t.push(i.stateNode);else for(i=i.child;i!==null;)e.push(i),i=i.sibling}return t}function Et(){return(Se&2)!==0&&ke!==0?ke&-ke:he.T!==null?yr():cg()}function Mc(){if(It===0)if((ke&536870912)===0||Ce){var e=Ji;Ji<<=1,(Ji&3932160)===0&&(Ji=262144),It=e}else It=536870912;return e=Mt.current,e!==null&&(e.flags|=32),It}function mt(e,t,o){(e===$e&&(Te===2||Te===9)||e.cancelPendingCommit!==null)&&(To(e,0),zn(e,ke,It,!1)),P(e,o),((Se&2)===0||e!==$e)&&(e===$e&&((Se&2)===0&&(po|=o),qe===4&&zn(e,ke,It,!1)),Tt(e))}function jc(e,t,o){if((Se&6)!==0)throw Error(a(327));var i=!o&&(t&127)===0&&(t&e.expiredLanes)===0||C(e,t),l=i?Bh(e,t):Ml(e,t,!0),c=i;do{if(l===0){Jo&&!i&&zn(e,t,0,!1);break}else{if(o=e.current.alternate,c&&!Lh(o)){l=Ml(e,t,!1),c=!1;continue}if(l===2){if(c=t,e.errorRecoveryDisabledLanes&c)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){t=b;e:{var I=e;l=Qr;var Y=dt&&I.current.memoizedState.isDehydrated;if(Y&&(To(I,b).flags|=256),b=Ml(I,b,!1),b!==2){if(ua&&!Y){I.errorRecoveryDisabledLanes|=c,po|=c,l=4;break e}c=bt,bt=l,c!==null&&(bt===null?bt=c:bt.push.apply(bt,c))}l=b}if(c=!1,l!==2)continue}}if(l===1){To(e,0),zn(e,t,0,!0);break}e:{switch(i=e,c=l,c){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:zn(i,t,It,!An);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(l=ys+300-yt(),10<l)){if(zn(i,t,It,!An),E(i,0,!0)!==0)break e;Sn=t,i.timeoutHandle=sg(Ic.bind(null,i,o,bt,vs,fa,t,It,po,er,An,c,"Throttled",-0,0),l);break e}Ic(i,o,bt,vs,fa,t,It,po,er,An,c,null,-0,0)}}break}while(!0);Tt(e)}function Ic(e,t,o,i,l,c,b,I,Y,J,ie,te,se,ye){if(e.timeoutHandle=ro,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te=gg(),Ec(t,c,te);var Je=(c&62914560)===c?ys-yt():(c&4194048)===c?Df-yt():0;if(Je=mg(te,Je),Je!==null){Sn=c,e.cancelPendingCommit=Je(Lc.bind(null,e,t,c,o,i,l,b,I,Y,ie,te,null,se,ye)),zn(e,c,b,!J);return}}Lc(e,t,c,o,i,l,b,I,Y)}function Lh(e){for(var t=e;;){var o=t.tag;if((o===0||o===11||o===15)&&t.flags&16384&&(o=t.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var i=0;i<o.length;i++){var l=o[i],c=l.getSnapshot;l=l.value;try{if(!zt(c(),l))return!1}catch{return!1}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t,o,i){t&=~ca,t&=~po,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var c=31-Ct(l),b=1<<c;i[c]=-1,l&=~b}o!==0&&O(e,o,t)}function Pc(){return(Se&6)===0?(en(0),!1):!0}function zl(){if(Ee!==null){if(Te===0)var e=Ee.return;else e=Ee,vn=so=null,jo(e),qo=null,Zr=0,e=Ee;for(;e!==null;)uc(e.alternate,e),e=e.return;Ee=null}}function To(e,t){var o=e.timeoutHandle;o!==ro&&(e.timeoutHandle=ro,lg(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Sn=0,zl(),$e=e,Ee=o=gn(e.current,null),ke=t,Te=0,jt=null,An=!1,Jo=C(e,t),ua=!1,er=It=ca=po=$n=qe=0,bt=Qr=null,fa=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-Ct(i),c=1<<l;t|=e[l],i&=~c}return wn=t,Co(),o}function _c(e,t){ve=null,he.H=Yr,t===Zo||t===ls?(t=Ci(),Te=3):t===ta?(t=Ci(),Te=4):Te=t===sa?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,Ee===null&&(qe=1,Ri(e,H(t,e.current)))}function Tc(){var e=Mt.current;return e===null?!0:(ke&4194048)===ke?Zt===null:(ke&62914560)===ke||(ke&536870912)!==0?e===Zt:!1}function Ac(){var e=he.H;return he.H=Yr,e===null?Yr:e}function $c(){var e=he.A;return he.A=Lm,e}function Zi(){qe=4,An||(ke&4194048)!==ke&&Mt.current!==null||(Jo=!0),($n&134217727)===0&&(po&134217727)===0||$e===null||zn($e,ke,It,!1)}function Ml(e,t,o){var i=Se;Se|=2;var l=Ac(),c=$c();($e!==e||ke!==t)&&(vs=null,To(e,t)),t=!1;var b=qe;e:do try{if(Te!==0&&Ee!==null){var I=Ee,Y=jt;switch(Te){case 8:zl(),b=6;break e;case 3:case 2:case 9:case 6:Mt.current===null&&(t=!0);var J=Te;if(Te=0,jt=null,Ao(e,I,Y,J),o&&Jo){b=0;break e}break;default:J=Te,Te=0,jt=null,Ao(e,I,Y,J)}}Oh(),b=qe;break}catch(ie){_c(e,ie)}while(!0);return t&&e.shellSuspendCounter++,vn=so=null,Se=i,he.H=l,he.A=c,Ee===null&&($e=null,ke=0,Co()),b}function Oh(){for(;Ee!==null;)Dc(Ee)}function Bh(e,t){var o=Se;Se|=2;var i=Ac(),l=$c();$e!==e||ke!==t?(vs=null,Gr=yt()+500,To(e,t)):Jo=C(e,t);e:do try{if(Te!==0&&Ee!==null){t=Ee;var c=jt;t:switch(Te){case 1:Te=0,jt=null,Ao(e,t,c,1);break;case 2:case 9:if(Ei(c)){Te=0,jt=null,Rc(t);break}t=function(){Te!==2&&Te!==9||$e!==e||(Te=7),Tt(e)},c.then(t,t);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:Ei(c)?(Te=0,jt=null,Rc(t)):(Te=0,jt=null,Ao(e,t,c,7));break;case 5:var b=null;switch(Ee.tag){case 26:b=Ee.memoizedState;case 5:case 27:var I=Ee,Y=I.type,J=I.pendingProps;if(b?Ef(b):lf(I.stateNode,Y,J)){Te=0,jt=null;var ie=I.sibling;if(ie!==null)Ee=ie;else{var te=I.return;te!==null?(Ee=te,qi(te)):Ee=null}break t}}Te=0,jt=null,Ao(e,t,c,5);break;case 6:Te=0,jt=null,Ao(e,t,c,6);break;case 8:zl(),qe=6;break e;default:throw Error(a(462))}}Hh();break}catch(se){_c(e,se)}while(!0);return vn=so=null,he.H=i,he.A=l,Se=o,Ee!==null?0:($e=null,ke=0,Co(),qe)}function Hh(){for(;Ee!==null&&!Mm();)Dc(Ee)}function Dc(e){var t=rc(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?qi(e):Ee=t}function Rc(e){var t=e,o=t.alternate;switch(t.tag){case 15:case 0:t=Ku(o,t,t.pendingProps,t.type,void 0,ke);break;case 11:t=Ku(o,t,t.pendingProps,t.type.render,t.ref,ke);break;case 5:jo(t);default:uc(o,t),t=Ee=qc(t,wn),t=rc(o,t,wn)}e.memoizedProps=e.pendingProps,t===null?qi(e):Ee=t}function Ao(e,t,o,i){vn=so=null,jo(t),qo=null,Zr=0;var l=t.return;try{if(_h(e,l,t,o,ke)){qe=1,Ri(e,H(o,e.current)),Ee=null;return}}catch(c){if(l!==null)throw Ee=l,c;qe=1,Ri(e,H(o,e.current)),Ee=null;return}t.flags&32768?(Ce||i===1?e=!0:Jo||(ke&536870912)!==0?e=!1:(An=e=!0,(i===2||i===9||i===3||i===6)&&(i=Mt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Fc(t,e)):qi(t)}function qi(e){var t=e;do{if((t.flags&32768)!==0){Fc(t,An);return}e=t.return;var o=$h(t.alternate,t,wn);if(o!==null){Ee=o;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);qe===0&&(qe=5)}function Fc(e,t){do{var o=Dh(e.alternate,e);if(o!==null){o.flags&=32767,Ee=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=o}while(e!==null);qe=6,Ee=null}function Lc(e,t,o,i,l,c,b,I,Y){e.cancelPendingCommit=null;do Fr();while(nt!==0);if((Se&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(c=t.lanes|t.childLanes,c|=na,T(e,o,c,b,I,Y),e===$e&&(Ee=$e=null,ke=0),tr=t,Rn=e,Sn=o,da=c,pa=l,Rf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Zh(Yl,function(){return Uc(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=he.T,he.T=null,l=yn(),ot(2),b=Se,Se|=4;try{Rh(e,t,o)}finally{Se=b,ot(l),he.T=i}}nt=1,Oc(),Bc(),Hc()}}function Oc(){if(nt===1){nt=0;var e=Rn,t=tr,o=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||o){o=he.T,he.T=null;var i=yn();ot(2);var l=Se;Se|=4;try{xc(t,e),rg(e.containerInfo)}finally{Se=l,ot(i),he.T=o}}e.current=t,nt=2}}function Bc(){if(nt===2){nt=0;var e=Rn,t=tr,o=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||o){o=he.T,he.T=null;var i=yn();ot(2);var l=Se;Se|=4;try{mc(e,t.alternate,t)}finally{Se=l,ot(i),he.T=o}}nt=3}}function Hc(){if(nt===4||nt===3){nt=0,jm();var e=Rn,t=tr,o=Sn,i=Rf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,tr=Rn=null,Vc(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(Dn=null),q(o),t=t.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Hr,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=he.T,l=yn(),ot(2),he.T=null;try{for(var c=e.onRecoverableError,b=0;b<i.length;b++){var I=i[b];c(I.value,{componentStack:I.stack})}}finally{he.T=t,ot(l)}}(Sn&3)!==0&&Fr(),Tt(e),l=e.pendingLanes,(o&261930)!==0&&(l&42)!==0?e===ha?Kr++:(Kr=0,ha=e):Kr=0,dt&&pm(),en(0)}}function Vc(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ft(t)))}function Fr(){return Oc(),Bc(),Hc(),Uc()}function Uc(){if(nt!==5)return!1;var e=Rn,t=da;da=0;var o=q(Sn),i=32>o?32:o;o=he.T;var l=yn();try{ot(i),he.T=null,i=pa,pa=null;var c=Rn,b=Sn;if(nt=0,tr=Rn=null,Sn=0,(Se&6)!==0)throw Error(a(331));var I=Se;if(Se|=4,Cc(c.current),Sc(c,c.current,b,i),Se=I,en(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Hr,c)}catch{}return!0}finally{ot(l),he.T=o,Vc(e,t)}}function Wc(e,t,o){t=H(o,t),t=sl(e.stateNode,t,2),e=Ot(e,t,2),e!==null&&(P(e,2),Tt(e))}function je(e,t,o){if(e.tag===3)Wc(e,e,o);else for(;t!==null;){if(t.tag===3){Wc(t,e,o);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Dn===null||!Dn.has(i))){e=H(o,e),o=Uu(2),i=Ot(t,o,2),i!==null&&(Wu(o,i,t,e),P(i,2),Tt(i));break}}t=t.return}}function jl(e,t,o){var i=e.pingCache;if(i===null){i=e.pingCache=new Om;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(o)||(ua=!0,l.add(o),e=Vh.bind(null,e,t,o),t.then(e,e))}function Vh(e,t,o){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,$e===e&&(ke&o)===o&&(qe===4||qe===3&&(ke&62914560)===ke&&300>yt()-ys?(Se&2)===0&&To(e,0):ca|=o,er===ke&&(er=0)),Tt(e)}function Zc(e,t){t===0&&(t=k()),e=fn(e,t),e!==null&&(P(e,t),Tt(e))}function Uh(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Zc(e,o)}function Wh(e,t){var o=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(o=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(a(314))}i!==null&&i.delete(t),Zc(e,o)}function Zh(e,t){return ts(e,t)}function qh(e,t,o,i){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Il(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gn(e,t){var o=e.alternate;return o===null?(o=s(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function qc(e,t){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,t=o.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yi(e,t,o,i,l,c){var b=0;if(i=e,typeof e=="function")Il(e)&&(b=1);else if(typeof e=="string")b=Wt&&tt?yf(e,o,at.current)?26:Nf(e)?27:5:Wt?yf(e,o,at.current)?26:5:tt&&Nf(e)?27:5;else e:switch(e){case Ol:return e=s(31,o,t,l),e.elementType=Ol,e.lanes=c,e;case Do:return oo(o.children,l,c,t);case ef:b=8,l|=24;break;case $l:return e=s(12,o,t,l|2),e.elementType=$l,e.lanes=c,e;case Rl:return e=s(13,o,t,l),e.elementType=Rl,e.lanes=c,e;case Fl:return e=s(19,o,t,l),e.elementType=Fl,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mn:b=10;break e;case tf:b=9;break e;case Dl:b=11;break e;case Ll:b=14;break e;case jn:b=16,i=null;break e}b=29,o=Error(a(130,e===null?"null":typeof e,"")),i=null}return t=s(b,o,t,l),t.elementType=e,t.type=i,t.lanes=c,t}function oo(e,t,o,i){return e=s(7,e,i,t),e.lanes=o,e}function Pl(e,t,o){return e=s(6,e,null,t),e.lanes=o,e}function Yc(e){var t=s(18,null,null,0);return t.stateNode=e,t}function _l(e,t,o){return t=s(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yh(e,t,o,i,l,c,b,I,Y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ro,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_(0),this.hiddenUpdates=_(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=c,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Xc(e,t,o,i,l,c,b,I,Y,J,ie,te){return e=new Yh(e,t,o,b,Y,J,ie,te,I),t=1,c===!0&&(t|=24),c=s(3,null,null,t),e.current=c,c.stateNode=e,t=Jt(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:i,isDehydrated:o,cache:t},xr(c),e}function Qc(e){return e?(e=Oo,e):Oo}function Gc(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(t),e=e!==null?g(e):null,e===null?null:Lr(e.stateNode)}function Kc(e,t,o,i,l,c){l=Qc(l),i.context===null?i.context=l:i.pendingContext=l,i=Lt(t),i.payload={element:o},c=c===void 0?null:c,c!==null&&(i.callback=c),o=Ot(e,i,t),o!==null&&(mt(o,e,t),Yn(o,e,t))}function Jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function Tl(e,t){Jc(e,t),(e=e.alternate)&&Jc(e,t)}var we={},Xh=ur,kt=qb,Al=Object.assign,Qh=Symbol.for("react.element"),Xi=Symbol.for("react.transitional.element"),$o=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),ef=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),tf=Symbol.for("react.consumer"),Mn=Symbol.for("react.context"),Dl=Symbol.for("react.forward_ref"),Rl=Symbol.for("react.suspense"),Fl=Symbol.for("react.suspense_list"),Ll=Symbol.for("react.memo"),jn=Symbol.for("react.lazy"),Ol=Symbol.for("react.activity"),Gh=Symbol.for("react.memo_cache_sentinel"),nf=Symbol.iterator,Kh=Symbol.for("react.client.reference"),Qi=Array.isArray,he=Xh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jh=r.rendererVersion,eg=r.rendererPackageName,of=r.extraDevToolsConfig,Lr=r.getPublicInstance,tg=r.getRootHostContext,ng=r.getChildHostContext,og=r.prepareForCommit,rg=r.resetAfterCommit,ig=r.createInstance;r.cloneMutableInstance;var Bl=r.appendInitialChild,rf=r.finalizeInitialChildren,Gi=r.shouldSetTextContent,sf=r.createTextInstance;r.cloneMutableTextInstance;var sg=r.scheduleTimeout,lg=r.cancelTimeout,ro=r.noTimeout,mn=r.isPrimaryRenderer;r.warnsIfNotActing;var ft=r.supportsMutation,rn=r.supportsPersistence,dt=r.supportsHydration,ag=r.getInstanceFromNode;r.beforeActiveInstanceBlur;var ug=r.preparePortalMount;r.prepareScopeUpdate,r.getInstanceFromScope;var ot=r.setCurrentUpdatePriority,yn=r.getCurrentUpdatePriority,cg=r.resolveUpdatePriority;r.trackSchedulerEvent,r.resolveEventType,r.resolveEventTimeStamp;var fg=r.shouldAttemptEagerTransition,dg=r.detachDeletedInstance;r.requestPostPaintCallback;var pg=r.maySuspendCommit,hg=r.maySuspendCommitOnUpdate,Hl=r.maySuspendCommitInSyncRender,lf=r.preloadInstance,gg=r.startSuspendingCommit,af=r.suspendInstance;r.suspendOnActiveViewTransition;var mg=r.waitForCommitToBeReady;r.getSuspendedCommitReason;var Ro=r.NotPendingTransition,io=r.HostTransitionContext,yg=r.resetFormInstance;r.bindToConsole;var vg=r.supportsMicrotasks,bg=r.scheduleMicrotask,Or=r.supportsTestSelectors,xg=r.findFiberRoot,wg=r.getBoundingRect,Sg=r.getTextContent,Br=r.isHiddenSubtree,Eg=r.matchAccessibilityRole,kg=r.setFocusIfFocusable,Cg=r.setupIntersectionObserver,Ng=r.appendChild,zg=r.appendChildToContainer,Mg=r.commitTextUpdate,jg=r.commitMount,Ig=r.commitUpdate,Pg=r.insertBefore,_g=r.insertInContainerBefore,Tg=r.removeChild,Ag=r.removeChildFromContainer,uf=r.resetTextContent,$g=r.hideInstance,Dg=r.hideTextInstance,Rg=r.unhideInstance,Fg=r.unhideTextInstance;r.cancelViewTransitionName,r.cancelRootViewTransitionName,r.restoreRootViewTransitionName,r.cloneRootViewTransitionContainer,r.removeRootViewTransitionClone,r.measureClonedInstance,r.hasInstanceChanged,r.hasInstanceAffectedParent,r.startViewTransition,r.startGestureTransition,r.stopViewTransition,r.getCurrentGestureOffset,r.createViewTransitionInstance;var Lg=r.clearContainer;r.createFragmentInstance,r.updateFragmentInstanceFiber,r.commitNewChildToFragmentInstance,r.deleteChildFromFragmentInstance;var Og=r.cloneInstance,cf=r.createContainerChildSet,ff=r.appendChildToContainerChildSet,Bg=r.finalizeContainerChildren,df=r.replaceContainerChildren,pf=r.cloneHiddenInstance,hf=r.cloneHiddenTextInstance,Vl=r.isSuspenseInstancePending,Ul=r.isSuspenseInstanceFallback,Hg=r.getSuspenseInstanceFallbackErrorDetails,Vg=r.registerSuspenseInstanceRetry,Ug=r.canHydrateFormStateMarker,Wg=r.isFormStateMarkerMatching,gf=r.getNextHydratableSibling,Zg=r.getNextHydratableSiblingAfterSingleton,qg=r.getFirstHydratableChild,Yg=r.getFirstHydratableChildWithinContainer,Xg=r.getFirstHydratableChildWithinActivityInstance,Qg=r.getFirstHydratableChildWithinSuspenseInstance,Gg=r.getFirstHydratableChildWithinSingleton,Kg=r.canHydrateInstance,Jg=r.canHydrateTextInstance,em=r.canHydrateActivityInstance,tm=r.canHydrateSuspenseInstance,nm=r.hydrateInstance,om=r.hydrateTextInstance,rm=r.hydrateActivityInstance,im=r.hydrateSuspenseInstance,sm=r.getNextHydratableInstanceAfterActivityInstance,lm=r.getNextHydratableInstanceAfterSuspenseInstance,am=r.commitHydratedInstance,um=r.commitHydratedContainer,cm=r.commitHydratedActivityInstance,fm=r.commitHydratedSuspenseInstance,dm=r.finalizeHydratedChildren,pm=r.flushHydrationEvents;r.clearActivityBoundary;var hm=r.clearSuspenseBoundary;r.clearActivityBoundaryFromContainer;var gm=r.clearSuspenseBoundaryFromContainer,mm=r.hideDehydratedBoundary,ym=r.unhideDehydratedBoundary,mf=r.shouldDeleteUnhydratedTailInstances;r.diffHydratedPropsForDevWarnings,r.diffHydratedTextForDevWarnings,r.describeHydratableInstanceForDevWarnings;var vm=r.validateHydratableInstance,bm=r.validateHydratableTextInstance,Wt=r.supportsResources,yf=r.isHostHoistableType,Wl=r.getHoistableRoot,vf=r.getResource,bf=r.acquireResource,xf=r.releaseResource,xm=r.hydrateHoistable,wf=r.mountHoistable,Sf=r.unmountHoistable,wm=r.createHoistableInstance,Sm=r.prepareToCommitHoistables,Em=r.mayResourceSuspendCommit,Ef=r.preloadResource,km=r.suspendResource,tt=r.supportsSingletons,kf=r.resolveSingletonInstance,Cm=r.acquireSingletonInstance,Cf=r.releaseSingletonInstance,Nf=r.isHostSingletonType,Fo=r.isSingletonScope,Zl=[],Lo=-1,Oo={},Ct=Math.clz32?Math.clz32:j,Nm=Math.log,zm=Math.LN2,Ki=256,Ji=262144,es=4194304,ts=kt.unstable_scheduleCallback,ql=kt.unstable_cancelCallback,Mm=kt.unstable_shouldYield,jm=kt.unstable_requestPaint,yt=kt.unstable_now,zf=kt.unstable_ImmediatePriority,Im=kt.unstable_UserBlockingPriority,Yl=kt.unstable_NormalPriority,Pm=kt.unstable_IdlePriority,_m=kt.log,Tm=kt.unstable_setDisableYieldValue,Hr=null,Nt=null,zt=typeof Object.is=="function"?Object.is:M,Mf=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Am=Object.prototype.hasOwnProperty,Xl,jf,Ql=!1,If=new WeakMap,Bo=[],Ho=0,ns=null,Vr=0,At=[],$t=0,In=null,sn=1,ln="",at=m(null),Ur=m(null),Pn=m(null),os=m(null),ut=null,Ve=null,Ce=!1,_n=null,Dt=!1,Gl=Error(a(519)),rs=m(null),so=null,vn=null,$m=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(o,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(o){return o()})}},Dm=kt.unstable_scheduleCallback,Rm=kt.unstable_NormalPriority,Ue={$$typeof:Mn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},is=null,Vo=null,Kl=!1,ss=!1,Jl=!1,lo=0,Wr=null,ea=0,Uo=0,Wo=null,Pf=he.S;he.S=function(e,t){Df=yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qs(e,t),Pf!==null&&Pf(e,t)};var ao=m(null),Zo=Error(a(460)),ta=Error(a(474)),ls=Error(a(542)),as={then:function(){}},uo=null,qo=null,Zr=0,co=zi(!0),_f=zi(!1),Rt=[],Yo=0,na=0,Tn=!1,oa=!1,Xo=m(null),us=m(0),Mt=m(null),Zt=null,Ye=m(0),bn=0,ve=null,Ae=null,Xe=null,cs=!1,Qo=!1,fo=!1,fs=0,qr=0,Go=null,Fm=0,Yr={readContext:He,use:Cn,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe};Yr.useEffectEvent=Fe;var Tf={readContext:He,use:Cn,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:Cu,useImperativeHandle:function(e,t,o){o=o!=null?o.concat([e]):null,Ai(4194308,4,ju.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){Ai(4,2,e,t)},useMemo:function(e,t){var o=st();t=t===void 0?null:t;var i=e();if(fo){W(!0);try{e()}finally{W(!1)}}return o.memoizedState=[i,t],i},useReducer:function(e,t,o){var i=st();if(o!==void 0){var l=o(t);if(fo){W(!0);try{o(t)}finally{W(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=Ph.bind(null,ve,e),[i.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=Ks(e);var t=e.queue,o=Fu.bind(null,ve,t);return t.dispatch=o,[e.memoizedState,o]},useDebugValue:tl,useDeferredValue:function(e,t){var o=st();return nl(o,e,t)},useTransition:function(){var e=Ks(!1);return e=Au.bind(null,ve,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,o){var i=ve,l=st();if(Ce){if(o===void 0)throw Error(a(407));o=o()}else{if(o=t(),$e===null)throw Error(a(349));(ke&127)!==0||uu(i,t,o)}l.memoizedState=o;var c={value:o,getSnapshot:t};return l.queue=c,Cu(fu.bind(null,i,c,e),[e]),i.flags|=2048,Po(9,{destroy:void 0},cu.bind(null,i,c,o,t),null),o},useId:function(){var e=st(),t=$e.identifierPrefix;if(Ce){var o=ln,i=sn;o=(i&~(1<<32-Ct(i)-1)).toString(32)+o,t="_"+t+"R_"+o,o=fs++,0<o&&(t+="H"+o.toString(32)),t+="_"}else o=Fm++,t="_"+t+"r_"+o.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ol,useFormState:xu,useActionState:xu,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=o,t=rl.bind(null,ve,!0,o),o.dispatch=t,[e,t]},useMemoCache:Ir,useCacheRefresh:function(){return st().memoizedState=Ih.bind(null,ve)},useEffectEvent:function(e){var t=st(),o={impl:e};return t.memoizedState=o,function(){if((Se&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},ra={readContext:He,use:Cn,useCallback:Pu,useContext:He,useEffect:el,useImperativeHandle:Iu,useInsertionEffect:zu,useLayoutEffect:Mu,useMemo:_u,useReducer:Jn,useRef:ku,useState:function(){return Jn(Bt)},useDebugValue:tl,useDeferredValue:function(e,t){var o=Le();return Tu(o,Ae.memoizedState,e,t)},useTransition:function(){var e=Jn(Bt)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Kn(e),t]},useSyncExternalStore:au,useId:Du,useHostTransitionStatus:ol,useFormState:wu,useActionState:wu,useOptimistic:function(e,t){var o=Le();return hu(o,Ae,e,t)},useMemoCache:Ir,useCacheRefresh:Ru};ra.useEffectEvent=Nu;var Af={readContext:He,use:Cn,useCallback:Pu,useContext:He,useEffect:el,useImperativeHandle:Iu,useInsertionEffect:zu,useLayoutEffect:Mu,useMemo:_u,useReducer:Gs,useRef:ku,useState:function(){return Gs(Bt)},useDebugValue:tl,useDeferredValue:function(e,t){var o=Le();return Ae===null?nl(o,e,t):Tu(o,Ae.memoizedState,e,t)},useTransition:function(){var e=Gs(Bt)[0],t=Le().memoizedState;return[typeof e=="boolean"?e:Kn(e),t]},useSyncExternalStore:au,useId:Du,useHostTransitionStatus:ol,useFormState:Eu,useActionState:Eu,useOptimistic:function(e,t){var o=Le();return Ae!==null?hu(o,Ae,e,t):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ir,useCacheRefresh:Ru};Af.useEffectEvent=Nu;var ia={enqueueSetState:function(e,t,o){e=e._reactInternals;var i=Et(),l=Lt(i);l.payload=t,o!=null&&(l.callback=o),t=Ot(e,l,i),t!==null&&(mt(t,e,i),Yn(t,e,i))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var i=Et(),l=Lt(i);l.tag=1,l.payload=t,o!=null&&(l.callback=o),t=Ot(e,l,i),t!==null&&(mt(t,e,i),Yn(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=Et(),i=Lt(o);i.tag=2,t!=null&&(i.callback=t),t=Ot(e,i,o),t!==null&&(mt(t,e,o),Yn(t,e,o))}},sa=Error(a(461)),Qe=!1,la={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},xn=!1,Ge=!1,aa=!1,$f=typeof WeakSet=="function"?WeakSet:Set,rt=null,Ke=null,vt=!1,qt=null,Ko=8192,Lm={getCacheForType:function(e){var t=He(Ue),o=t.data.get(e);return o===void 0&&(o=e(),t.data.set(e,o)),o},cacheSignal:function(){return He(Ue).controller.signal}},ds=0,ps=1,hs=2,gs=3,ms=4;if(typeof Symbol=="function"&&Symbol.for){var Xr=Symbol.for;ds=Xr("selector.component"),ps=Xr("selector.has_pseudo_class"),hs=Xr("selector.role"),gs=Xr("selector.test_id"),ms=Xr("selector.text")}var Om=typeof WeakMap=="function"?WeakMap:Map,Se=0,$e=null,Ee=null,ke=0,Te=0,jt=null,An=!1,Jo=!1,ua=!1,wn=0,qe=0,$n=0,po=0,ca=0,It=0,er=0,Qr=null,bt=null,fa=!1,ys=0,Df=0,Gr=1/0,vs=null,Dn=null,nt=0,Rn=null,tr=null,Sn=0,da=0,pa=null,Rf=null,Kr=0,ha=null;return we.attemptContinuousHydration=function(e){if(e.tag===13||e.tag===31){var t=fn(e,67108864);t!==null&&mt(t,e,67108864),Tl(e,67108864)}},we.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13||e.tag===31){var t=Et();t=L(t);var o=fn(e,t);o!==null&&mt(o,e,t),Tl(e,t)}},we.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if(e=e.stateNode,e.current.memoizedState.isDehydrated){var t=N(e.pendingLanes);if(t!==0){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var o=1<<31-Ct(t);e.entanglements[1]|=o,t&=~o}Tt(e),(Se&6)===0&&(Gr=yt()+500,en(0))}}break;case 31:case 13:t=fn(e,2),t!==null&&mt(t,e,2),Pc(),Tl(e,2)}},we.batchedUpdates=function(e,t){return e(t)},we.createComponentSelector=function(e){return{$$typeof:ds,value:e}},we.createContainer=function(e,t,o,i,l,c,b,I,Y,J){return Xc(e,t,!1,null,o,i,c,null,b,I,Y,J)},we.createHasPseudoClassSelector=function(e){return{$$typeof:ps,value:e}},we.createHydrationContainer=function(e,t,o,i,l,c,b,I,Y,J,ie,te,se,ye){var Je;return e=Xc(o,i,!0,e,l,c,I,ye,Y,J,ie,te),e.context=Qc(null),o=e.current,i=Et(),i=L(i),l=Lt(i),l.callback=(Je=t)!=null?Je:null,Ot(o,l,i),t=i,e.current.lanes=t,P(e,t),Tt(e),e},we.createPortal=function(e,t,o){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$o,key:i==null?null:""+i,children:e,containerInfo:t,implementation:o}},we.createRoleSelector=function(e){return{$$typeof:hs,value:e}},we.createTestNameSelector=function(e){return{$$typeof:gs,value:e}},we.createTextSelector=function(e){return{$$typeof:ms,value:e}},we.defaultOnCaughtError=function(e){console.error(e)},we.defaultOnRecoverableError=function(e){Mf(e)},we.defaultOnUncaughtError=function(e){Mf(e)},we.deferredUpdates=function(e){var t=he.T,o=yn();try{return ot(32),he.T=null,e()}finally{ot(o),he.T=t}},we.discreteUpdates=function(e,t,o,i,l){var c=he.T,b=yn();try{return ot(2),he.T=null,e(t,o,i,l)}finally{ot(b),he.T=c,Se===0&&(Gr=yt()+500)}},we.findAllNodes=Nl,we.findBoundingRects=function(e,t){if(!Or)throw Error(a(363));t=Nl(e,t),e=[];for(var o=0;o<t.length;o++)e.push(wg(t[o]));for(t=e.length-1;0<t;t--){o=e[t];for(var i=o.x,l=i+o.width,c=o.y,b=c+o.height,I=t-1;0<=I;I--)if(t!==I){var Y=e[I],J=Y.x,ie=J+Y.width,te=Y.y,se=te+Y.height;if(i>=J&&c>=te&&l<=ie&&b<=se){e.splice(t,1);break}else if(i!==J||o.width!==Y.width||se<c||te>b){if(!(c!==te||o.height!==Y.height||ie<i||J>l)){J>i&&(Y.width+=J-i,Y.x=i),ie<l&&(Y.width=l-J),e.splice(t,1);break}}else{te>c&&(Y.height+=te-c,Y.y=c),se<b&&(Y.height=b-te),e.splice(t,1);break}}}return e},we.findHostInstance=Gc,we.findHostInstanceWithNoPortals=function(e){return e=p(e),e=e!==null?y(e):null,e===null?null:Lr(e.stateNode)},we.findHostInstanceWithWarning=function(e){return Gc(e)},we.flushPassiveEffects=Fr,we.flushSyncFromReconciler=function(e){var t=Se;Se|=1;var o=he.T,i=yn();try{if(ot(2),he.T=null,e)return e()}finally{ot(i),he.T=o,Se=t,(Se&6)===0&&en(0)}},we.flushSyncWork=Pc,we.focusWithin=function(e,t){if(!Or)throw Error(a(363));for(e=El(e),t=zc(e,t),t=Array.from(t),e=0;e<t.length;){var o=t[e++],i=o.tag;if(!Br(o)){if((i===5||i===26||i===27)&&kg(o.stateNode))return!0;for(o=o.child;o!==null;)t.push(o),o=o.sibling}}return!1},we.getFindAllNodesFailureDescription=function(e,t){if(!Or)throw Error(a(363));var o=0,i=[];e=[El(e),0];for(var l=0;l<e.length;){var c=e[l++],b=c.tag,I=e[l++],Y=t[I];if((b!==5&&b!==26&&b!==27||!Br(c))&&(kl(c,Y)&&(i.push(Cl(Y)),I++,I>o&&(o=I)),I<t.length))for(c=c.child;c!==null;)e.push(c,I),c=c.sibling}if(o<t.length){for(e=[];o<t.length;o++)e.push(Cl(t[o]));return`findAllNodes was able to match part of the selector:
  `+(i.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},we.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 27:case 5:return Lr(e.child.stateNode);default:return e.child.stateNode}},we.injectIntoDevTools=function(){var e={bundleType:0,version:Jh,rendererPackageName:eg,currentDispatcherRef:he,reconcilerVersion:"19.2.0"};if(of!==null&&(e.rendererConfig=of),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Hr=t.inject(e),Nt=t}catch{}e=!!t.checkDCE}}return e},we.isAlreadyRendering=function(){return(Se&6)!==0},we.observeVisibleRects=function(e,t,o,i){if(!Or)throw Error(a(363));e=Nl(e,t);var l=Cg(e,o,i).disconnect;return{disconnect:function(){l()}}},we.shouldError=function(){return null},we.shouldSuspend=function(){return!1},we.startHostTransition=function(e,t,o,i){if(e.tag!==5)throw Error(a(476));var l=$u(e).queue;Au(e,l,t,Ro,o===null?u:function(){var c=$u(e);return c.next===null&&(c=e.alternate.memoizedState),Pr(e,c.next.queue,{},Et()),o(i)})},we.updateContainer=function(e,t,o,i){var l=t.current,c=Et();return Kc(l,c,e,t,o,i),c},we.updateContainerSync=function(e,t,o,i){return Kc(t.current,2,e,t,o,i),2},we},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(_d)),_d.exports}var Ad;function Sx(){return Ad||(Ad=1,Pd.exports=wx()),Pd.exports}var Ex=Sx();const kx=xx(Ex);function Cx(n){const r=kx(n);return r.injectIntoDevTools(),r}const bh=0,gr={},Nx=/^three(?=[A-Z])/,Ws=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let zx=0;const Mx=n=>typeof n=="function";function jx(n){if(Mx(n)){const r=`${zx++}`;return gr[r]=n,r}else Object.assign(gr,n)}function xh(n,r){const s=Ws(n),u=gr[s];if(n!=="primitive"&&!u)throw new Error(`R3F: ${s} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!r.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(r.args!==void 0&&!Array.isArray(r.args))throw new Error("R3F: The args prop must be an array!")}function Ix(n,r,s){var u;return n=Ws(n)in gr?n:n.replace(Nx,""),xh(n,r),n==="primitive"&&(u=r.object)!=null&&u.__r3f&&delete r.object.__r3f,As(r.object,s,n,r)}function Px(n){if(!n.isHidden){var r;n.props.attach&&(r=n.parent)!=null&&r.object?Ds(n.parent,n):xt(n.object)&&(n.object.visible=!1),n.isHidden=!0,mr(n)}}function wh(n){if(n.isHidden){var r;n.props.attach&&(r=n.parent)!=null&&r.object?$s(n.parent,n):xt(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,mr(n)}}function lu(n,r,s){const u=r.root.getState();if(!(!n.parent&&n.object!==u.scene)){if(!r.object){var a,f;const d=gr[Ws(r.type)];r.object=(a=r.props.object)!=null?a:new d(...(f=r.props.args)!=null?f:[]),r.object.__r3f=r}if(Vn(r.object,r.props),r.props.attach)$s(n,r);else if(xt(r.object)&&xt(n.object)){const d=n.object.children.indexOf(s?.object);if(s&&d!==-1){const p=n.object.children.indexOf(r.object);if(p!==-1){n.object.children.splice(p,1);const g=p<d?d-1:d;n.object.children.splice(g,0,r.object)}else r.object.parent=n.object,n.object.children.splice(d,0,r.object),r.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:r.object})}else n.object.add(r.object)}for(const d of r.children)lu(r,d);mr(r)}}function Na(n,r){r&&(r.parent=n,n.children.push(r),lu(n,r))}function $d(n,r,s){if(!r||!s)return;r.parent=n;const u=n.children.indexOf(s);u!==-1?n.children.splice(u,0,r):n.children.push(r),lu(n,r,s)}function Sh(n){if(typeof n.dispose=="function"){const r=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?r():Oa.unstable_scheduleCallback(Oa.unstable_IdlePriority,r)}}function Ha(n,r,s){if(!r)return;r.parent=null;const u=n.children.indexOf(r);u!==-1&&n.children.splice(u,1),r.props.attach?Ds(n,r):xt(r.object)&&xt(n.object)&&(n.object.remove(r.object),cx(dh(r),r.object));const a=r.props.dispose!==null&&s!==!1;for(let f=r.children.length-1;f>=0;f--){const d=r.children[f];Ha(r,d,a)}r.children.length=0,delete r.object.__r3f,a&&r.type!=="primitive"&&r.object.type!=="Scene"&&Sh(r.object),s===void 0&&mr(r)}function _x(n,r){for(const s of[n,n.alternate])if(s!==null)if(typeof s.ref=="function"){s.refCleanup==null||s.refCleanup();const u=s.ref(r);typeof u=="function"&&(s.refCleanup=u)}else s.ref&&(s.ref.current=r)}const js=[];function Tx(){for(const[s]of js){const u=s.parent;if(u){s.props.attach?Ds(u,s):xt(s.object)&&xt(u.object)&&u.object.remove(s.object);for(const a of s.children)a.props.attach?Ds(s,a):xt(a.object)&&xt(s.object)&&s.object.remove(a.object)}s.isHidden&&wh(s),s.object.__r3f&&delete s.object.__r3f,s.type!=="primitive"&&Sh(s.object)}for(const[s,u,a]of js){s.props=u;const f=s.parent;if(f){var n,r;const d=gr[Ws(s.type)];s.object=(n=s.props.object)!=null?n:new d(...(r=s.props.args)!=null?r:[]),s.object.__r3f=s,_x(a,s.object),Vn(s.object,s.props),s.props.attach?$s(f,s):xt(s.object)&&xt(f.object)&&f.object.add(s.object);for(const p of s.children)p.props.attach?$s(s,p):xt(p.object)&&xt(s.object)&&s.object.add(p.object);mr(s)}}js.length=0}const za=()=>{},Dd={};let Ns=bh;const Ax=0,$x=4,Va=Cx({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:Ix,removeChild:Ha,appendChild:Na,appendInitialChild:Na,insertBefore:$d,appendChildToContainer(n,r){const s=n.getState().scene.__r3f;!r||!s||Na(s,r)},removeChildFromContainer(n,r){const s=n.getState().scene.__r3f;!r||!s||Ha(s,r)},insertInContainerBefore(n,r,s){const u=n.getState().scene.__r3f;!r||!s||!u||$d(u,r,s)},getRootHostContext:()=>Dd,getChildHostContext:()=>Dd,commitUpdate(n,r,s,u,a){var f,d,p;xh(r,u);let g=!1;if((n.type==="primitive"&&s.object!==u.object||((f=u.args)==null?void 0:f.length)!==((d=s.args)==null?void 0:d.length)||(p=u.args)!=null&&p.some((v,h)=>{var m;return v!==((m=s.args)==null?void 0:m[h])}))&&(g=!0),g)js.push([n,{...u},a]);else{const v=sx(n,u);Object.keys(v).length&&(Object.assign(n.props,v),Vn(n.object,v))}(a.sibling===null||(a.flags&$x)===Ax)&&Tx()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>As(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:Px,unhideInstance:wh,createTextInstance:za,hideTextInstance:za,unhideTextInstance:za,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:A.createContext(null),setCurrentUpdatePriority(n){Ns=n},getCurrentUpdatePriority(){return Ns},resolveUpdatePriority(){var n;if(Ns!==bh)return Ns;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return vx;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return mx;default:return yx}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:bx.version,applyViewTransitionName(n,r,s){},restoreViewTransitionName(n,r){},cancelViewTransitionName(n,r,s){},cancelRootViewTransitionName(n){},restoreRootViewTransitionName(n){},InstanceMeasurement:null,measureInstance:n=>null,wasInstanceInViewport:n=>!0,hasInstanceChanged:(n,r)=>!1,hasInstanceAffectedParent:(n,r)=>!1,suspendOnActiveViewTransition(n,r){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(n){},createViewTransitionInstance:n=>null,getCurrentGestureOffset(n){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(n,r){return n},cloneMutableTextInstance(n){return n},cloneRootViewTransitionContainer(n){throw new Error("Not implemented.")},removeRootViewTransitionClone(n,r){throw new Error("Not implemented.")},createFragmentInstance:n=>null,updateFragmentInstanceFiber(n,r){},commitNewChildToFragmentInstance(n,r){},deleteChildFromFragmentInstance(n,r){},measureClonedInstance:n=>null,maySuspendCommitOnUpdate:(n,r,s)=>!1,maySuspendCommitInSyncRender:(n,r)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(n,r)=>null}),xo=new Map,rr={objects:"shallow",strict:!1};function Dx(n,r){if(!r&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:s,height:u,top:a,left:f}=n.parentElement.getBoundingClientRect();return{width:s,height:u,top:a,left:f}}else if(!r&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...r}}function Rx(n){const r=xo.get(n),s=r?.fiber,u=r?.store;r&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,f=u||dx(Za,Fd),d=s||Va.createContainer(f,gx,null,!1,null,"",a,a,a,null);r||xo.set(n,{fiber:d,store:f});let p,g,y=!1,v=null;return{async configure(h={}){let m;v=new Promise(G=>m=G);let{gl:S,size:w,scene:j,events:N,onCreated:E,shadows:C=!1,linear:x=!1,flat:k=!1,legacy:_=!1,orthographic:P=!1,frameloop:T="always",dpr:O=[1,2],performance:F,raycaster:X,camera:L,onPointerMissed:q}=h,W=f.getState(),M=W.gl;if(!W.gl){const G={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Q=typeof S=="function"?await S(G):S;Id(Q)?M=Q:M=new Um({...G,...S}),W.set({gl:M})}let $=W.raycaster;$||W.set({raycaster:$=new Wm});const{params:D,...V}=X||{};if(Ze.equ(V,$,rr)||Vn($,{...V}),Ze.equ(D,$.params,rr)||Vn($,{params:{...$.params,...D}}),!W.camera||W.camera===g&&!Ze.equ(g,L,rr)){g=L;const G=L?.isCamera,Q=G?L:P?new Zm(0,0,0,0,.1,1e3):new qm(75,0,.1,1e3);G||(Q.position.z=5,L&&(Vn(Q,L),Q.manual||("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(Q.manual=!0,Q.updateProjectionMatrix())),!W.camera&&!(L!=null&&L.rotation)&&Q.lookAt(0,0,0)),W.set({camera:Q}),$.camera=Q}if(!W.scene){let G;j!=null&&j.isScene?(G=j,As(G,f,"",{})):(G=new Ym,As(G,f,"",{}),j&&Vn(G,j)),W.set({scene:G})}N&&!W.events.handlers&&W.set({events:N(f)});const B=Dx(n,w);if(Ze.equ(B,W.size,rr)||W.setSize(B.width,B.height,B.top,B.left),O&&W.viewport.dpr!==gh(O)&&W.setDpr(O),W.frameloop!==T&&W.setFrameloop(T),W.onPointerMissed||W.set({onPointerMissed:q}),F&&!Ze.equ(F,W.performance,rr)&&W.set(G=>({performance:{...G.performance,...F}})),!W.xr){var H;const G=(ee,ae)=>{const de=f.getState();de.frameloop!=="never"&&Fd(ee,!0,de,ae)},Q=()=>{const ee=f.getState();ee.gl.xr.enabled=ee.gl.xr.isPresenting,ee.gl.xr.setAnimationLoop(ee.gl.xr.isPresenting?G:null),ee.gl.xr.isPresenting||Za(ee)},re={connect(){const ee=f.getState().gl;ee.xr.addEventListener("sessionstart",Q),ee.xr.addEventListener("sessionend",Q)},disconnect(){const ee=f.getState().gl;ee.xr.removeEventListener("sessionstart",Q),ee.xr.removeEventListener("sessionend",Q)}};typeof((H=M.xr)==null?void 0:H.addEventListener)=="function"&&re.connect(),W.set({xr:re})}if(M.shadowMap){const G=M.shadowMap.enabled,Q=M.shadowMap.type;if(M.shadowMap.enabled=!!C,Ze.boo(C))M.shadowMap.type=va;else if(Ze.str(C)){var K;const re={basic:Gm,percentage:Qm,soft:va,variance:Xm};M.shadowMap.type=(K=re[C])!=null?K:va}else Ze.obj(C)&&Object.assign(M.shadowMap,C);(G!==M.shadowMap.enabled||Q!==M.shadowMap.type)&&(M.shadowMap.needsUpdate=!0)}return Km.enabled=!_,y||(M.outputColorSpace=x?Jm:Zd,M.toneMapping=k?e0:t0),W.legacy!==_&&W.set(()=>({legacy:_})),W.linear!==x&&W.set(()=>({linear:x})),W.flat!==k&&W.set(()=>({flat:k})),S&&!Ze.fun(S)&&!Id(S)&&!Ze.equ(S,M,rr)&&Vn(M,S),p=E,y=!0,m(),this},render(h){return!y&&!v&&this.configure(),v.then(()=>{Va.updateContainer(z.jsx(Fx,{store:f,children:h,onCreated:p,rootElement:n}),d,null,()=>{})}),f},unmount(){Eh(n)}}}function Fx({store:n,children:r,onCreated:s,rootElement:u}){return gi(()=>{const a=n.getState();a.set(f=>({internal:{...f.internal,active:!0}})),s&&s(a),n.getState().events.connected||a.events.connect==null||a.events.connect(u)},[]),z.jsx(vh.Provider,{value:n,children:r})}function Eh(n,r){const s=xo.get(n),u=s?.fiber;if(u){const a=s?.store.getState();a&&(a.internal.active=!1),Va.updateContainer(null,u,null,()=>{a&&setTimeout(()=>{try{var f,d,p,g;a.events.disconnect==null||a.events.disconnect(),(f=a.gl)==null||(d=f.renderLists)==null||d.dispose==null||d.dispose(),(p=a.gl)==null||p.forceContextLoss==null||p.forceContextLoss(),(g=a.gl)!=null&&g.xr&&a.xr.disconnect(),ox(a.scene),xo.delete(n)}catch{}},500)})}}const Lx=new Set,Ox=new Set,Bx=new Set;function Ma(n,r){if(n.size)for(const{callback:s}of n.values())s(r)}function ni(n,r){switch(n){case"before":return Ma(Lx,r);case"after":return Ma(Ox,r);case"tail":return Ma(Bx,r)}}let ja,Ia;function Ua(n,r,s){let u=r.clock.getDelta();r.frameloop==="never"&&typeof n=="number"&&(u=n-r.clock.elapsedTime,r.clock.oldTime=r.clock.elapsedTime,r.clock.elapsedTime=n),ja=r.internal.subscribers;for(let a=0;a<ja.length;a++)Ia=ja[a],Ia.ref.current(Ia.store.getState(),u,s);return!r.internal.priority&&r.gl.render&&r.gl.render(r.scene,r.camera),r.internal.frames=Math.max(0,r.internal.frames-1),r.frameloop==="always"?1:r.internal.frames}let Rs=!1,Wa=!1,Pa,Rd,ir;function kh(n){Rd=requestAnimationFrame(kh),Rs=!0,Pa=0,ni("before",n),Wa=!0;for(const s of xo.values()){var r;ir=s.store.getState(),ir.internal.active&&(ir.frameloop==="always"||ir.internal.frames>0)&&!((r=ir.gl.xr)!=null&&r.isPresenting)&&(Pa+=Ua(n,ir))}if(Wa=!1,ni("after",n),Pa===0)return ni("tail",n),Rs=!1,cancelAnimationFrame(Rd)}function Za(n,r=1){var s;if(!n)return xo.forEach(u=>Za(u.store.getState(),r));(s=n.gl.xr)!=null&&s.isPresenting||!n.internal.active||n.frameloop==="never"||(r>1?n.internal.frames=Math.min(60,n.internal.frames+r):Wa?n.internal.frames=2:n.internal.frames=1,Rs||(Rs=!0,requestAnimationFrame(kh)))}function Fd(n,r=!0,s,u){if(r&&ni("before",n),s)Ua(n,s,u);else for(const a of xo.values())Ua(n,a.store.getState());r&&ni("after",n)}const _a={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Hx(n){const{handlePointer:r}=fx(n);return{priority:1,enabled:!0,compute(s,u,a){u.pointer.set(s.offsetX/u.size.width*2-1,-(s.offsetY/u.size.height)*2+1),u.raycaster.setFromCamera(u.pointer,u.camera)},connected:void 0,handlers:Object.keys(_a).reduce((s,u)=>({...s,[u]:r(u)}),{}),update:()=>{var s;const{events:u,internal:a}=n.getState();(s=a.lastEvent)!=null&&s.current&&u.handlers&&u.handlers.onPointerMove(a.lastEvent.current)},connect:s=>{const{set:u,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),u(f=>({events:{...f.events,connected:s}})),a.handlers)for(const f in a.handlers){const d=a.handlers[f],[p,g]=_a[f];s.addEventListener(p,d,{passive:g})}},disconnect:()=>{const{set:s,events:u}=n.getState();if(u.connected){if(u.handlers)for(const a in u.handlers){const f=u.handlers[a],[d]=_a[a];u.connected.removeEventListener(d,f)}s(a=>({events:{...a.events,connected:void 0}}))}}}}function Ld(n,r){let s;return(...u)=>{window.clearTimeout(s),s=window.setTimeout(()=>n(...u),r)}}function Vx({debounce:n,scroll:r,polyfill:s,offsetSize:u}={debounce:0,scroll:!1,offsetSize:!1}){const a=s||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[f,d]=A.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),p=A.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f,orientationHandler:null}),g=n?typeof n=="number"?n:n.scroll:null,y=n?typeof n=="number"?n:n.resize:null,v=A.useRef(!1);A.useEffect(()=>(v.current=!0,()=>void(v.current=!1)));const[h,m,S]=A.useMemo(()=>{const E=()=>{if(!p.current.element)return;const{left:C,top:x,width:k,height:_,bottom:P,right:T,x:O,y:F}=p.current.element.getBoundingClientRect(),X={left:C,top:x,width:k,height:_,bottom:P,right:T,x:O,y:F};p.current.element instanceof HTMLElement&&u&&(X.height=p.current.element.offsetHeight,X.width=p.current.element.offsetWidth),Object.freeze(X),v.current&&!qx(p.current.lastBounds,X)&&d(p.current.lastBounds=X)};return[E,y?Ld(E,y):E,g?Ld(E,g):E]},[d,u,g,y]);function w(){p.current.scrollContainers&&(p.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",S,!0)),p.current.scrollContainers=null),p.current.resizeObserver&&(p.current.resizeObserver.disconnect(),p.current.resizeObserver=null),p.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",p.current.orientationHandler))}function j(){p.current.element&&(p.current.resizeObserver=new a(S),p.current.resizeObserver.observe(p.current.element),r&&p.current.scrollContainers&&p.current.scrollContainers.forEach(E=>E.addEventListener("scroll",S,{capture:!0,passive:!0})),p.current.orientationHandler=()=>{S()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",p.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",p.current.orientationHandler))}const N=E=>{!E||E===p.current.element||(w(),p.current.element=E,p.current.scrollContainers=Ch(E),j())};return Wx(S,!!r),Ux(m),A.useEffect(()=>{w(),j()},[r,S,m]),A.useEffect(()=>w,[]),[N,f,h]}function Ux(n){A.useEffect(()=>{const r=n;return window.addEventListener("resize",r),()=>void window.removeEventListener("resize",r)},[n])}function Wx(n,r){A.useEffect(()=>{if(r){const s=n;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[n,r])}function Ch(n){const r=[];if(!n||n===document.body)return r;const{overflow:s,overflowX:u,overflowY:a}=window.getComputedStyle(n);return[s,u,a].some(f=>f==="auto"||f==="scroll")&&r.push(n),[...r,...Ch(n.parentElement)]}const Zx=["x","y","top","bottom","left","right","width","height"],qx=(n,r)=>Zx.every(s=>n[s]===r[s]);function Yx({ref:n,children:r,fallback:s,resize:u,style:a,gl:f,events:d=Hx,eventSource:p,eventPrefix:g,shadows:y,linear:v,flat:h,legacy:m,orthographic:S,frameloop:w,dpr:j,performance:N,raycaster:E,camera:C,scene:x,onPointerMissed:k,onCreated:_,...P}){A.useMemo(()=>jx(l0),[]);const T=ex(),[O,F]=Vx({scroll:!0,debounce:{scroll:50,resize:0},...u}),X=A.useRef(null),L=A.useRef(null);A.useImperativeHandle(n,()=>X.current);const q=hh(k),[W,M]=A.useState(!1),[$,D]=A.useState(!1);if(W)throw W;if($)throw $;const V=A.useRef(null);gi(()=>{const H=X.current;if(F.width>0&&F.height>0&&H){V.current||(V.current=Rx(H));async function K(){await V.current.configure({gl:f,scene:x,events:d,shadows:y,linear:v,flat:h,legacy:m,orthographic:S,frameloop:w,dpr:j,performance:N,raycaster:E,camera:C,size:F,onPointerMissed:(...G)=>q.current==null?void 0:q.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(p?Kb(p)?p.current:p:L.current),g&&G.setEvents({compute:(Q,re)=>{const ee=Q[g+"X"],ae=Q[g+"Y"];re.pointer.set(ee/re.size.width*2-1,-(ae/re.size.height)*2+1),re.raycaster.setFromCamera(re.pointer,re.camera)}}),_?.(G)}}),V.current.render(z.jsx(T,{children:z.jsx(nx,{set:D,children:z.jsx(A.Suspense,{fallback:z.jsx(tx,{set:M}),children:r??null})})}))}K()}}),A.useEffect(()=>{const H=X.current;if(H)return()=>Eh(H)},[]);const B=p?"none":"auto";return z.jsx("div",{ref:L,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:B,...a},...P,children:z.jsx("div",{ref:O,style:{width:"100%",height:"100%"},children:z.jsx("canvas",{ref:X,style:{display:"block"},children:s})})})}function Xx(n){return z.jsx(ch,{children:z.jsx(Yx,{...n})})}const Od=`
  varying vec3 vPosition;
  varying vec3 vNormal;
  varying vec2 vUv;
  
  void main() {
    vPosition = position;
    vNormal = normal;
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,Bd=`
  uniform float uTime;
  uniform vec3 uColor;
  uniform float uOpacity;
  
  varying vec3 vPosition;
  varying vec3 vNormal;
  varying vec2 vUv;
  
  void main() {
    // Scan line effect
    float scanLine = sin(vUv.y * 20.0 + uTime * 2.0) * 0.5 + 0.5;
    scanLine = pow(scanLine, 3.0);
    
    // Edge glow
    float edge = 1.0 - abs(dot(vNormal, vec3(0.0, 0.0, 1.0)));
    edge = pow(edge, 2.0);
    
    // Holographic color shift
    vec3 color = uColor;
    color.r += sin(uTime + vPosition.x) * 0.2;
    color.b += cos(uTime + vPosition.y) * 0.2;
    
    // Combine effects
    vec3 finalColor = color * (0.7 + scanLine * 0.3) + edge * uColor * 2.0;
    float alpha = uOpacity * (0.6 + edge * 0.4);
    
    gl_FragColor = vec4(finalColor, alpha);
  }
`;function Qx({isHighlighted:n}){const r=A.useRef(null),s=A.useRef(null),u=A.useRef(null),a=A.useRef(0);return hx(f=>{r.current&&(r.current.rotation.y=Math.sin(f.clock.elapsedTime*.5)*.1,r.current.rotation.x=Math.cos(f.clock.elapsedTime*.3)*.05),a.current=f.clock.elapsedTime;const d=n?.9:.7;s.current&&(s.current.uniforms.uTime.value=a.current,s.current.uniforms.uOpacity.value=d),u.current&&(u.current.uniforms.uTime.value=a.current,u.current.uniforms.uOpacity.value=d)}),z.jsxs("group",{children:[z.jsxs("mesh",{ref:r,position:[0,.3,0],children:[z.jsx("sphereGeometry",{args:[.15,16,16]}),z.jsx("shaderMaterial",{ref:s,vertexShader:Od,fragmentShader:Bd,uniforms:{uTime:{value:0},uColor:{value:[.39,.42,.95]},uOpacity:{value:.7}},transparent:!0,side:2})]}),z.jsxs("mesh",{position:[0,0,0],children:[z.jsx("boxGeometry",{args:[.2,.4,.15]}),z.jsx("shaderMaterial",{ref:u,vertexShader:Od,fragmentShader:Bd,uniforms:{uTime:{value:0},uColor:{value:[.39,.42,.95]},uOpacity:{value:.7}},transparent:!0,side:2})]}),z.jsxs("mesh",{position:[0,0,0],scale:n?1.3:1.1,children:[z.jsx("sphereGeometry",{args:[.25,16,16]}),z.jsx("meshBasicMaterial",{color:"#6366f1",transparent:!0,opacity:n?.2:.1})]})]})}const Gx=({data:n,selected:r})=>{const{label:s="User",amount:u,isHighlighted:a=!1}=n||{},f="#6366f1",d=a||r;return z.jsxs("div",{className:"relative",children:[z.jsxs(ci.div,{animate:{scale:d?1.05:.9,opacity:d?1:.8},transition:{duration:.3},className:"relative",children:[z.jsx("div",{className:"w-[120px] h-[120px]",children:z.jsxs(Xx,{camera:{position:[0,0,1.5],fov:50},gl:{alpha:!0,antialias:!0},style:{width:"100%",height:"100%"},children:[z.jsx("ambientLight",{intensity:.5}),z.jsx("pointLight",{position:[2,2,2],intensity:1}),z.jsx(Qx,{isHighlighted:d})]})}),s&&z.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-center",children:z.jsx("span",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200",children:s})})]}),z.jsx(un,{type:"source",position:ue.Right,style:{background:f,width:10,height:10,border:`2px solid ${f}`,borderRadius:"50%"}})]})},Kx=({data:n,selected:r})=>{const{label:s="Ara",amount:u,isHighlighted:a=!1,isActive:f=!1}=n||{},d="#3b82f6",p="#60a5fa",g=a||r||f,y=Math.PI/6,v=Math.cos(y),h=Math.sin(y),m=80,S=60,w=(de,ce,oe)=>({x:(ce-de)*v,y:(de+ce)*h-oe}),j={x:-m/2,y:-S/2,z:0},N={x:m/2,y:-S/2,z:0},E={x:-m/2,y:S/2,z:0},C={x:m/2,y:S/2,z:0},x={x:-m/2,y:-S/2,z:-15},k={x:m/2,y:-S/2,z:-15},_={x:-m/2,y:S/2,z:-15},P={x:m/2,y:S/2,z:-15},T=w(N.x,N.y,N.z),O=w(j.x,j.y,j.z),F=w(E.x,E.y,E.z),X=w(C.x,C.y,C.z),L=w(k.x,k.y,k.z),q=w(x.x,x.y,x.z),W=w(_.x,_.y,_.z),M=w(P.x,P.y,P.z),$=w(N.x,N.y,N.z),D=w(C.x,C.y,C.z),V=w(P.x,P.y,P.z),B=w(k.x,k.y,k.z),H=w(j.x,j.y,j.z),K=w(E.x,E.y,E.z),G=w(_.x,_.y,_.z),Q=w(x.x,x.y,x.z),re=`glass-gradient-${Math.random().toString(36).substr(2,9)}`,ee=`glass-glow-${Math.random().toString(36).substr(2,9)}`,ae=`glass-reflection-${Math.random().toString(36).substr(2,9)}`;return z.jsxs("div",{className:"relative",children:[z.jsx(ci.div,{animate:{scale:g?1.08:1,opacity:g?1:.9},transition:{duration:.3},className:"relative",children:z.jsxs("svg",{width:"120",height:"120",viewBox:"-60 -60 120 120",className:"drop-shadow-lg",children:[z.jsxs("defs",{children:[z.jsxs("linearGradient",{id:re,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[z.jsx("stop",{offset:"0%",stopColor:d,stopOpacity:"0.3"}),z.jsx("stop",{offset:"50%",stopColor:p,stopOpacity:"0.5"}),z.jsx("stop",{offset:"100%",stopColor:d,stopOpacity:"0.2"})]}),z.jsxs("linearGradient",{id:ae,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[z.jsx("stop",{offset:"0%",stopColor:"#ffffff",stopOpacity:"0.4"}),z.jsx("stop",{offset:"50%",stopColor:"#ffffff",stopOpacity:"0.1"}),z.jsx("stop",{offset:"100%",stopColor:"#ffffff",stopOpacity:"0"})]}),z.jsxs("filter",{id:ee,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[z.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),z.jsxs("feMerge",{children:[z.jsx("feMergeNode",{in:"coloredBlur"}),z.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),g&&z.jsx("g",{filter:`url(#${ee})`,opacity:.4,children:z.jsx("polygon",{points:`${T.x},${T.y} ${O.x},${O.y} ${F.x},${F.y} ${X.x},${X.y}`,fill:p,opacity:.3})}),z.jsx("polygon",{points:`${T.x},${T.y} ${O.x},${O.y} ${F.x},${F.y} ${X.x},${X.y}`,fill:`url(#${re})`,stroke:d,strokeWidth:1.5,strokeOpacity:.6,style:{filter:"blur(0.5px)"},children:g&&z.jsx("animate",{attributeName:"opacity",values:"0.6;0.9;0.6",dur:"2s",repeatCount:"indefinite"})}),z.jsx("polygon",{points:`${T.x},${T.y} ${O.x},${O.y} ${F.x},${F.y} ${X.x},${X.y}`,fill:`url(#${ae})`,opacity:.5}),z.jsx("polygon",{points:`${$.x},${$.y} ${D.x},${D.y} ${V.x},${V.y} ${B.x},${B.y}`,fill:d,fillOpacity:.2,stroke:d,strokeWidth:1,strokeOpacity:.4}),z.jsx("polygon",{points:`${H.x},${H.y} ${K.x},${K.y} ${G.x},${G.y} ${Q.x},${Q.y}`,fill:d,fillOpacity:.15,stroke:d,strokeWidth:1,strokeOpacity:.3}),z.jsx("polygon",{points:`${L.x},${L.y} ${q.x},${q.y} ${W.x},${W.y} ${M.x},${M.y}`,fill:d,fillOpacity:.1,stroke:d,strokeWidth:.5,strokeOpacity:.2})]})}),s&&z.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-center",children:z.jsx("span",{className:"text-xs font-semibold text-slate-800 dark:text-slate-200",children:s})}),z.jsx(un,{type:"target",position:ue.Left,style:{background:d,width:11,height:11,border:`2px solid ${d}`,borderRadius:"50%"}}),z.jsx(un,{type:"source",position:ue.Right,style:{background:d,width:11,height:11,border:`2px solid ${d}`,borderRadius:"50%"}})]})};function Nh({width:n,height:r,depth:s,color:u,glowColor:a,opacity:f=1,isHighlighted:d=!1,label:p,amount:g,scale:y=1}){const v=n*y,h=r*y,m=s*y,S=Math.PI/6,w=Math.cos(S),j=Math.sin(S),N={x:-v/2,y:-h/2},E={x:v/2,y:-h/2},C={x:-v/2,y:h/2},x={x:v/2,y:h/2},k=(V,B,H)=>({x:(V-B)*w,y:(V+B)*j-H}),_=k(N.x,N.y,0),P=k(E.x,E.y,0),T=k(x.x,x.y,0),O=k(C.x,C.y,0),F=k(N.x,N.y,-m),X=k(E.x,E.y,-m),L=k(x.x,x.y,-m),q=k(C.x,C.y,-m),W=`gradient-${Math.random().toString(36).substr(2,9)}`,M=`glow-${Math.random().toString(36).substr(2,9)}`,$=d?1.5:1,D=d?.6:.3;return z.jsxs("g",{opacity:f,children:[z.jsxs("defs",{children:[z.jsxs("linearGradient",{id:W,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[z.jsx("stop",{offset:"0%",stopColor:u,stopOpacity:.9*$}),z.jsx("stop",{offset:"50%",stopColor:u,stopOpacity:.7*$}),z.jsx("stop",{offset:"100%",stopColor:a||u,stopOpacity:.5*$})]}),z.jsxs("filter",{id:M,x:"-100%",y:"-100%",width:"300%",height:"300%",children:[z.jsx("feGaussianBlur",{stdDeviation:"4",result:"coloredBlur"}),z.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur2"}),z.jsxs("feMerge",{children:[z.jsx("feMergeNode",{in:"coloredBlur"}),z.jsx("feMergeNode",{in:"coloredBlur2"}),z.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),z.jsx("pattern",{id:`scan-${W}`,x:"0",y:"0",width:"100%",height:"4",patternUnits:"userSpaceOnUse",children:z.jsx("rect",{width:"100%",height:"2",fill:u,opacity:"0.3"})})]}),d&&z.jsx("g",{filter:`url(#${M})`,opacity:D,children:z.jsx("polygon",{points:`${_.x},${_.y} ${P.x},${P.y} ${T.x},${T.y} ${O.x},${O.y}`,fill:a||u,opacity:.4})}),z.jsx("polygon",{points:`${_.x},${_.y} ${P.x},${P.y} ${T.x},${T.y} ${O.x},${O.y}`,fill:`url(#${W})`,stroke:u,strokeWidth:d?3:1.5,strokeOpacity:.8,children:d&&z.jsx("animate",{attributeName:"opacity",values:"0.8;1;0.8",dur:"2s",repeatCount:"indefinite"})}),z.jsx("polygon",{points:`${P.x},${P.y} ${X.x},${X.y} ${L.x},${L.y} ${T.x},${T.y}`,fill:u,fillOpacity:.6*$,stroke:u,strokeWidth:1,strokeOpacity:.5}),z.jsx("polygon",{points:`${_.x},${_.y} ${O.x},${O.y} ${q.x},${q.y} ${F.x},${F.y}`,fill:u,fillOpacity:.4*$,stroke:u,strokeWidth:1,strokeOpacity:.5}),p&&z.jsx("text",{x:0,y:_.y-10,textAnchor:"middle",fill:"currentColor",fontSize:"12",fontWeight:"bold",className:"fill-slate-800 dark:fill-slate-200",children:p}),g!==void 0&&z.jsxs("text",{x:0,y:T.y+15,textAnchor:"middle",fill:"currentColor",fontSize:"10",fontWeight:"600",className:"fill-green-600 dark:fill-green-400",children:["$",g.toLocaleString()]})]})}const Jx=({data:n,selected:r})=>{const{label:s,amount:u,isHighlighted:a=!1,isReceiving:f=!1,color:d="#8b5cf6",glowColor:p="#a78bfa"}=n||{},g=r||a?p:d,y=r||a?p:void 0;return z.jsxs("div",{className:"relative",children:[z.jsx(ci.div,{animate:{scale:a?1.15:1,opacity:f?.95:1},transition:{duration:.3},className:"relative",style:{filter:a?"drop-shadow(0 0 20px rgba(139, 92, 246, 0.6))":"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))"},children:z.jsx("svg",{width:"120",height:"120",viewBox:"-60 -60 120 120",className:"drop-shadow-lg",children:Nh({width:80,height:60,depth:20,color:g,glowColor:y,opacity:1,isHighlighted:a||r,label:s,amount:u,scale:1})})}),z.jsx(un,{type:"target",position:ue.Left,style:{background:g,width:12,height:12,border:`2px solid ${g}`,borderRadius:"50%"}}),z.jsx(un,{type:"source",position:ue.Right,style:{background:g,width:12,height:12,border:`2px solid ${g}`,borderRadius:"50%"}})]})},e1=({data:n,selected:r})=>{const{label:s="Dependencies",amount:u,isHighlighted:a=!1,extendsBeyond:f=!0}=n||{},d="#10b981";return z.jsxs("div",{className:"relative",children:[z.jsxs(ci.div,{animate:{scale:a?1.15:1,opacity:a?1:.85},transition:{duration:.3},className:"relative",style:{filter:a?"drop-shadow(0 0 20px rgba(16, 185, 129, 0.6))":"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))"},children:[z.jsx("svg",{width:"120",height:"120",viewBox:"-60 -60 120 120",className:"drop-shadow-lg",children:Nh({width:80,height:60,depth:20,color:d,glowColor:"#34d399",opacity:.8,isHighlighted:a||r,label:s,amount:u,scale:1})}),f&&z.jsx("line",{x1:"40",y1:"0",x2:"60",y2:"0",stroke:d,strokeWidth:"2",strokeDasharray:"3,3",opacity:"0.6",markerEnd:"url(#arrowhead)"})]}),z.jsx(un,{type:"target",position:ue.Left,style:{background:d,width:12,height:12,border:`2px solid ${d}`,borderRadius:"50%"}}),z.jsx("defs",{children:z.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:z.jsx("polygon",{points:"0 0, 10 3, 0 6",fill:d,opacity:"0.6"})})})]})},t1=({id:n,sourceX:r,sourceY:s,targetX:u,targetY:a,sourcePosition:f,targetPosition:d,style:p={},data:g,markerEnd:y})=>{const{amount:v,progress:h=0,color:m="#3b82f6"}=g||{},S=A.useRef(null),[w,j]=A.useState({x:r,y:s}),[N]=A.useMemo(()=>_s({sourceX:r,sourceY:s,sourcePosition:f,targetX:u,targetY:a,targetPosition:d}),[r,s,f,u,a,d]);return A.useEffect(()=>{const E=()=>{if(!S.current){const x=r+(u-r)*Math.max(0,Math.min(1,h)),k=s+(a-s)*Math.max(0,Math.min(1,h));j({x,y:k});return}try{if(h>0&&h<1){const x=S.current.getTotalLength();if(x>0){const k=S.current.getPointAtLength(x*h);j({x:k.x,y:k.y})}else{const k=r+(u-r)*Math.max(0,Math.min(1,h)),_=s+(a-s)*Math.max(0,Math.min(1,h));j({x:k,y:_})}}else h<=0?j({x:r,y:s}):h>=1&&j({x:u,y:a})}catch{const k=r+(u-r)*Math.max(0,Math.min(1,h)),_=s+(a-s)*Math.max(0,Math.min(1,h));j({x:k,y:_})}},C=requestAnimationFrame(()=>{E()});return()=>cancelAnimationFrame(C)},[h,r,s,u,a,N]),z.jsxs(z.Fragment,{children:[z.jsx("path",{ref:S,id:n,d:N,fill:"none",stroke:"transparent",strokeWidth:20,style:{pointerEvents:"none"}}),z.jsx("path",{id:`${n}-visible`,style:p,className:"react-flow__edge-path",d:N,markerEnd:y}),v!==void 0&&h>0&&h<=1&&z.jsxs("g",{style:{pointerEvents:"none"},children:[z.jsxs("circle",{cx:w.x,cy:w.y,r:16,fill:m,opacity:.3,children:[z.jsx("animate",{attributeName:"r",values:"14;18;14",dur:"1s",repeatCount:"indefinite"}),z.jsx("animate",{attributeName:"opacity",values:"0.2;0.4;0.2",dur:"1s",repeatCount:"indefinite"})]}),z.jsx("circle",{cx:w.x,cy:w.y,r:14,fill:m,opacity:.95,children:z.jsx("animate",{attributeName:"r",values:"12;15;12",dur:"0.8s",repeatCount:"indefinite"})}),z.jsx("text",{x:w.x,y:w.y,textAnchor:"middle",dominantBaseline:"central",fill:"white",fontSize:"14",fontWeight:"bold",style:{pointerEvents:"none",userSelect:"none"},children:"$"}),z.jsxs("text",{x:w.x,y:w.y-22,textAnchor:"middle",fill:m,fontSize:"12",fontWeight:"700",style:{pointerEvents:"none",userSelect:"none",textShadow:"0 1px 3px rgba(0,0,0,0.5), 0 0 8px rgba(255,255,255,0.3)"},children:["$",v.toLocaleString()]})]})]})},Hd=2e3,Bn=1500,Vd=2e3;function Ta(){return Math.floor(Math.random()*5e4)+1e4}function n1(){const[n,r]=A.useState({phase:"idle",iteration:0,userAmount:0,projectBAmount:0,projectAAmount:0,projectCAmount:0,depsAmount:0,isProjectBHighlighted:!1,isProjectAHighlighted:!1,isProjectCHighlighted:!1,projectCExists:!1}),s=A.useRef(null),u=A.useRef(0),a=A.useRef(null),f=A.useCallback(()=>{s.current&&(clearTimeout(s.current),s.current=null),a.current&&(cancelAnimationFrame(a.current),a.current=null)},[]),d=A.useCallback((y,v,h)=>{u.current=0;const m=Date.now(),S=()=>{const w=Date.now()-m;u.current=Math.min(w/Bn,1),r(j=>({...j,activeFlow:{from:y,to:v,amount:h,progress:u.current}})),u.current<1?a.current=requestAnimationFrame(S):(u.current=0,r(j=>({...j,activeFlow:void 0})))};a.current=requestAnimationFrame(S)},[]),p=A.useCallback((y,v=0)=>{f(),s.current=setTimeout(()=>{r(h=>({...h,phase:y}))},v)},[f]),g=A.useCallback(()=>{const y=Ta();r(v=>({...v,phase:"userToAra",userAmount:y,activeFlow:{from:"user",to:"ara",amount:y,progress:0}})),d("user","ara",y),p("araToProjectB",Bn)},[d,p]);return A.useEffect(()=>{switch(n.phase){case"idle":p("userToAra",500);break;case"userToAra":n.activeFlow||p("araToProjectB",100);break;case"araToProjectB":{const v=n.userAmount;r(h=>({...h,projectBAmount:v,phase:"highlightB"})),d("ara","projectB",v),p("highlightB",Bn);break}case"highlightB":r(v=>({...v,isProjectBHighlighted:!0})),p("bToA",Hd);break;case"bToA":{const v=Math.floor(n.projectBAmount*.2);r(h=>({...h,isProjectBHighlighted:!1,projectAAmount:v,phase:"highlightA"})),d("projectB","projectA",v),p("highlightA",Bn);break}case"highlightA":r(v=>({...v,isProjectAHighlighted:!0})),p("aToDeps",Hd);break;case"aToDeps":{const v=Math.floor(n.userAmount*.02);r(h=>({...h,isProjectAHighlighted:!1,depsAmount:v,phase:"depsReceive"})),d("projectA","dependencies",v),p("depsReceive",Bn);break}case"depsReceive":p("checkIteration",Vd);break;case"checkIteration":{const v=n.iteration+1;v%2===0&&!n.projectCExists?(r(m=>({...m,iteration:v})),p("forkB",500)):(r(m=>({...m,iteration:v,phase:"returnToStart",userAmount:0,projectBAmount:0,projectAAmount:0,projectCAmount:0,depsAmount:0,isProjectBHighlighted:!1,isProjectAHighlighted:!1,isProjectCHighlighted:!1})),p("userToAra",1e3));break}case"forkB":r(v=>({...v,phase:"createProjectC",projectCExists:!0})),p("createProjectC",500);break;case"createProjectC":{const v=Ta();r(h=>({...h,projectCAmount:v,phase:"cReceives",isProjectCHighlighted:!0})),d("user","projectC",v),p("cReceives",Bn);break}case"cReceives":p("cSplit",Vd);break;case"cSplit":{const v=Math.floor(n.projectCAmount*.1),h=Math.floor(n.projectCAmount*.1);r(m=>({...m,isProjectCHighlighted:!1,projectBAmount:m.projectBAmount+v,projectAAmount:m.projectAAmount+h,phase:"returnToStart"})),d("projectC","projectB",v),setTimeout(()=>{d("projectC","projectA",h)},300),p("returnToStart",Bn+500);break}case"returnToStart":const y=Ta();r(v=>({...v,iteration:v.iteration+1,phase:"userToAra",userAmount:y,projectBAmount:0,projectAAmount:0,projectCAmount:0,depsAmount:0,isProjectBHighlighted:!1,isProjectAHighlighted:!1,isProjectCHighlighted:!1,projectCExists:!1,activeFlow:{from:"user",to:"ara",amount:y,progress:0}})),d("user","ara",y),p("araToProjectB",Bn);break}},[n.phase,n.iteration,n.projectCExists,n.activeFlow,p,d]),A.useEffect(()=>()=>{f()},[f]),{state:n,startCycle:g}}const o1=({children:n,autoStart:r=!0})=>{const{state:s,startCycle:u}=n1();return ur.useEffect(()=>{if(r&&s.phase==="idle"){const a=setTimeout(()=>{u()},1e3);return()=>clearTimeout(a)}},[r,s.phase,u]),z.jsx(z.Fragment,{children:n(s)})},r1={user:Gx,ara:Kx,project:Jx,dependency:e1},i1={animatedMoney:t1},go=(n,r)=>({stroke:r,strokeWidth:3,strokeDasharray:n?"5,5":"none",opacity:n?.8:.4}),v1=({className:n=""})=>z.jsx(o1,{autoStart:!0,children:r=>z.jsx(s1,{className:n,animationState:r})}),s1=({className:n,animationState:r})=>{const s=A.useMemo(()=>({user:{x:-400,y:-200,scale:.85,opacity:.7},ara:{x:-240,y:-150,scale:.95,opacity:.9},projectB:{x:-80,y:-100,scale:1,opacity:1},projectA:{x:80,y:-100,scale:1,opacity:1},dependencies:{x:240,y:-100,scale:1,opacity:1}}),[]),u=A.useMemo(()=>[{id:"user",type:"user",position:{x:s.user.x,y:s.user.y},data:{label:"User",amount:r.userAmount}},{id:"ara",type:"ara",position:{x:s.ara.x,y:s.ara.y},data:{label:"Ara",isActive:r.activeFlow?.from==="user"&&r.activeFlow?.to==="ara"||r.activeFlow?.from==="ara"&&r.activeFlow?.to==="projectB"}},{id:"projectB",type:"project",position:{x:s.projectB.x,y:s.projectB.y},data:{label:"Project B",amount:r.projectBAmount,isHighlighted:r.isProjectBHighlighted,isReceiving:r.activeFlow?.to==="projectB",color:"#8b5cf6",glowColor:"#a78bfa"}},{id:"projectA",type:"project",position:{x:s.projectA.x,y:s.projectA.y},data:{label:"Project A",amount:r.projectAAmount,isHighlighted:r.isProjectAHighlighted,isReceiving:r.activeFlow?.to==="projectA",color:"#10b981",glowColor:"#34d399"}},{id:"dependencies",type:"dependency",position:{x:s.dependencies.x,y:s.dependencies.y},data:{label:"Dependencies",amount:r.depsAmount,extendsBeyond:!0,isReceiving:r.activeFlow?.to==="dependencies"}},...r.projectCExists?[{id:"projectC",type:"project",position:{x:s.projectB.x,y:s.projectB.y-150},data:{label:"Project C",amount:r.projectCAmount,isHighlighted:r.isProjectCHighlighted,isReceiving:r.activeFlow?.to==="projectC",color:"#f59e0b",glowColor:"#fbbf24"}}]:[]],[s,r.userAmount,r.projectBAmount,r.projectAAmount,r.projectCAmount,r.depsAmount,r.isProjectBHighlighted,r.isProjectAHighlighted,r.isProjectCHighlighted,r.projectCExists,r.activeFlow]),[a,f,d]=hb(u),[p,g,y]=gb([]);ur.useEffect(()=>{f(h=>h.map(m=>{const S={...m};switch(m.id){case"user":S.data={...S.data,amount:r.userAmount};break;case"ara":S.data={...S.data,isActive:r.activeFlow?.from==="user"&&r.activeFlow?.to==="ara"||r.activeFlow?.from==="ara"&&r.activeFlow?.to==="projectB"};break;case"projectB":S.data={...S.data,amount:r.projectBAmount,isHighlighted:r.isProjectBHighlighted,isReceiving:r.activeFlow?.to==="projectB"};break;case"projectA":S.data={...S.data,amount:r.projectAAmount,isHighlighted:r.isProjectAHighlighted,isReceiving:r.activeFlow?.to==="projectA"};break;case"projectC":r.projectCExists&&(S.data={...S.data,amount:r.projectCAmount,isHighlighted:r.isProjectCHighlighted,isReceiving:r.activeFlow?.to==="projectC"});break;case"dependencies":S.data={...S.data,amount:r.depsAmount,isReceiving:r.activeFlow?.to==="dependencies"};break}return S}))},[r,f,r.userAmount,r.projectBAmount,r.projectAAmount,r.projectCAmount,r.depsAmount,r.isProjectBHighlighted,r.isProjectAHighlighted,r.isProjectCHighlighted,r.projectCExists,r.activeFlow]),ur.useEffect(()=>{const h=[];r.activeFlow?.from==="user"&&r.activeFlow?.to==="ara"&&h.push({id:"user-ara",source:"user",target:"ara",type:"animatedMoney",animated:!0,style:go(!0,"#10b981"),markerEnd:{type:Xt.ArrowClosed,color:"#10b981"},data:{amount:r.activeFlow.amount,progress:r.activeFlow.progress,color:"#10b981"}}),r.activeFlow?.from==="ara"&&r.activeFlow?.to==="projectB"&&h.push({id:"ara-projectB",source:"ara",target:"projectB",type:"animatedMoney",animated:!0,style:go(!0,"#10b981"),markerEnd:{type:Xt.ArrowClosed,color:"#10b981"},data:{amount:r.activeFlow.amount,progress:r.activeFlow.progress,color:"#10b981"}}),r.activeFlow?.from==="projectB"&&r.activeFlow?.to==="projectA"&&h.push({id:"projectB-projectA",source:"projectB",target:"projectA",type:"animatedMoney",animated:!0,style:go(!0,"#10b981"),markerEnd:{type:Xt.ArrowClosed,color:"#10b981"},data:{amount:r.activeFlow.amount,progress:r.activeFlow.progress,color:"#10b981"}}),r.activeFlow?.from==="projectA"&&r.activeFlow?.to==="dependencies"&&h.push({id:"projectA-dependencies",source:"projectA",target:"dependencies",type:"animatedMoney",animated:!0,style:go(!0,"#10b981"),markerEnd:{type:Xt.ArrowClosed,color:"#10b981"},data:{amount:r.activeFlow.amount,progress:r.activeFlow.progress,color:"#10b981"}}),r.projectCExists&&(r.activeFlow?.from==="user"&&r.activeFlow?.to==="projectC"&&h.push({id:"user-projectC",source:"user",target:"projectC",type:"animatedMoney",animated:!0,style:go(!0,"#f59e0b"),markerEnd:{type:Xt.ArrowClosed,color:"#f59e0b"},data:{amount:r.activeFlow.amount,progress:r.activeFlow.progress,color:"#f59e0b"}}),r.activeFlow?.from==="projectC"&&r.activeFlow?.to==="projectB"&&h.push({id:"projectC-projectB",source:"projectC",target:"projectB",type:"animatedMoney",animated:!0,style:go(!0,"#f59e0b"),markerEnd:{type:Xt.ArrowClosed,color:"#f59e0b"},data:{amount:r.activeFlow.amount,progress:r.activeFlow.progress,color:"#f59e0b"}}),r.activeFlow?.from==="projectC"&&r.activeFlow?.to==="projectA"&&h.push({id:"projectC-projectA",source:"projectC",target:"projectA",type:"animatedMoney",animated:!0,style:go(!0,"#f59e0b"),markerEnd:{type:Xt.ArrowClosed,color:"#f59e0b"},data:{amount:r.activeFlow.amount,progress:r.activeFlow.progress,color:"#f59e0b"}})),g(h)},[r.activeFlow,r.projectCExists,g]);const v=A.useCallback(h=>g(m=>hp(h,m)),[g]);return z.jsx(ih,{children:z.jsx(ci.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`isometric-funding-flow w-full h-full ${n}`,style:{height:"100%",width:"100%"},children:z.jsx(pb,{nodes:a,edges:p,onNodesChange:d,onEdgesChange:y,onConnect:v,nodeTypes:r1,edgeTypes:i1,fitView:!0,fitViewOptions:{padding:.3},minZoom:.3,maxZoom:1.5,defaultViewport:{x:0,y:0,zoom:.7},proOptions:{hideAttribution:!0},children:z.jsx(xb,{color:"#1e293b",gap:16})})})})};export{v1 as default};
