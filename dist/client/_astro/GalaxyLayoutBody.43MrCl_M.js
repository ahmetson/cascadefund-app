import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as c,a as mn,g as bn,c as tt}from"./index.DxhH1ShK.js";import{N as Ae}from"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";import{m as Fe}from"./proxy.D4YeN7SK.js";import{C as yt}from"./ControlPanel.cHJq7f4J.js";import{B as ae}from"./Button.CuXyr_i0.js";import{u as yn,o as xt,s as wt,f as Et,a as xn,b as wn,h as En,l as kn,c as kt,C as St,d as Sn,F as Cn}from"./Tooltip.BWGh4r1w.js";import{P as Ct}from"./PageLikePanel.guWiuL_Q.js";import{g as An}from"./icon.DFuhwfpy.js";import{C as Fn}from"./Link.k33VB9n9.js";import{c as At}from"./utils.Lr0IsqiS.js";import{g as Pn}from"./slot.Dc8ja7ZA.js";import{P as Ft,u as _n}from"./use-controlled-state.CxrLW6JS.js";import{a as fe,P as se,e as le,f as jn,u as We,c as Pt,d as On,b as Rn}from"./index.TaQMmt2C.js";import{u as Nn}from"./accordion.Du3ry5_a.js";import{u as Tn}from"./index.3ks74Brc.js";import{R as Ln}from"./index.C2SuE_cr.js";import{A as Mn}from"./index.CG_O7YBG.js";import{a as Ke}from"./auth.C6MmFFld.js";import{a as je}from"./virtual.VUcB3V37.js";import{G as Ne}from"./galaxy.CumdPsiS.js";import"./Panel.BDrWh8LJ.js";import"./eventTypes.j192VUKf.js";import"./ripple.MQee5g1d.js";import"./ElectricBorder.BANsXwQj.js";import"./clsx.B-dksMZM.js";import"./accordion.CkcBKuZR.js";import"./createLucideIcon.C1tpinp8.js";import"./PanelAction.DEFdBo1-.js";import"./index.pjxe1RjL.js";import"./index.CqUFkXl9.js";import"./client.B9YBqyHK.js";function me(e){const n=c.useRef(e);return c.useEffect(()=>{n.current=e}),c.useMemo(()=>(...t)=>n.current?.(...t),[])}function Dn(e,n=globalThis?.document){const t=me(e);c.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return n.addEventListener("keydown",r,{capture:!0}),()=>n.removeEventListener("keydown",r,{capture:!0})},[t,n])}var $n="DismissableLayer",Ue="dismissableLayer.update",zn="dismissableLayer.pointerDownOutside",In="dismissableLayer.focusOutside",nt,_t=c.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jt=c.forwardRef((e,n)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:f,onDismiss:a,...k}=e,x=c.useContext(_t),[w,y]=c.useState(null),S=w?.ownerDocument??globalThis?.document,[,j]=c.useState({}),N=fe(n,b=>y(b)),p=Array.from(x.layers),[E]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),F=p.indexOf(E),l=w?p.indexOf(w):-1,u=x.layersWithOutsidePointerEventsDisabled.size>0,g=l>=F,h=Un(b=>{const R=b.target,A=[...x.branches].some(P=>P.contains(R));!g||A||(o?.(b),f?.(b),b.defaultPrevented||a?.())},S),m=Hn(b=>{const R=b.target;[...x.branches].some(P=>P.contains(R))||(i?.(b),f?.(b),b.defaultPrevented||a?.())},S);return Dn(b=>{l===x.layers.size-1&&(r?.(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},S),c.useEffect(()=>{if(w)return t&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(nt=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(w)),x.layers.add(w),rt(),()=>{t&&x.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=nt)}},[w,S,t,x]),c.useEffect(()=>()=>{w&&(x.layers.delete(w),x.layersWithOutsidePointerEventsDisabled.delete(w),rt())},[w,x]),c.useEffect(()=>{const b=()=>j({});return document.addEventListener(Ue,b),()=>document.removeEventListener(Ue,b)},[]),s.jsx(se.div,{...k,ref:N,style:{pointerEvents:u?g?"auto":"none":void 0,...e.style},onFocusCapture:le(e.onFocusCapture,m.onFocusCapture),onBlurCapture:le(e.onBlurCapture,m.onBlurCapture),onPointerDownCapture:le(e.onPointerDownCapture,h.onPointerDownCapture)})});jt.displayName=$n;var Bn="DismissableLayerBranch",Wn=c.forwardRef((e,n)=>{const t=c.useContext(_t),r=c.useRef(null),o=fe(n,r);return c.useEffect(()=>{const i=r.current;if(i)return t.branches.add(i),()=>{t.branches.delete(i)}},[t.branches]),s.jsx(se.div,{...e,ref:o})});Wn.displayName=Bn;function Un(e,n=globalThis?.document){const t=me(e),r=c.useRef(!1),o=c.useRef(()=>{});return c.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let k=function(){Ot(zn,t,x,{discrete:!0})};const x={originalEvent:a};a.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=k,n.addEventListener("click",o.current,{once:!0})):k()}else n.removeEventListener("click",o.current);r.current=!1},f=window.setTimeout(()=>{n.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(f),n.removeEventListener("pointerdown",i),n.removeEventListener("click",o.current)}},[n,t]),{onPointerDownCapture:()=>r.current=!0}}function Hn(e,n=globalThis?.document){const t=me(e),r=c.useRef(!1);return c.useEffect(()=>{const o=i=>{i.target&&!r.current&&Ot(In,t,{originalEvent:i},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rt(){const e=new CustomEvent(Ue);document.dispatchEvent(e)}function Ot(e,n,t,{discrete:r}){const o=t.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:t});n&&o.addEventListener(e,n,{once:!0}),r?jn(o,i):o.dispatchEvent(i)}var Te="focusScope.autoFocusOnMount",Le="focusScope.autoFocusOnUnmount",at={bubbles:!1,cancelable:!0},Kn="FocusScope",Rt=c.forwardRef((e,n)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...f}=e,[a,k]=c.useState(null),x=me(o),w=me(i),y=c.useRef(null),S=fe(n,p=>k(p)),j=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let p=function(u){if(j.paused||!a)return;const g=u.target;a.contains(g)?y.current=g:ie(y.current,{select:!0})},E=function(u){if(j.paused||!a)return;const g=u.relatedTarget;g!==null&&(a.contains(g)||ie(y.current,{select:!0}))},F=function(u){if(document.activeElement===document.body)for(const h of u)h.removedNodes.length>0&&ie(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",E);const l=new MutationObserver(F);return a&&l.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",E),l.disconnect()}}},[r,a,j.paused]),c.useEffect(()=>{if(a){st.add(j);const p=document.activeElement;if(!a.contains(p)){const F=new CustomEvent(Te,at);a.addEventListener(Te,x),a.dispatchEvent(F),F.defaultPrevented||(Gn(Vn(Nt(a)),{select:!0}),document.activeElement===p&&ie(a))}return()=>{a.removeEventListener(Te,x),setTimeout(()=>{const F=new CustomEvent(Le,at);a.addEventListener(Le,w),a.dispatchEvent(F),F.defaultPrevented||ie(p??document.body,{select:!0}),a.removeEventListener(Le,w),st.remove(j)},0)}}},[a,x,w,j]);const N=c.useCallback(p=>{if(!t&&!r||j.paused)return;const E=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,F=document.activeElement;if(E&&F){const l=p.currentTarget,[u,g]=Yn(l);u&&g?!p.shiftKey&&F===g?(p.preventDefault(),t&&ie(u,{select:!0})):p.shiftKey&&F===u&&(p.preventDefault(),t&&ie(g,{select:!0})):F===l&&p.preventDefault()}},[t,r,j.paused]);return s.jsx(se.div,{tabIndex:-1,...f,ref:S,onKeyDown:N})});Rt.displayName=Kn;function Gn(e,{select:n=!1}={}){const t=document.activeElement;for(const r of e)if(ie(r,{select:n}),document.activeElement!==t)return}function Yn(e){const n=Nt(e),t=ot(n,e),r=ot(n.reverse(),e);return[t,r]}function Nt(e){const n=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)n.push(t.currentNode);return n}function ot(e,n){for(const t of e)if(!Zn(t,{upTo:n}))return t}function Zn(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function qn(e){return e instanceof HTMLInputElement&&"select"in e}function ie(e,{select:n=!1}={}){if(e&&e.focus){const t=document.activeElement;e.focus({preventScroll:!0}),e!==t&&qn(e)&&n&&e.select()}}var st=Xn();function Xn(){let e=[];return{add(n){const t=e[0];n!==t&&t?.pause(),e=it(e,n),e.unshift(n)},remove(n){e=it(e,n),e[0]?.resume()}}}function it(e,n){const t=[...e],r=t.indexOf(n);return r!==-1&&t.splice(r,1),t}function Vn(e){return e.filter(n=>n.tagName!=="A")}var Jn="Portal",Tt=c.forwardRef((e,n)=>{const{container:t,...r}=e,[o,i]=c.useState(!1);We(()=>i(!0),[]);const f=t||o&&globalThis?.document?.body;return f?Ln.createPortal(s.jsx(se.div,{...r,ref:n}),f):null});Tt.displayName=Jn;var Me=0;function Qn(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??lt()),document.body.insertAdjacentElement("beforeend",e[1]??lt()),Me++,()=>{Me===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Me--}},[])}function lt(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oe=function(){return oe=Object.assign||function(n){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oe.apply(this,arguments)};function Lt(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]]);return t}function er(e,n,t){if(t||arguments.length===2)for(var r=0,o=n.length,i;r<o;r++)(i||!(r in n))&&(i||(i=Array.prototype.slice.call(n,0,r)),i[r]=n[r]);return e.concat(i||Array.prototype.slice.call(n))}var Pe="right-scroll-bar-position",_e="width-before-scroll-bar",tr="with-scroll-bars-hidden",nr="--removed-body-scroll-bar-size";function De(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function rr(e,n){var t=c.useState(function(){return{value:e,callback:n,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=n,t.facade}var ar=typeof window<"u"?c.useLayoutEffect:c.useEffect,ct=new WeakMap;function or(e,n){var t=rr(null,function(r){return e.forEach(function(o){return De(o,r)})});return ar(function(){var r=ct.get(t);if(r){var o=new Set(r),i=new Set(e),f=t.current;o.forEach(function(a){i.has(a)||De(a,null)}),i.forEach(function(a){o.has(a)||De(a,f)})}ct.set(t,e)},[e]),t}function sr(e){return e}function ir(e,n){n===void 0&&(n=sr);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:e},useMedium:function(i){var f=n(i,r);return t.push(f),function(){t=t.filter(function(a){return a!==f})}},assignSyncMedium:function(i){for(r=!0;t.length;){var f=t;t=[],f.forEach(i)}t={push:function(a){return i(a)},filter:function(){return t}}},assignMedium:function(i){r=!0;var f=[];if(t.length){var a=t;t=[],a.forEach(i),f=t}var k=function(){var w=f;f=[],w.forEach(i)},x=function(){return Promise.resolve().then(k)};x(),t={push:function(w){f.push(w),x()},filter:function(w){return f=f.filter(w),t}}}};return o}function lr(e){e===void 0&&(e={});var n=ir(null);return n.options=oe({async:!0,ssr:!1},e),n}var Mt=function(e){var n=e.sideCar,t=Lt(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=n.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,oe({},t))};Mt.isSideCarExport=!0;function cr(e,n){return e.useMedium(n),Mt}var Dt=lr(),$e=function(){},Oe=c.forwardRef(function(e,n){var t=c.useRef(null),r=c.useState({onScrollCapture:$e,onWheelCapture:$e,onTouchMoveCapture:$e}),o=r[0],i=r[1],f=e.forwardProps,a=e.children,k=e.className,x=e.removeScrollBar,w=e.enabled,y=e.shards,S=e.sideCar,j=e.noRelative,N=e.noIsolation,p=e.inert,E=e.allowPinchZoom,F=e.as,l=F===void 0?"div":F,u=e.gapMode,g=Lt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),h=S,m=or([t,n]),b=oe(oe({},g),o);return c.createElement(c.Fragment,null,w&&c.createElement(h,{sideCar:Dt,removeScrollBar:x,shards:y,noRelative:j,noIsolation:N,inert:p,setCallbacks:i,allowPinchZoom:!!E,lockRef:t,gapMode:u}),f?c.cloneElement(c.Children.only(a),oe(oe({},b),{ref:m})):c.createElement(l,oe({},b,{className:k,ref:m}),a))});Oe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Oe.classNames={fullWidth:_e,zeroRight:Pe};var ur=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=ur();return n&&e.setAttribute("nonce",n),e}function fr(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function pr(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var hr=function(){var e=0,n=null;return{add:function(t){e==0&&(n=dr())&&(fr(n,t),pr(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},gr=function(){var e=hr();return function(n,t){c.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&t])}},$t=function(){var e=gr(),n=function(t){var r=t.styles,o=t.dynamic;return e(r,o),null};return n},vr={left:0,top:0,right:0,gap:0},ze=function(e){return parseInt(e||"",10)||0},mr=function(e){var n=window.getComputedStyle(document.body),t=n[e==="padding"?"paddingLeft":"marginLeft"],r=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[ze(t),ze(r),ze(o)]},br=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vr;var n=mr(e),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,r-t+n[2]-n[0])}},yr=$t(),ve="data-scroll-locked",xr=function(e,n,t,r){var o=e.left,i=e.top,f=e.right,a=e.gap;return t===void 0&&(t="margin"),`
  .`.concat(tr,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ve,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pe,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_e,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pe," .").concat(Pe,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_e," .").concat(_e,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ve,`] {
    `).concat(nr,": ").concat(a,`px;
  }
`)},ut=function(){var e=parseInt(document.body.getAttribute(ve)||"0",10);return isFinite(e)?e:0},wr=function(){c.useEffect(function(){return document.body.setAttribute(ve,(ut()+1).toString()),function(){var e=ut()-1;e<=0?document.body.removeAttribute(ve):document.body.setAttribute(ve,e.toString())}},[])},Er=function(e){var n=e.noRelative,t=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;wr();var i=c.useMemo(function(){return br(o)},[o]);return c.createElement(yr,{styles:xr(i,!n,o,t?"":"!important")})},He=!1;if(typeof window<"u")try{var Ee=Object.defineProperty({},"passive",{get:function(){return He=!0,!0}});window.addEventListener("test",Ee,Ee),window.removeEventListener("test",Ee,Ee)}catch{He=!1}var pe=He?{passive:!1}:!1,kr=function(e){return e.tagName==="TEXTAREA"},zt=function(e,n){if(!(e instanceof Element))return!1;var t=window.getComputedStyle(e);return t[n]!=="hidden"&&!(t.overflowY===t.overflowX&&!kr(e)&&t[n]==="visible")},Sr=function(e){return zt(e,"overflowY")},Cr=function(e){return zt(e,"overflowX")},dt=function(e,n){var t=n.ownerDocument,r=n;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=It(e,r);if(o){var i=Bt(e,r),f=i[1],a=i[2];if(f>a)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Ar=function(e){var n=e.scrollTop,t=e.scrollHeight,r=e.clientHeight;return[n,t,r]},Fr=function(e){var n=e.scrollLeft,t=e.scrollWidth,r=e.clientWidth;return[n,t,r]},It=function(e,n){return e==="v"?Sr(n):Cr(n)},Bt=function(e,n){return e==="v"?Ar(n):Fr(n)},Pr=function(e,n){return e==="h"&&n==="rtl"?-1:1},_r=function(e,n,t,r,o){var i=Pr(e,window.getComputedStyle(n).direction),f=i*r,a=t.target,k=n.contains(a),x=!1,w=f>0,y=0,S=0;do{if(!a)break;var j=Bt(e,a),N=j[0],p=j[1],E=j[2],F=p-E-i*N;(N||F)&&It(e,a)&&(y+=F,S+=N);var l=a.parentNode;a=l&&l.nodeType===Node.DOCUMENT_FRAGMENT_NODE?l.host:l}while(!k&&a!==document.body||k&&(n.contains(a)||n===a));return(w&&Math.abs(y)<1||!w&&Math.abs(S)<1)&&(x=!0),x},ke=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ft=function(e){return[e.deltaX,e.deltaY]},pt=function(e){return e&&"current"in e?e.current:e},jr=function(e,n){return e[0]===n[0]&&e[1]===n[1]},Or=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Rr=0,he=[];function Nr(e){var n=c.useRef([]),t=c.useRef([0,0]),r=c.useRef(),o=c.useState(Rr++)[0],i=c.useState($t)[0],f=c.useRef(e);c.useEffect(function(){f.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=er([e.lockRef.current],(e.shards||[]).map(pt),!0).filter(Boolean);return p.forEach(function(E){return E.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var a=c.useCallback(function(p,E){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!f.current.allowPinchZoom;var F=ke(p),l=t.current,u="deltaX"in p?p.deltaX:l[0]-F[0],g="deltaY"in p?p.deltaY:l[1]-F[1],h,m=p.target,b=Math.abs(u)>Math.abs(g)?"h":"v";if("touches"in p&&b==="h"&&m.type==="range")return!1;var R=dt(b,m);if(!R)return!0;if(R?h=b:(h=b==="v"?"h":"v",R=dt(b,m)),!R)return!1;if(!r.current&&"changedTouches"in p&&(u||g)&&(r.current=h),!h)return!0;var A=r.current||h;return _r(A,E,p,A==="h"?u:g)},[]),k=c.useCallback(function(p){var E=p;if(!(!he.length||he[he.length-1]!==i)){var F="deltaY"in E?ft(E):ke(E),l=n.current.filter(function(h){return h.name===E.type&&(h.target===E.target||E.target===h.shadowParent)&&jr(h.delta,F)})[0];if(l&&l.should){E.cancelable&&E.preventDefault();return}if(!l){var u=(f.current.shards||[]).map(pt).filter(Boolean).filter(function(h){return h.contains(E.target)}),g=u.length>0?a(E,u[0]):!f.current.noIsolation;g&&E.cancelable&&E.preventDefault()}}},[]),x=c.useCallback(function(p,E,F,l){var u={name:p,delta:E,target:F,should:l,shadowParent:Tr(F)};n.current.push(u),setTimeout(function(){n.current=n.current.filter(function(g){return g!==u})},1)},[]),w=c.useCallback(function(p){t.current=ke(p),r.current=void 0},[]),y=c.useCallback(function(p){x(p.type,ft(p),p.target,a(p,e.lockRef.current))},[]),S=c.useCallback(function(p){x(p.type,ke(p),p.target,a(p,e.lockRef.current))},[]);c.useEffect(function(){return he.push(i),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:S}),document.addEventListener("wheel",k,pe),document.addEventListener("touchmove",k,pe),document.addEventListener("touchstart",w,pe),function(){he=he.filter(function(p){return p!==i}),document.removeEventListener("wheel",k,pe),document.removeEventListener("touchmove",k,pe),document.removeEventListener("touchstart",w,pe)}},[]);var j=e.removeScrollBar,N=e.inert;return c.createElement(c.Fragment,null,N?c.createElement(i,{styles:Or(o)}):null,j?c.createElement(Er,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Tr(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const Lr=cr(Dt,Nr);var Wt=c.forwardRef(function(e,n){return c.createElement(Oe,oe({},e,{ref:n,sideCar:Lr}))});Wt.classNames=Oe.classNames;var Mr=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},ge=new WeakMap,Se=new WeakMap,Ce={},Ie=0,Ut=function(e){return e&&(e.host||Ut(e.parentNode))},Dr=function(e,n){return n.map(function(t){if(e.contains(t))return t;var r=Ut(t);return r&&e.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},$r=function(e,n,t,r){var o=Dr(n,Array.isArray(e)?e:[e]);Ce[t]||(Ce[t]=new WeakMap);var i=Ce[t],f=[],a=new Set,k=new Set(o),x=function(y){!y||a.has(y)||(a.add(y),x(y.parentNode))};o.forEach(x);var w=function(y){!y||k.has(y)||Array.prototype.forEach.call(y.children,function(S){if(a.has(S))w(S);else try{var j=S.getAttribute(r),N=j!==null&&j!=="false",p=(ge.get(S)||0)+1,E=(i.get(S)||0)+1;ge.set(S,p),i.set(S,E),f.push(S),p===1&&N&&Se.set(S,!0),E===1&&S.setAttribute(t,"true"),N||S.setAttribute(r,"true")}catch(F){console.error("aria-hidden: cannot operate on ",S,F)}})};return w(n),a.clear(),Ie++,function(){f.forEach(function(y){var S=ge.get(y)-1,j=i.get(y)-1;ge.set(y,S),i.set(y,j),S||(Se.has(y)||y.removeAttribute(r),Se.delete(y)),j||y.removeAttribute(t)}),Ie--,Ie||(ge=new WeakMap,ge=new WeakMap,Se=new WeakMap,Ce={})}},zr=function(e,n,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Mr(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),$r(r,o,t,"aria-hidden")):function(){return null}},Ir="Arrow",Ht=c.forwardRef((e,n)=>{const{children:t,width:r=10,height:o=5,...i}=e;return s.jsx(se.svg,{...i,ref:n,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?t:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ht.displayName=Ir;var Br=Ht,Ge="Popper",[Kt,Gt]=Pt(Ge),[Wr,Yt]=Kt(Ge),Zt=e=>{const{__scopePopper:n,children:t}=e,[r,o]=c.useState(null);return s.jsx(Wr,{scope:n,anchor:r,onAnchorChange:o,children:t})};Zt.displayName=Ge;var qt="PopperAnchor",Xt=c.forwardRef((e,n)=>{const{__scopePopper:t,virtualRef:r,...o}=e,i=Yt(qt,t),f=c.useRef(null),a=fe(n,f),k=c.useRef(null);return c.useEffect(()=>{const x=k.current;k.current=r?.current||f.current,x!==k.current&&i.onAnchorChange(k.current)}),r?null:s.jsx(se.div,{...o,ref:a})});Xt.displayName=qt;var Ye="PopperContent",[Ur,Hr]=Kt(Ye),Vt=c.forwardRef((e,n)=>{const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:f=0,arrowPadding:a=0,avoidCollisions:k=!0,collisionBoundary:x=[],collisionPadding:w=0,sticky:y="partial",hideWhenDetached:S=!1,updatePositionStrategy:j="optimized",onPlaced:N,...p}=e,E=Yt(Ye,t),[F,l]=c.useState(null),u=fe(n,Z=>l(Z)),[g,h]=c.useState(null),m=Tn(g),b=m?.width??0,R=m?.height??0,A=r+(i!=="center"?"-"+i:""),P=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},O=Array.isArray(x)?x:[x],v=O.length>0,d={padding:P,boundary:O.filter(Gr),altBoundary:v},{refs:_,floatingStyles:D,placement:$,isPositioned:X,middlewareData:B}=yn({strategy:"fixed",placement:A,whileElementsMounted:(...Z)=>kt(...Z,{animationFrame:j==="always"}),elements:{reference:E.anchor},middleware:[xt({mainAxis:o+R,alignmentAxis:f}),k&&wt({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?kn():void 0,...d}),k&&Et({...d}),xn({...d,apply:({elements:Z,rects:Q,availableWidth:ne,availableHeight:re})=>{const{width:C,height:M}=Q.reference,T=Z.floating.style;T.setProperty("--radix-popper-available-width",`${ne}px`),T.setProperty("--radix-popper-available-height",`${re}px`),T.setProperty("--radix-popper-anchor-width",`${C}px`),T.setProperty("--radix-popper-anchor-height",`${M}px`)}}),g&&wn({element:g,padding:a}),Yr({arrowWidth:b,arrowHeight:R}),S&&En({strategy:"referenceHidden",...d})]}),[K,z]=en($),L=me(N);We(()=>{X&&L?.()},[X,L]);const I=B.arrow?.x,U=B.arrow?.y,G=B.arrow?.centerOffset!==0,[V,J]=c.useState();return We(()=>{F&&J(window.getComputedStyle(F).zIndex)},[F]),s.jsx("div",{ref:_.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:X?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:V,"--radix-popper-transform-origin":[B.transformOrigin?.x,B.transformOrigin?.y].join(" "),...B.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Ur,{scope:t,placedSide:K,onArrowChange:h,arrowX:I,arrowY:U,shouldHideArrow:G,children:s.jsx(se.div,{"data-side":K,"data-align":z,...p,ref:u,style:{...p.style,animation:X?void 0:"none"}})})})});Vt.displayName=Ye;var Jt="PopperArrow",Kr={top:"bottom",right:"left",bottom:"top",left:"right"},Qt=c.forwardRef(function(n,t){const{__scopePopper:r,...o}=n,i=Hr(Jt,r),f=Kr[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Br,{...o,ref:t,style:{...o.style,display:"block"}})})});Qt.displayName=Jt;function Gr(e){return e!==null}var Yr=e=>({name:"transformOrigin",options:e,fn(n){const{placement:t,rects:r,middlewareData:o}=n,f=o.arrow?.centerOffset!==0,a=f?0:e.arrowWidth,k=f?0:e.arrowHeight,[x,w]=en(t),y={start:"0%",center:"50%",end:"100%"}[w],S=(o.arrow?.x??0)+a/2,j=(o.arrow?.y??0)+k/2;let N="",p="";return x==="bottom"?(N=f?y:`${S}px`,p=`${-k}px`):x==="top"?(N=f?y:`${S}px`,p=`${r.floating.height+k}px`):x==="right"?(N=`${-k}px`,p=f?y:`${j}px`):x==="left"&&(N=`${r.floating.width+k}px`,p=f?y:`${j}px`),{data:{x:N,y:p}}}});function en(e){const[n,t="center"]=e.split("-");return[n,t]}var Zr=Zt,tn=Xt,qr=Vt,Xr=Qt,Re="Popover",[nn]=Pt(Re,[Gt]),xe=Gt(),[Vr,ce]=nn(Re),rn=e=>{const{__scopePopover:n,children:t,open:r,defaultOpen:o,onOpenChange:i,modal:f=!1}=e,a=xe(n),k=c.useRef(null),[x,w]=c.useState(!1),[y,S]=On({prop:r,defaultProp:o??!1,onChange:i,caller:Re});return s.jsx(Zr,{...a,children:s.jsx(Vr,{scope:n,contentId:Nn(),triggerRef:k,open:y,onOpenChange:S,onOpenToggle:c.useCallback(()=>S(j=>!j),[S]),hasCustomAnchor:x,onCustomAnchorAdd:c.useCallback(()=>w(!0),[]),onCustomAnchorRemove:c.useCallback(()=>w(!1),[]),modal:f,children:t})})};rn.displayName=Re;var an="PopoverAnchor",Jr=c.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=ce(an,t),i=xe(t),{onCustomAnchorAdd:f,onCustomAnchorRemove:a}=o;return c.useEffect(()=>(f(),()=>a()),[f,a]),s.jsx(tn,{...i,...r,ref:n})});Jr.displayName=an;var on="PopoverTrigger",sn=c.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=ce(on,t),i=xe(t),f=fe(n,o.triggerRef),a=s.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":fn(o.open),...r,ref:f,onClick:le(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?a:s.jsx(tn,{asChild:!0,...i,children:a})});sn.displayName=on;var Ze="PopoverPortal",[Qr,ea]=nn(Ze,{forceMount:void 0}),ln=e=>{const{__scopePopover:n,forceMount:t,children:r,container:o}=e,i=ce(Ze,n);return s.jsx(Qr,{scope:n,forceMount:t,children:s.jsx(Ft,{present:t||i.open,children:s.jsx(Tt,{asChild:!0,container:o,children:r})})})};ln.displayName=Ze;var be="PopoverContent",cn=c.forwardRef((e,n)=>{const t=ea(be,e.__scopePopover),{forceMount:r=t.forceMount,...o}=e,i=ce(be,e.__scopePopover);return s.jsx(Ft,{present:r||i.open,children:i.modal?s.jsx(na,{...o,ref:n}):s.jsx(ra,{...o,ref:n})})});cn.displayName=be;var ta=Rn("PopoverContent.RemoveScroll"),na=c.forwardRef((e,n)=>{const t=ce(be,e.__scopePopover),r=c.useRef(null),o=fe(n,r),i=c.useRef(!1);return c.useEffect(()=>{const f=r.current;if(f)return zr(f)},[]),s.jsx(Wt,{as:ta,allowPinchZoom:!0,children:s.jsx(un,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(e.onCloseAutoFocus,f=>{f.preventDefault(),i.current||t.triggerRef.current?.focus()}),onPointerDownOutside:le(e.onPointerDownOutside,f=>{const a=f.detail.originalEvent,k=a.button===0&&a.ctrlKey===!0,x=a.button===2||k;i.current=x},{checkForDefaultPrevented:!1}),onFocusOutside:le(e.onFocusOutside,f=>f.preventDefault(),{checkForDefaultPrevented:!1})})})}),ra=c.forwardRef((e,n)=>{const t=ce(be,e.__scopePopover),r=c.useRef(!1),o=c.useRef(!1);return s.jsx(un,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||t.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const f=i.target;t.triggerRef.current?.contains(f)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),un=c.forwardRef((e,n)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:f,onEscapeKeyDown:a,onPointerDownOutside:k,onFocusOutside:x,onInteractOutside:w,...y}=e,S=ce(be,t),j=xe(t);return Qn(),s.jsx(Rt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:s.jsx(jt,{asChild:!0,disableOutsidePointerEvents:f,onInteractOutside:w,onEscapeKeyDown:a,onPointerDownOutside:k,onFocusOutside:x,onDismiss:()=>S.onOpenChange(!1),children:s.jsx(qr,{"data-state":fn(S.open),role:"dialog",id:S.contentId,...j,...y,ref:n,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dn="PopoverClose",aa=c.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=ce(dn,t);return s.jsx(se.button,{type:"button",...r,ref:n,onClick:le(e.onClick,()=>o.onOpenChange(!1))})});aa.displayName=dn;var oa="PopoverArrow",sa=c.forwardRef((e,n)=>{const{__scopePopover:t,...r}=e,o=xe(t);return s.jsx(Xr,{...o,...r,ref:n})});sa.displayName=oa;function fn(e){return e?"open":"closed"}var ia=rn,la=sn,ca=ln,ua=cn;const da=({virtualScreenSize:e,className:n="",interval:t=10})=>{const[r,o]=c.useState({width:0,height:0});c.useEffect(()=>{r.width===0&&r.height===0&&o(e)},[e,r]);const i=k=>{const x=[],w=Math.floor(k/t);for(let y=1;y<=t;y++){const S=(y-1)*w;x.push({key:y,position:S,percentage:y*t})}return x},f=c.useMemo(()=>({width:i(e.width),height:i(e.height)}),[e.width,e.height,t]),a=(k,x)=>k.map(({key:w,position:y,percentage:S})=>s.jsx(Fe.div,{className:`absolute text-[10px] font-mono text-slate-400 dark:text-slate-500 ${x?"top-10":"left-0"}`,initial:!1,animate:x?{top:`${S}%`}:{left:`${S}%`},transition:{duration:.3,ease:"easeOut"},style:x?{transform:"translateY(-50%)"}:{transform:"translateX(-50%)"},children:s.jsx(Ae,{value:y,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0,useGrouping:!1}})},w));return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`fixed top-10 left-0 right-0 h-6 backdrop-blur-lg pointer-events-none z-40 ${n}`,children:[a(f.width,!1),s.jsxs(Fe.div,{className:"absolute right-8 top-4 text-[10px] font-mono text-slate-400 dark:text-slate-500",initial:!1,transition:{duration:.3,ease:"easeOut"},children:["W:"," ",s.jsx(Ae,{value:e.width,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0,useGrouping:!1}}),"px"]})]}),s.jsx("div",{className:`fixed bottom-8 left-0 right-0 h-6 backdrop-blur-lg pointer-events-none z-40 ${n}`,children:a(f.width,!1)}),s.jsxs("div",{className:`fixed top-10 bottom-8 left-1 w-6 backdrop-blur-lg pointer-events-none z-40 ${n}`,children:[a(f.height,!0),s.jsxs(Fe.div,{className:"absolute bottom-8 left-8 w-20 border-red-500 text-[10px] font-mono text-slate-400 dark:text-slate-500",initial:!1,transition:{duration:.3,ease:"easeOut"},children:["H:"," ",s.jsx(Ae,{value:e.height,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0,useGrouping:!1}}),"px"]})]}),s.jsx("div",{className:`fixed top-10 bottom-8 right-0 w-6 backdrop-blur-lg pointer-events-none z-40 ${n}`,children:a(f.height,!0)})]})},fa=({initialZoom:e=100,minZoom:n=25,maxZoom:t=100,stepSize:r=10,onZoomChange:o})=>{const[i,f]=c.useState(e);c.useEffect(()=>{f(e)},[e]),c.useEffect(()=>{o?.(i)},[i,o]);const a=()=>{f(y=>Math.min(y+r,t))},k=()=>{f(y=>Math.max(y-r,n))},x=y=>{f(Number(y.target.value))},w=()=>{f(100)};return s.jsxs("div",{className:"fixed bottom-22 left-8 z-50",children:[s.jsx(yt,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ae,{variant:"secondary",size:"sm",onClick:k,disabled:i<=n,outline:!0,className:"p-1.5 min-w-[32px] h-8 flex items-center justify-center","aria-label":"Zoom out",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),s.jsxs("div",{className:"flex flex-col items-center gap-1 min-w-[120px]",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-xs text-slate-400 dark:text-slate-500 font-mono",children:[s.jsx(Ae,{value:i,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0,useGrouping:!1}}),"%"]}),i!==100&&s.jsx(St,{content:"Reset to 100%",children:s.jsx(ae,{variant:"secondary",size:"sm",onClick:w,outline:!0,className:"p-1 min-w-[24px] h-6 flex items-center justify-center","aria-label":"Reset to 100%",children:s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})})]}),s.jsx("input",{type:"range",min:n,max:t,value:i,onChange:x,className:"w-full h-1.5 bg-slate-700/50 dark:bg-slate-300/30 rounded-lg appearance-none cursor-pointer slider",style:{background:`linear-gradient(to right, rgb(59 130 246) 0%, rgb(59 130 246) ${(i-n)/(t-n)*100}%, rgb(51 65 85 / 0.5) ${(i-n)/(t-n)*100}%, rgb(51 65 85 / 0.5) 100%)`}})]}),s.jsx(ae,{variant:"secondary",size:"sm",onClick:a,disabled:i>=t,outline:!0,className:"p-1.5 min-w-[32px] h-8 flex items-center justify-center","aria-label":"Zoom in",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})}),s.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .slider::-webkit-slider-thumb {
          appearance: none;
          width: 14px;
          height: 14px;
          border-radius: 50%;
          background: rgb(59 130 246);
          cursor: pointer;
          border: 2px solid rgb(30 41 59);
          box-shadow: 0 0 4px rgba(59, 130, 246, 0.5);
        }

        .slider::-moz-range-thumb {
          width: 14px;
          height: 14px;
          border-radius: 50%;
          background: rgb(59 130 246);
          cursor: pointer;
          border: 2px solid rgb(30 41 59);
          box-shadow: 0 0 4px rgba(59, 130, 246, 0.5);
        }
      `}})]})},pa=({projectName:e,isOpen:n,onConfirm:t,onCancel:r})=>n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black/50 backdrop-blur-sm z-100",onClick:r}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 inset-0 z-101 flex items-center justify-center",children:s.jsxs(Ct,{title:"Leave Galaxy?",titleCenter:!0,children:[s.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6 text-lg",children:["You are about to leave the ",s.jsxs("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:['"',e,'"']})," galaxy to go to ",s.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"'Ara All Stars'"}),"."]}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx(ae,{variant:"secondary",onClick:r,size:"md",children:"No"}),s.jsx(ae,{variant:"primary",onClick:t,size:"md",children:"Yes"})]})]})})]}):null,ha=({className:e="",projectId:n})=>{const t=n?`/all-stars?galaxy=${n}`:"/all-stars";return s.jsx("div",{className:`fixed bottom-36 left-8 z-50 ${e}`,children:s.jsx(St,{content:s.jsx(Ct,{title:"Go to 'All Stars', page with all galaxies",icon:"info",className:"flex items-center gap-2 text-sm bg-transparent dark:bg-transparent border-none dark:border-none",children:s.jsx("span",{children:"Also, zooming to the minimum viewport in zoom controller will open the 'All Stars' page."})}),children:s.jsx(Fn,{uri:t,children:s.jsx(yt,{className:At("p-3 transition-all duration-300","!backdrop-blur-none hover:!backdrop-blur-lg"),children:s.jsxs("div",{className:"flex items-center gap-2 text-slate-400 dark:text-slate-500",children:[An({iconType:"ara",className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-mono",children:"All Stars"})]})})})})})},[ga,va]=Pn("PopoverContext");function ma(e){const[n,t]=_n({value:e?.open,defaultValue:e?.defaultOpen,onChange:e?.onOpenChange});return s.jsx(ga,{value:{isOpen:n,setIsOpen:t},children:s.jsx(ia,{"data-slot":"popover",...e,onOpenChange:t})})}function ba(e){return s.jsx(la,{"data-slot":"popover-trigger",...e})}function ya(e){const{isOpen:n}=va();return s.jsx(Mn,{children:n&&s.jsx(ca,{forceMount:!0,"data-slot":"popover-portal",...e})})}function xa({onOpenAutoFocus:e,onCloseAutoFocus:n,onEscapeKeyDown:t,onPointerDownOutside:r,onFocusOutside:o,onInteractOutside:i,align:f,alignOffset:a,side:k,sideOffset:x,avoidCollisions:w,collisionBoundary:y,collisionPadding:S,arrowPadding:j,sticky:N,hideWhenDetached:p,transition:E={type:"spring",stiffness:300,damping:25},...F}){return s.jsx(ua,{asChild:!0,forceMount:!0,align:f,alignOffset:a,side:k,sideOffset:x,avoidCollisions:w,collisionBoundary:y,collisionPadding:S,arrowPadding:j,sticky:N,hideWhenDetached:p,onOpenAutoFocus:e,onCloseAutoFocus:n,onEscapeKeyDown:t,onPointerDownOutside:r,onInteractOutside:i,onFocusOutside:o,children:s.jsx(Fe.div,{"data-slot":"popover-content",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:E,...F},"popover-content")})}function wa(e){return s.jsx(ma,{...e})}function Ea(e){return s.jsx(ba,{...e})}function ka({className:e,align:n="center",sideOffset:t=4,...r}){return s.jsx(ya,{children:s.jsx(xa,{align:n,sideOffset:t,className:At("bg-popover text-popover-foreground z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}async function pn(e){try{const t=(await Ke.getSession())?.data?.user;if(!t?.id)return[];const r=await je.getPersonalizations({context:e,userId:t.id});return r.data?.success&&r.data.data?r.data.data:[]}catch(n){return console.error("Error getting personalizations:",n),[]}}async function hn(e,n,t){try{const o=(await Ke.getSession())?.data?.user;if(!o?.id)return{success:!1,error:"User not logged in"};const i=await je.generatePersonalizationCode({prompt:e,context:n,componentStructure:t,userId:o.id});return i.data?.success&&i.data.code?{success:!0,code:i.data.code,uris:i.data.uris||[]}:{success:!1,error:i.data?.error||"Failed to generate code"}}catch(r){return console.error("Error generating code:",r),{success:!1,error:"An error occurred"}}}async function Sa(e,n,t,r,o){try{const f=(await Ke.getSession())?.data?.user;if(!f?.id)return{success:!1,error:"User not logged in"};const a=await je.savePersonalization({context:e,code:n,prompt:t,uris:r,userId:f.id,personalizationId:o});return a.data?.success?{success:!0}:{success:!1,error:a.data?.error||"Failed to save"}}catch(i){return console.error("Error saving personalization:",i),{success:!1,error:"An error occurred"}}}async function Ca(e){try{return(await je.deletePersonalization({personalizationId:e})).data?.success||!1}catch(n){return console.error("Error deleting personalization:",n),!1}}const ht=[{name:"GalaxyZoomControls",description:"Zoom controls for the galaxy view"},{name:"GalacticMeasurements",description:"Measurements and grid display"},{name:"GalaxyNavigationDialog",description:"Navigation dialog when zoomed out"},{name:"AllStarsLink",description:"Link to all stars page"}],Aa=({onTestModeChange:e,onCodeGenerated:n,onLoadPersonalization:t,onClose:r})=>{const[o,i]=c.useState(""),[f,a]=c.useState(!1),[k,x]=c.useState([]),[w,y]=c.useState(null);c.useEffect(()=>{S()},[]);const S=async()=>{const p=await pn("GalaxyLayoutBody");x(p)},j=async()=>{if(o.trim()){a(!0),y(null);try{const p=ht.map(F=>F.name),E=await hn(o,"GalaxyLayoutBody",p);E.success&&E.code?(n?.(E.code,o,E.uris),e?.(!0),i("")):y(E.error||"Failed to generate code")}catch(p){y("An error occurred"),console.error(p)}finally{a(!1)}}},N=async p=>{await Ca(p)&&S()};return s.jsxs("div",{className:"p-6 space-y-6 relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/5 to-pink-500/10 rounded-lg pointer-events-none"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent mb-6",children:"Galaxy Layout Settings"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold mb-3 text-blue-300 dark:text-blue-400",children:"Available Elements:"}),s.jsx("div",{className:"space-y-2",children:ht.map(p=>s.jsxs("div",{className:"text-xs p-3 backdrop-blur-sm bg-white/10 dark:bg-slate-800/30 rounded-lg border border-blue-500/20 dark:border-blue-400/20 hover:bg-white/20 dark:hover:bg-slate-800/40 transition-all",children:[s.jsx("div",{className:"font-mono font-semibold text-blue-200 dark:text-blue-300",children:p.name}),s.jsx("div",{className:"text-slate-300 dark:text-slate-400 mt-1",children:p.description})]},p.name))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold mb-3 text-blue-300 dark:text-blue-400",children:"Customize with AI:"}),s.jsx("textarea",{value:o,onChange:p=>i(p.target.value),placeholder:"e.g., set zoom at 50% by default, but if I see the 'Ara App' project, then set the zoom at 10%",className:"w-full p-3 border border-blue-500/30 dark:border-blue-400/30 rounded-lg text-sm resize-none backdrop-blur-sm bg-white/10 dark:bg-slate-800/30 text-slate-200 dark:text-slate-300 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",rows:3}),s.jsx(ae,{onClick:j,disabled:!o.trim()||f,className:"mt-3 w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 border-none shadow-lg shadow-blue-500/30",children:f?"Generating...":"Generate Code"}),w&&s.jsx("div",{className:"mt-2 text-sm text-red-400 dark:text-red-300 bg-red-500/10 border border-red-500/30 rounded p-2",children:w})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold mb-3 text-blue-300 dark:text-blue-400",children:"History:"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:k.length===0?s.jsx("div",{className:"text-sm text-slate-400 dark:text-slate-500 text-center py-4",children:"No saved customizations"}):k.map(p=>s.jsxs("div",{className:"p-3 backdrop-blur-sm bg-white/10 dark:bg-slate-800/30 rounded-lg border border-blue-500/20 dark:border-blue-400/20 hover:bg-white/20 dark:hover:bg-slate-800/40 transition-all text-xs",children:[s.jsx("button",{onClick:()=>t?.(p),className:"font-semibold mb-1 text-blue-200 dark:text-blue-300 hover:text-blue-100 dark:hover:text-blue-200 cursor-pointer text-left w-full hover:underline transition-colors",children:p.prompt}),s.jsx("div",{className:"text-slate-300 dark:text-slate-400 mb-1",children:new Date(p.createdTime).toLocaleString()}),s.jsxs("div",{className:"text-slate-300 dark:text-slate-400 mb-2",children:["URIs: ",p.uris.join(", ")]}),s.jsx(ae,{onClick:()=>p._id&&N(p._id),variant:"secondary",size:"sm",className:"text-xs bg-red-500/20 hover:bg-red-500/30 border-red-500/30 text-red-300",children:"Delete"})]},p._id))})]})]})]})},Fa=({onTestModeChange:e,onCodeGenerated:n,onLoadPersonalization:t,buttonRef:r,isTestMode:o=!1})=>{const[i,f]=c.useState(!1),a=c.useRef(null),k=r||a,x=w=>{o&&!w||f(w)};return c.useEffect(()=>{o&&!i&&f(!0)},[o,i]),s.jsx("div",{className:`${o?"absolute":"fixed"} bottom-32 left-[300px] z-50`,children:s.jsxs(wa,{open:i,onOpenChange:x,children:[s.jsx(Ea,{asChild:!0,children:s.jsx("button",{ref:k,type:"button",className:`relative w-3 h-3 rounded-full bg-blue-600 dark:bg-blue-500 
                       flex items-center justify-center
                       shadow-lg hover:shadow-xl transition-shadow
                       border border-blue-400 dark:border-blue-300
                       cursor-pointer
                       animate-pulse`,"aria-label":"Galaxy Layout Settings",title:"Settings of the GalaxyLayoutBody",style:{boxShadow:"0 0 4px rgba(59, 130, 246, 0.5), 0 0 8px rgba(59, 130, 246, 0.3), 0 0 12px rgba(59, 130, 246, 0.2)"},children:s.jsx("svg",{className:"w-2 h-2 text-white pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})})})}),s.jsx(ka,{className:`w-96 max-h-[80vh] overflow-y-auto backdrop-blur-xl bg-white/20 dark:bg-slate-900/20 border border-blue-500/30 dark:border-blue-400/30 shadow-2xl shadow-blue-500/20 ${o?"pointer-events-auto":""}`,align:"start",onPointerDownOutside:w=>{o&&w.preventDefault()},onInteractOutside:w=>{o&&w.preventDefault()},onEscapeKeyDown:w=>{o&&w.preventDefault()},children:s.jsx(Aa,{onTestModeChange:e,onCodeGenerated:n,onLoadPersonalization:t,onClose:()=>{o||f(!1)}})})]})})};var te={},gt;function Pa(){if(gt)return te;gt=1;var e=te&&te.__extends||(function(){var P=function(O,v){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,_){d.__proto__=_}||function(d,_){for(var D in _)Object.prototype.hasOwnProperty.call(_,D)&&(d[D]=_[D])},P(O,v)};return function(O,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");P(O,v);function d(){this.constructor=O}O.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}})(),n=te&&te.__assign||function(){return n=Object.assign||function(P){for(var O,v=1,d=arguments.length;v<d;v++){O=arguments[v];for(var _ in O)Object.prototype.hasOwnProperty.call(O,_)&&(P[_]=O[_])}return P},n.apply(this,arguments)},t=te&&te.__createBinding||(Object.create?(function(P,O,v,d){d===void 0&&(d=v);var _=Object.getOwnPropertyDescriptor(O,v);(!_||("get"in _?!O.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return O[v]}}),Object.defineProperty(P,d,_)}):(function(P,O,v,d){d===void 0&&(d=v),P[d]=O[v]})),r=te&&te.__setModuleDefault||(Object.create?(function(P,O){Object.defineProperty(P,"default",{enumerable:!0,value:O})}):function(P,O){P.default=O}),o=te&&te.__importStar||function(P){if(P&&P.__esModule)return P;var O={};if(P!=null)for(var v in P)v!=="default"&&Object.prototype.hasOwnProperty.call(P,v)&&t(O,P,v);return r(O,P),O},i=te&&te.__rest||function(P,O){var v={};for(var d in P)Object.prototype.hasOwnProperty.call(P,d)&&O.indexOf(d)<0&&(v[d]=P[d]);if(P!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,d=Object.getOwnPropertySymbols(P);_<d.length;_++)O.indexOf(d[_])<0&&Object.prototype.propertyIsEnumerable.call(P,d[_])&&(v[d[_]]=P[d[_]]);return v};Object.defineProperty(te,"__esModule",{value:!0});var f=o(mn()),a=13,k=9,x=8,w=89,y=90,S=77,j=57,N=219,p=222,E=192,F=27,l=100,u=3e3,g=typeof window<"u"&&"navigator"in window&&/Win/i.test(navigator.platform),h=typeof window<"u"&&"navigator"in window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),m="npm__react-simple-code-editor__textarea",b=`
/**
 * Reset the text fill color so that placeholder is visible
 */
.`.concat(m,`:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .`).concat(m,` {
    color: transparent !important;
  }

  .`).concat(m,`::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`),R=(function(P){e(O,P);function O(){var v=P!==null&&P.apply(this,arguments)||this;return v.state={capture:!0},v._recordCurrentState=function(){var d=v._input;if(d){var _=d.value,D=d.selectionStart,$=d.selectionEnd;v._recordChange({value:_,selectionStart:D,selectionEnd:$})}},v._getLines=function(d,_){return d.substring(0,_).split(`
`)},v._recordChange=function(d,_){var D,$,X;_===void 0&&(_=!1);var B=v._history,K=B.stack,z=B.offset;if(K.length&&z>-1){v._history.stack=K.slice(0,z+1);var L=v._history.stack.length;if(L>l){var I=L-l;v._history.stack=K.slice(I,L),v._history.offset=Math.max(v._history.offset-I,0)}}var U=Date.now();if(_){var G=v._history.stack[v._history.offset];if(G&&U-G.timestamp<u){var V=/[^a-z0-9]([a-z0-9]+)$/i,J=(D=v._getLines(G.value,G.selectionStart).pop())===null||D===void 0?void 0:D.match(V),Z=($=v._getLines(d.value,d.selectionStart).pop())===null||$===void 0?void 0:$.match(V);if(J?.[1]&&(!((X=Z?.[1])===null||X===void 0)&&X.startsWith(J[1]))){v._history.stack[v._history.offset]=n(n({},d),{timestamp:U});return}}}v._history.stack.push(n(n({},d),{timestamp:U})),v._history.offset++},v._updateInput=function(d){var _=v._input;_&&(_.value=d.value,_.selectionStart=d.selectionStart,_.selectionEnd=d.selectionEnd,v.props.onValueChange(d.value))},v._applyEdits=function(d){var _=v._input,D=v._history.stack[v._history.offset];D&&_&&(v._history.stack[v._history.offset]=n(n({},D),{selectionStart:_.selectionStart,selectionEnd:_.selectionEnd})),v._recordChange(d),v._updateInput(d)},v._undoEdit=function(){var d=v._history,_=d.stack,D=d.offset,$=_[D-1];$&&(v._updateInput($),v._history.offset=Math.max(D-1,0))},v._redoEdit=function(){var d=v._history,_=d.stack,D=d.offset,$=_[D+1];$&&(v._updateInput($),v._history.offset=Math.min(D+1,_.length-1))},v._handleKeyDown=function(d){var _=v.props,D=_.tabSize,$=_.insertSpaces,X=_.ignoreTabKey,B=_.onKeyDown;if(!(B&&(B(d),d.defaultPrevented))){d.keyCode===F&&d.currentTarget.blur();var K=d.currentTarget,z=K.value,L=K.selectionStart,I=K.selectionEnd,U=($?" ":"	").repeat(D);if(d.keyCode===k&&!X&&v.state.capture)if(d.preventDefault(),d.shiftKey){var G=v._getLines(z,L),V=G.length-1,J=v._getLines(z,I).length-1,Z=z.split(`
`).map(function(ee,ue){return ue>=V&&ue<=J&&ee.startsWith(U)?ee.substring(U.length):ee}).join(`
`);if(z!==Z){var Q=G[V];v._applyEdits({value:Z,selectionStart:Q?.startsWith(U)?L-U.length:L,selectionEnd:I-(z.length-Z.length)})}}else if(L!==I){var G=v._getLines(z,L),ne=G.length-1,re=v._getLines(z,I).length-1,Q=G[ne];v._applyEdits({value:z.split(`
`).map(function(ye,de){return de>=ne&&de<=re?U+ye:ye}).join(`
`),selectionStart:Q&&/\S/.test(Q)?L+U.length:L,selectionEnd:I+U.length*(re-ne+1)})}else{var C=L+U.length;v._applyEdits({value:z.substring(0,L)+U+z.substring(I),selectionStart:C,selectionEnd:C})}else if(d.keyCode===x){var M=L!==I,T=z.substring(0,L);if(T.endsWith(U)&&!M){d.preventDefault();var C=L-U.length;v._applyEdits({value:z.substring(0,L-U.length)+z.substring(I),selectionStart:C,selectionEnd:C})}}else if(d.keyCode===a){if(L===I){var H=v._getLines(z,L).pop(),q=H?.match(/^\s+/);if(q?.[0]){d.preventDefault();var Y=`
`+q[0],C=L+Y.length;v._applyEdits({value:z.substring(0,L)+Y+z.substring(I),selectionStart:C,selectionEnd:C})}}}else if(d.keyCode===j||d.keyCode===N||d.keyCode===p||d.keyCode===E){var W=void 0;d.keyCode===j&&d.shiftKey?W=["(",")"]:d.keyCode===N?d.shiftKey?W=["{","}"]:W=["[","]"]:d.keyCode===p?d.shiftKey?W=['"','"']:W=["'","'"]:d.keyCode===E&&!d.shiftKey&&(W=["`","`"]),L!==I&&W&&(d.preventDefault(),v._applyEdits({value:z.substring(0,L)+W[0]+z.substring(L,I)+W[1]+z.substring(I),selectionStart:L,selectionEnd:I+2}))}else(h?d.metaKey&&d.keyCode===y:d.ctrlKey&&d.keyCode===y)&&!d.shiftKey&&!d.altKey?(d.preventDefault(),v._undoEdit()):(h?d.metaKey&&d.keyCode===y&&d.shiftKey:g?d.ctrlKey&&d.keyCode===w:d.ctrlKey&&d.keyCode===y&&d.shiftKey)&&!d.altKey?(d.preventDefault(),v._redoEdit()):d.keyCode===S&&d.ctrlKey&&(!h||d.shiftKey)&&(d.preventDefault(),v.setState(function(ee){return{capture:!ee.capture}}))}},v._handleChange=function(d){var _=d.currentTarget,D=_.value,$=_.selectionStart,X=_.selectionEnd;v._recordChange({value:D,selectionStart:$,selectionEnd:X},!0),v.props.onValueChange(D)},v._history={stack:[],offset:-1},v._input=null,v}return O.prototype.componentDidMount=function(){this._recordCurrentState()},Object.defineProperty(O.prototype,"session",{get:function(){return{history:this._history}},set:function(v){this._history=v.history},enumerable:!1,configurable:!0}),O.prototype.render=function(){var v=this,d=this.props,_=d.value,D=d.style,$=d.padding,X=d.highlight,B=d.textareaId,K=d.textareaClassName,z=d.autoFocus,L=d.disabled,I=d.form,U=d.maxLength,G=d.minLength,V=d.name,J=d.placeholder,Z=d.readOnly,Q=d.required,ne=d.onClick,re=d.onFocus,C=d.onBlur,M=d.onKeyUp;d.onKeyDown,d.onValueChange,d.tabSize,d.insertSpaces,d.ignoreTabKey;var T=d.preClassName,H=i(d,["value","style","padding","highlight","textareaId","textareaClassName","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey","preClassName"]),q={paddingTop:typeof $=="object"?$.top:$,paddingRight:typeof $=="object"?$.right:$,paddingBottom:typeof $=="object"?$.bottom:$,paddingLeft:typeof $=="object"?$.left:$},Y=X(_);return f.createElement("div",n({},H,{style:n(n({},A.container),D)}),f.createElement("pre",n({className:T,"aria-hidden":"true",style:n(n(n({},A.editor),A.highlight),q)},typeof Y=="string"?{dangerouslySetInnerHTML:{__html:Y+"<br />"}}:{children:Y})),f.createElement("textarea",{ref:function(W){return v._input=W},style:n(n(n({},A.editor),A.textarea),q),className:m+(K?" ".concat(K):""),id:B,value:_,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:ne,onKeyUp:M,onFocus:re,onBlur:C,disabled:L,form:I,maxLength:U,minLength:G,name:V,placeholder:J,readOnly:Z,required:Q,autoFocus:z,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),f.createElement("style",{dangerouslySetInnerHTML:{__html:b}}))},O.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},O})(f.Component);te.default=R;var A={container:{position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word"}};return te}var _a=Pa();const ja=bn(_a);var Be={exports:{}},vt;function Oa(){return vt||(vt=1,(function(e){var n=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=(function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,f={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function l(u){return u instanceof k?new k(u.type,l(u.content),u.alias):Array.isArray(u)?u.map(l):u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(l){return Object.prototype.toString.call(l).slice(8,-1)},objId:function(l){return l.__id||Object.defineProperty(l,"__id",{value:++i}),l.__id},clone:function l(u,g){g=g||{};var h,m;switch(a.util.type(u)){case"Object":if(m=a.util.objId(u),g[m])return g[m];h={},g[m]=h;for(var b in u)u.hasOwnProperty(b)&&(h[b]=l(u[b],g));return h;case"Array":return m=a.util.objId(u),g[m]?g[m]:(h=[],g[m]=h,u.forEach(function(R,A){h[A]=l(R,g)}),h);default:return u}},getLanguage:function(l){for(;l;){var u=o.exec(l.className);if(u)return u[1].toLowerCase();l=l.parentElement}return"none"},setLanguage:function(l,u){l.className=l.className.replace(RegExp(o,"gi"),""),l.classList.add("language-"+u)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(h){var l=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(h.stack)||[])[1];if(l){var u=document.getElementsByTagName("script");for(var g in u)if(u[g].src==l)return u[g]}return null}},isActive:function(l,u,g){for(var h="no-"+u;l;){var m=l.classList;if(m.contains(u))return!0;if(m.contains(h))return!1;l=l.parentElement}return!!g}},languages:{plain:f,plaintext:f,text:f,txt:f,extend:function(l,u){var g=a.util.clone(a.languages[l]);for(var h in u)g[h]=u[h];return g},insertBefore:function(l,u,g,h){h=h||a.languages;var m=h[l],b={};for(var R in m)if(m.hasOwnProperty(R)){if(R==u)for(var A in g)g.hasOwnProperty(A)&&(b[A]=g[A]);g.hasOwnProperty(R)||(b[R]=m[R])}var P=h[l];return h[l]=b,a.languages.DFS(a.languages,function(O,v){v===P&&O!=l&&(this[O]=b)}),b},DFS:function l(u,g,h,m){m=m||{};var b=a.util.objId;for(var R in u)if(u.hasOwnProperty(R)){g.call(u,R,u[R],h||R);var A=u[R],P=a.util.type(A);P==="Object"&&!m[b(A)]?(m[b(A)]=!0,l(A,g,null,m)):P==="Array"&&!m[b(A)]&&(m[b(A)]=!0,l(A,g,R,m))}}},plugins:{},highlightAll:function(l,u){a.highlightAllUnder(document,l,u)},highlightAllUnder:function(l,u,g){var h={callback:g,container:l,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",h),h.elements=Array.prototype.slice.apply(h.container.querySelectorAll(h.selector)),a.hooks.run("before-all-elements-highlight",h);for(var m=0,b;b=h.elements[m++];)a.highlightElement(b,u===!0,h.callback)},highlightElement:function(l,u,g){var h=a.util.getLanguage(l),m=a.languages[h];a.util.setLanguage(l,h);var b=l.parentElement;b&&b.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(b,h);var R=l.textContent,A={element:l,language:h,grammar:m,code:R};function P(v){A.highlightedCode=v,a.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,a.hooks.run("after-highlight",A),a.hooks.run("complete",A),g&&g.call(A.element)}if(a.hooks.run("before-sanity-check",A),b=A.element.parentElement,b&&b.nodeName.toLowerCase()==="pre"&&!b.hasAttribute("tabindex")&&b.setAttribute("tabindex","0"),!A.code){a.hooks.run("complete",A),g&&g.call(A.element);return}if(a.hooks.run("before-highlight",A),!A.grammar){P(a.util.encode(A.code));return}if(u&&r.Worker){var O=new Worker(a.filename);O.onmessage=function(v){P(v.data)},O.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else P(a.highlight(A.code,A.grammar,A.language))},highlight:function(l,u,g){var h={code:l,grammar:u,language:g};if(a.hooks.run("before-tokenize",h),!h.grammar)throw new Error('The language "'+h.language+'" has no grammar.');return h.tokens=a.tokenize(h.code,h.grammar),a.hooks.run("after-tokenize",h),k.stringify(a.util.encode(h.tokens),h.language)},tokenize:function(l,u){var g=u.rest;if(g){for(var h in g)u[h]=g[h];delete u.rest}var m=new y;return S(m,m.head,l),w(l,m,u,m.head,0),N(m)},hooks:{all:{},add:function(l,u){var g=a.hooks.all;g[l]=g[l]||[],g[l].push(u)},run:function(l,u){var g=a.hooks.all[l];if(!(!g||!g.length))for(var h=0,m;m=g[h++];)m(u)}},Token:k};r.Prism=a;function k(l,u,g,h){this.type=l,this.content=u,this.alias=g,this.length=(h||"").length|0}k.stringify=function l(u,g){if(typeof u=="string")return u;if(Array.isArray(u)){var h="";return u.forEach(function(P){h+=l(P,g)}),h}var m={type:u.type,content:l(u.content,g),tag:"span",classes:["token",u.type],attributes:{},language:g},b=u.alias;b&&(Array.isArray(b)?Array.prototype.push.apply(m.classes,b):m.classes.push(b)),a.hooks.run("wrap",m);var R="";for(var A in m.attributes)R+=" "+A+'="'+(m.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+m.tag+' class="'+m.classes.join(" ")+'"'+R+">"+m.content+"</"+m.tag+">"};function x(l,u,g,h){l.lastIndex=u;var m=l.exec(g);if(m&&h&&m[1]){var b=m[1].length;m.index+=b,m[0]=m[0].slice(b)}return m}function w(l,u,g,h,m,b){for(var R in g)if(!(!g.hasOwnProperty(R)||!g[R])){var A=g[R];A=Array.isArray(A)?A:[A];for(var P=0;P<A.length;++P){if(b&&b.cause==R+","+P)return;var O=A[P],v=O.inside,d=!!O.lookbehind,_=!!O.greedy,D=O.alias;if(_&&!O.pattern.global){var $=O.pattern.toString().match(/[imsuy]*$/)[0];O.pattern=RegExp(O.pattern.source,$+"g")}for(var X=O.pattern||O,B=h.next,K=m;B!==u.tail&&!(b&&K>=b.reach);K+=B.value.length,B=B.next){var z=B.value;if(u.length>l.length)return;if(!(z instanceof k)){var L=1,I;if(_){if(I=x(X,K,l,d),!I||I.index>=l.length)break;var J=I.index,U=I.index+I[0].length,G=K;for(G+=B.value.length;J>=G;)B=B.next,G+=B.value.length;if(G-=B.value.length,K=G,B.value instanceof k)continue;for(var V=B;V!==u.tail&&(G<U||typeof V.value=="string");V=V.next)L++,G+=V.value.length;L--,z=l.slice(K,G),I.index-=K}else if(I=x(X,0,z,d),!I)continue;var J=I.index,Z=I[0],Q=z.slice(0,J),ne=z.slice(J+Z.length),re=K+z.length;b&&re>b.reach&&(b.reach=re);var C=B.prev;Q&&(C=S(u,C,Q),K+=Q.length),j(u,C,L);var M=new k(R,v?a.tokenize(Z,v):Z,D,Z);if(B=S(u,C,M),ne&&S(u,B,ne),L>1){var T={cause:R+","+P,reach:re};w(l,u,g,B.prev,K,T),b&&T.reach>b.reach&&(b.reach=T.reach)}}}}}}function y(){var l={value:null,prev:null,next:null},u={value:null,prev:l,next:null};l.next=u,this.head=l,this.tail=u,this.length=0}function S(l,u,g){var h=u.next,m={value:g,prev:u,next:h};return u.next=m,h.prev=m,l.length++,m}function j(l,u,g){for(var h=u.next,m=0;m<g&&h!==l.tail;m++)h=h.next;u.next=h,h.prev=u,l.length-=m}function N(l){for(var u=[],g=l.head.next;g!==l.tail;)u.push(g.value),g=g.next;return u}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(l){var u=JSON.parse(l.data),g=u.language,h=u.code,m=u.immediateClose;r.postMessage(a.highlight(h,a.languages[g],g)),m&&r.close()},!1)),a;var p=a.util.currentScript();p&&(a.filename=p.src,p.hasAttribute("data-manual")&&(a.manual=!0));function E(){a.manual||a.highlightAll()}if(!a.manual){var F=document.readyState;F==="loading"||F==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",E):window.requestAnimationFrame?window.requestAnimationFrame(E):window.setTimeout(E,16)}return a})(n);e.exports&&(e.exports=t),typeof tt<"u"&&(tt.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(o,i){var f={};f["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[i]},f.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:f}};a["language-"+i]={pattern:/[\s\S]+/,inside:t.languages[i]};var k={};k[o]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return o}),"i"),lookbehind:!0,greedy:!0,inside:a},t.languages.insertBefore("markup","cdata",k)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,o){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:t.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,(function(r){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var i=r.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,(function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading",o=function(p,E){return" Error "+p+" while fetching file: "+E},i=" Error: File does not exist or is empty",f={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",k="loading",x="loaded",w="failed",y="pre[data-src]:not(["+a+'="'+x+'"]):not(['+a+'="'+k+'"])';function S(p,E,F){var l=new XMLHttpRequest;l.open("GET",p,!0),l.onreadystatechange=function(){l.readyState==4&&(l.status<400&&l.responseText?E(l.responseText):l.status>=400?F(o(l.status,l.statusText)):F(i))},l.send(null)}function j(p){var E=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(p||"");if(E){var F=Number(E[1]),l=E[2],u=E[3];return l?u?[F,Number(u)]:[F,void 0]:[F,F]}}t.hooks.add("before-highlightall",function(p){p.selector+=", "+y}),t.hooks.add("before-sanity-check",function(p){var E=p.element;if(E.matches(y)){p.code="",E.setAttribute(a,k);var F=E.appendChild(document.createElement("CODE"));F.textContent=r;var l=E.getAttribute("data-src"),u=p.language;if(u==="none"){var g=(/\.(\w+)$/.exec(l)||[,"none"])[1];u=f[g]||g}t.util.setLanguage(F,u),t.util.setLanguage(E,u);var h=t.plugins.autoloader;h&&h.loadLanguages(u),S(l,function(m){E.setAttribute(a,x);var b=j(E.getAttribute("data-range"));if(b){var R=m.split(/\r\n?|\n/g),A=b[0],P=b[1]==null?R.length:b[1];A<0&&(A+=R.length),A=Math.max(0,Math.min(A-1,R.length)),P<0&&(P+=R.length),P=Math.max(0,Math.min(P,R.length)),m=R.slice(A,P).join(`
`),E.hasAttribute("data-start")||E.setAttribute("data-start",String(A+1))}F.textContent=m,t.highlightElement(F)},function(m){E.setAttribute(a,w),F.textContent=m})}}),t.plugins.fileHighlight={highlight:function(E){for(var F=(E||document).querySelectorAll(y),l=0,u;u=F[l++];)t.highlightElement(u)}};var N=!1;t.fileHighlight=function(){N||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),N=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(Be)),Be.exports}var mt=Oa();Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const Ra=({code:e,language:n="javascript",onCodeChange:t,onApply:r})=>{const[o,i]=c.useState(e),[f,a]=c.useState(!1),k=c.useRef(null);c.useEffect(()=>{i(e)},[e]);const x=j=>{i(j)},w=()=>{a(!1),o!==e&&(t(o),r(o))},y=()=>{a(!0)},S=j=>{try{return mt.highlight(j,mt.languages.javascript,"javascript")}catch{return j}};return s.jsxs("div",{className:"relative editable-code-block",children:[s.jsx("div",{ref:k,className:"max-h-96 overflow-y-auto rounded-lg border border-blue-500/30 bg-slate-900/90 backdrop-blur-sm",style:{fontFamily:"JetBrains Mono, monospace",fontSize:"13px"},children:s.jsx(ja,{value:o,onValueChange:x,highlight:S,onBlur:w,onFocus:y,padding:12,style:{fontFamily:"JetBrains Mono, monospace",fontSize:"13px",outline:"none",minHeight:"200px",color:"#e2e8f0",backgroundColor:"transparent"},textareaClassName:"outline-none resize-none scrollbar-thin scrollbar-thumb-blue-500/30 scrollbar-track-transparent",preClassName:"m-0"})}),s.jsx("style",{children:`
        .editable-code-block .token.comment,
        .editable-code-block .token.prolog,
        .editable-code-block .token.doctype,
        .editable-code-block .token.cdata {
          color: #6272a4;
        }
        .editable-code-block .token.punctuation {
          color: #f8f8f2;
        }
        .editable-code-block .token.property,
        .editable-code-block .token.tag,
        .editable-code-block .token.constant,
        .editable-code-block .token.symbol,
        .editable-code-block .token.deleted {
          color: #ff79c6;
        }
        .editable-code-block .token.boolean,
        .editable-code-block .token.number {
          color: #bd93f9;
        }
        .editable-code-block .token.selector,
        .editable-code-block .token.attr-name,
        .editable-code-block .token.string,
        .editable-code-block .token.char,
        .editable-code-block .token.builtin,
        .editable-code-block .token.inserted {
          color: #f1fa8c;
        }
        .editable-code-block .token.operator,
        .editable-code-block .token.entity,
        .editable-code-block .token.url,
        .editable-code-block .language-css .token.string,
        .editable-code-block .style .token.string {
          color: #ff79c6;
        }
        .editable-code-block .token.atrule,
        .editable-code-block .token.attr-value,
        .editable-code-block .token.keyword {
          color: #8be9fd;
        }
        .editable-code-block .token.function,
        .editable-code-block .token.class-name {
          color: #50fa7b;
        }
        .editable-code-block .token.regex,
        .editable-code-block .token.important,
        .editable-code-block .token.variable {
          color: #ffb86c;
        }
      `})]})},Na=({isOpen:e,code:n,prompt:t,uris:r=[],onCodeChange:o,onUrisChange:i,onRegenerate:f,onSave:a,onCancel:k,anchorElement:x})=>{const[w,y]=c.useState(r),[S,j]=c.useState(""),[N,p]=c.useState(!1),{refs:E,floatingStyles:F}=Sn({open:e,placement:"right-start",whileElementsMounted:e?kt:void 0,middleware:[xt({mainAxis:420,crossAxis:0}),Et(),wt({padding:8})]});c.useEffect(()=>{y(r)},[r]),c.useEffect(()=>{x&&e&&E.setReference(x)},[x,e,E]),c.useEffect(()=>{if(!e)return;const h=m=>{m.key==="Escape"&&k()};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[e,k]);const l=()=>{if(S.trim()&&!w.includes(S.trim())){const h=[...w,S.trim()];y(h),i(h),console.log("URI added:",S.trim(),"Updated URIs:",h),j("")}},u=h=>{const m=w.filter(b=>b!==h);y(m),i(m),console.log("URI removed:",h,"Updated URIs:",m)},g=async()=>{p(!0);try{const m=await hn(t,"GalaxyLayoutBody",["GalaxyZoomControls","GalacticMeasurements","GalaxyNavigationDialog","AllStarsLink"]);if(m.success&&m.code){const b=m.uris||w;y(b),o(m.code),i(b),f&&f(m.code,b)}}catch(h){console.error("Error regenerating code:",h)}finally{p(!1)}};return!e||!x?null:s.jsx(Cn,{children:s.jsx("div",{ref:E.setFloating,style:F,className:"absolute z-[100] pointer-events-auto",children:s.jsxs("div",{className:"w-[500px] max-h-[80vh] p-6 backdrop-blur-xl bg-white/20 dark:bg-slate-900/20 border border-blue-500/30 dark:border-blue-400/30 shadow-2xl shadow-blue-500/20 rounded-lg overflow-y-auto relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/5 to-pink-500/10 rounded-lg pointer-events-none"}),s.jsxs("div",{className:"relative z-10 space-y-4",children:[s.jsx("div",{children:s.jsx("h3",{className:"text-lg font-semibold text-blue-300 dark:text-blue-400 mb-2",children:"Your setting"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-300 dark:text-blue-400",children:"Prompt:"}),s.jsx("div",{className:"p-3 bg-slate-800/50 dark:bg-slate-900/50 border border-blue-500/30 dark:border-blue-400/30 rounded-lg text-sm text-slate-200 dark:text-slate-300",children:t})]}),s.jsx("div",{children:s.jsx(ae,{onClick:g,disabled:N,variant:"secondary",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500",children:N?"Regenerating...":"Regenerate Code"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-300 dark:text-blue-400",children:"JavaScript Code:"}),s.jsx(Ra,{code:n,language:"javascript",onCodeChange:o,onApply:o})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold mb-2 text-blue-300 dark:text-blue-400",children:"Applies to:"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((h,m)=>s.jsxs("span",{className:"px-2 py-1 text-xs bg-blue-500/20 dark:bg-blue-400/20 border border-blue-500/30 dark:border-blue-400/30 rounded text-blue-200 dark:text-blue-300 flex items-center gap-1",children:[h,s.jsx("button",{onClick:()=>u(h),className:"ml-1 text-red-400 hover:text-red-300 transition-colors","aria-label":"Remove URI",children:""})]},m))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:S,onChange:h=>j(h.target.value),onKeyDown:h=>{h.key==="Enter"&&(h.preventDefault(),l())},placeholder:"Add URI (e.g., /project or /all-stars)",className:"flex-1 px-3 py-1.5 text-xs border border-blue-500/30 dark:border-blue-400/30 rounded-lg backdrop-blur-sm bg-white/10 dark:bg-slate-800/30 text-slate-200 dark:text-slate-300 placeholder:text-slate-400 dark:placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50"}),s.jsx(ae,{onClick:l,variant:"secondary",size:"sm",className:"bg-blue-500/20 hover:bg-blue-500/30 border-blue-500/30",children:"Add"})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(ae,{onClick:a,variant:"primary",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500",children:"Save"}),s.jsx(ae,{onClick:k,variant:"secondary",className:"flex-1",children:"Cancel"})]})]})]})})})},bt=128,go=({projectName:e="Project Name",initialZoom:n=100,minZoom:t=25,maxZoom:r=100,maxGalaxyContent:o=100,projectId:i})=>{const[f,a]=c.useState(n),[k,x]=c.useState(!1),w=c.useRef(!1),[y,S]=c.useState({width:window.innerWidth,height:window.innerHeight}),[j,N]=c.useState(!1),p=c.useRef(n),E=c.useRef({x:0,y:0}),F=c.useRef(!1),[l,u]=c.useState(null),[g,h]=c.useState(null),[m,b]=c.useState([]),[R,A]=c.useState(null),[P,O]=c.useState(null),[v,d]=c.useState(!1),[_,D]=c.useState(!1),$=c.useRef(null);c.useEffect(()=>{const C=()=>{N(window.location.pathname.includes("/all-stars"))};return C(),window.addEventListener("popstate",C),()=>window.removeEventListener("popstate",C)},[]),c.useEffect(()=>{const C=()=>{S({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),c.useEffect(()=>{const C=document.querySelector("#galaxy-space");if(C){const M=C;M.style.transition="transform 0.4s ease-out",M.style.transformOrigin="center center"}},[]),c.useEffect(()=>{E.current={x:window.scrollX||document.documentElement.scrollLeft,y:window.scrollY||document.documentElement.scrollTop};const C=100-f,M=Math.round(window.innerWidth+C*bt/10),T=Math.round(window.innerHeight+C*bt/10),H={width:Math.max(0,M),height:Math.max(0,T)};(H.width!==y.width||H.height!==y.height)&&S(H),X(f,H),p.current=f},[f]),c.useEffect(()=>{if(f<=t&&!w.current&&!j?(x(!0),w.current=!0):f>t&&(w.current=!1),y.width===0||y.height===0)return;const C=window.innerWidth,M=window.innerHeight,T=f<=100?f/100:Math.min(f/100,o/100),H=document.querySelector("[data-galaxy-backgrounds]");if(H){const Y=H,W=Math.max(y.width,C),ee=Math.max(y.height,M);Y.style.width=`${W}px`,Y.style.height=`${ee}px`}const q=document.querySelector("#galaxy-space");if(q){const Y=q;if(p.current!==n&&p.current!==f&&!F.current){F.current=!0;const W=Y.style.transition;Y.style.transition="none";const ee={x:window.scrollX||document.documentElement.scrollLeft,y:window.scrollY||document.documentElement.scrollTop},ue={x:ee.x+window.innerWidth/2,y:ee.y+window.innerHeight/2},ye=p.current<=100?p.current/100:Math.min(p.current/100,o/100),de=Y.getBoundingClientRect(),gn=ee.y+de.top,qe={x:ee.x+de.left+de.width/2,y:gn+de.height/2},Xe={x:(ue.x-qe.x)/ye,y:(ue.y-qe.y)/ye};Y.style.transform=`scale(${T})`,requestAnimationFrame(()=>{const we=Y.getBoundingClientRect(),Ve={x:window.scrollX||document.documentElement.scrollLeft,y:window.scrollY||document.documentElement.scrollTop},vn=Ve.y+we.top,Je={x:Ve.x+we.left+we.width/2,y:vn+we.height/2},Qe={x:Je.x+Xe.x*T,y:Je.y+Xe.y*T},et={x:Qe.x-window.innerWidth/2,y:Qe.y-window.innerHeight/2};window.scrollTo({left:Math.max(0,et.x),top:Math.max(0,et.y),behavior:"auto"}),Y.style.transition=W,F.current=!1})}else Y.style.transform=`scale(${T})`,F.current=!1}},[y,f,t,o,j,n]);const X=(C,M)=>{const T=new CustomEvent(Ne.ZOOM_CHANGE,{detail:{zoom:C,virtualScreenSize:M}});window.dispatchEvent(T)},B=()=>{x(!1);const C=i?`/all-stars?galaxy=${i}`:"/all-stars";window.location.href=C},K=()=>{x(!1),a(t+1),w.current=!1},z=(C,M=1500)=>{const T=f,H=Date.now(),q=()=>{const Y=Date.now()-H,W=Math.min(Y/M,1),ee=W<.5?2*W*W:1-Math.pow(-2*W+2,2)/2,ue=T+(C-T)*ee;a(ue),W<1&&requestAnimationFrame(q)};requestAnimationFrame(q)};c.useEffect(()=>{const C=M=>{const{targetZoom:T}=M.detail;typeof T=="number"&&z(T)};return window.addEventListener(Ne.ZOOM_TO,C),()=>{window.removeEventListener(Ne.ZOOM_TO,C)}},[f]);const L=()=>({zoom:f,showDialog:k,virtualScreenSize:y,isAllStarsPage:j}),I=C=>{a(C.zoom),x(C.showDialog),S(C.virtualScreenSize),N(C.isAllStarsPage)},U=(C,M=!1)=>{try{console.log("Executing personalization code:",{code:C.substring(0,200)+"...",isTestMode:M,currentZoom:f,currentUri:window.location.pathname+window.location.search});const T={zoom:f,setZoom:a,showDialog:k,setShowDialog:x,virtualScreenSize:y,setVirtualScreenSize:S,isAllStarsPage:j,setIsAllStarsPage:N,projectId:i,projectName:e,initialZoom:n,minZoom:t,maxZoom:r,maxGalaxyContent:o,hasShownDialogRef:w,previousZoomRef:p,scrollPositionRef:E,isZoomingRef:F,window,location:window.location};new Function(...Object.keys(T),C)(...Object.values(T)),console.log("Personalization code executed successfully. New zoom:",f),M&&(u(C),d(!0),D(!0),console.log("Test mode activated, popover should show"))}catch(T){console.error("Error executing personalization code:",T)}},G=(C,M,T,H)=>{console.log("applyTestCode called with:",{code:C,prompt:M,uris:T,personalizationId:H});const q=L();O(q),h(M),u(C),b(T||[]),A(H||null),U(C,!0)},V=C=>{console.log("Loading personalization into test mode:",C),G(C.code,C.prompt,C.uris,C._id)},J=C=>{u(C),U(C,!0)},Z=C=>{console.log("URIs changed in test mode:",C),b(C)},Q=(C,M)=>{u(C),b(M),U(C,!0)},ne=()=>{P&&I(P),u(null),h(null),b([]),A(null),O(null),d(!1),D(!1)},re=async()=>{if(!l||!g){console.error("Cannot save: missing code or prompt",{testModeCode:!!l,testModePrompt:!!g});return}const C=m.length>0?m:[window.location.pathname+window.location.search];console.log("Saving personalization:",{codeLength:l.length,codePreview:l.substring(0,100),prompt:g,uris:C,urisCount:C.length,personalizationId:R,isUpdate:!!R});const M=await Sa("GalaxyLayoutBody",l,g,C,R||void 0);console.log("Save result:",M),M.success?(console.log("Personalization saved successfully"),d(!1),D(!1),u(null),h(null),b([]),A(null),O(null)):(console.error("Failed to save personalization:",M.error),alert(`Failed to save personalization: ${M.error||"Unknown error"}`))};return c.useEffect(()=>{v&&l&&!_&&(console.log("Test mode activated, showing popover"),D(!0))},[v,l,_]),c.useEffect(()=>{if(v)return;const C=async()=>{try{const T=await pn("GalaxyLayoutBody"),H=window.location.pathname+window.location.search;console.log("Loading personalizations:",{currentUri:H,personalizationsCount:T.length,personalizations:T.map(Y=>({uris:Y.uris,prompt:Y.prompt}))});const q=T.find(Y=>Y.uris.some(W=>{const ee=H===W||H.includes(W)||W.includes(H)||W.includes("?")&&H.startsWith(W.split("?")[0]);return ee&&console.log("Found matching personalization:",{savedUri:W,currentUri:H,prompt:Y.prompt,code:Y.code.substring(0,100)+"..."}),ee}));q?(console.log("Applying personalization:",{prompt:q.prompt,code:q.code,uris:q.uris}),U(q.code,!1)):console.log("No matching personalization found for URI:",H)}catch(T){console.error("Error loading personalizations:",T)}};C();const M=()=>{v||C()};return window.addEventListener("popstate",M),()=>window.removeEventListener("popstate",M)},[v]),s.jsxs(s.Fragment,{children:[s.jsx(da,{virtualScreenSize:y}),s.jsx(fa,{initialZoom:f,onZoomChange:a,minZoom:t,maxZoom:r}),!j&&s.jsx(ha,{projectId:i}),s.jsx(pa,{projectName:e,isOpen:k,onConfirm:B,onCancel:K}),s.jsx(Fa,{onTestModeChange:d,onCodeGenerated:G,onLoadPersonalization:V,buttonRef:$,isTestMode:v}),l&&g&&s.jsx(Na,{isOpen:_,code:l,prompt:g,uris:m,onCodeChange:J,onUrisChange:Z,onRegenerate:Q,onSave:re,onCancel:ne,anchorElement:$.current})]})};export{go as default};
