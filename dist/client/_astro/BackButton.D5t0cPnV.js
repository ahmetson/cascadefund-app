import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.DxhH1ShK.js";import{a as l,b as x}from"./browse-tracker.1pHqLWse.js";import{C as h}from"./Tooltip.BWGh4r1w.js";import{g as o}from"./icon.DFuhwfpy.js";import{c as a}from"./utils.Lr0IsqiS.js";import"./index.C2SuE_cr.js";import"./index.CqUFkXl9.js";import"./slot.Dc8ja7ZA.js";import"./proxy.D4YeN7SK.js";import"./index.CG_O7YBG.js";import"./clsx.B-dksMZM.js";const D=()=>{const[n,d]=r.useState(null),[i,m]=r.useState(!1),[p,u]=r.useState(!1),c=()=>{if(!(typeof window>"u"))try{const e=l();d(e),m(e===null)}catch(e){console.error("Error in updateBackButton:",e)}};if(r.useEffect(()=>{if(typeof window>"u")return;u(!0);const e=setTimeout(()=>{c()},100),s=()=>{c()};return window.addEventListener("browse-stack-changed",s),window.addEventListener("storage",s),()=>{clearTimeout(e),window.removeEventListener("browse-stack-changed",s),window.removeEventListener("storage",s)}},[]),!p)return t.jsx("div",{className:a("no-underline! flex items-center justify-between px-3 py-1 rounded-sm transition-colors","text-slate-400 dark:text-slate-500 cursor-not-allowed opacity-50"),children:t.jsxs("div",{className:"flex items-center space-x-3",children:[o({iconType:"lock"}),t.jsx("span",{className:"text-sm font-medium",children:"Back"})]})});const f=e=>{if(i||!n){e.preventDefault(),e.stopPropagation();return}e.preventDefault();const s=l();x(),s&&(window.location.href=s)};return i||!n?t.jsx(h,{content:"Page was entered directly. Back Button is part of the semantic navigation only",children:t.jsx("div",{className:a("no-underline! flex items-center justify-between px-3 py-1 rounded-sm transition-colors","text-slate-400 dark:text-slate-500 cursor-not-allowed opacity-50"),children:t.jsxs("div",{className:"flex items-center space-x-3",children:[o({iconType:"lock"}),t.jsx("span",{className:"text-sm font-medium",children:"Back"})]})})}):t.jsx("a",{href:n,onClick:f,className:a("no-underline! flex items-center justify-between px-3 py-1 rounded-sm cursor-pointer transition-colors","text-slate-600 dark:text-slate-400 hover:bg-slate-50/40 dark:hover:bg-slate-800/30 hover:text-slate-700 dark:hover:text-slate-300"),children:t.jsxs("div",{className:"flex items-center space-x-3",children:[o({iconType:"arrow-left"}),t.jsx("span",{className:"text-sm font-medium",children:"Back"})]})})};export{D as default};
