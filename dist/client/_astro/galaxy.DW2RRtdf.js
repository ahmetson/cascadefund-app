import{a as c}from"./auth.C6MmFFld.js";import{a as n}from"./virtual.VUcB3V37.js";async function u(s){try{const e=(await c.getSession())?.data?.user;if(!e?.id)return{success:!1,error:"User not logged in"};const r=await n.analyzeGitRepository({gitUrl:s,userId:e.id});return r.data?.success&&r.data.data?{success:!0,data:r.data.data}:{success:!1,error:r.data?.error||"Failed to analyze repository"}}catch(a){return console.error("Error analyzing Git repository:",a),{success:!1,error:"An error occurred"}}}async function l(s,a){try{const r=(await c.getSession())?.data?.user;if(!r?.id)return{success:!1,error:"User not logged in"};const o=await n.createGalaxyFromGit({...s,userId:r.id,readmeContent:a});return o.data?.success&&o.data.data?{success:!0,data:o.data.data}:{success:!1,error:o.data?.error||"Failed to create galaxy"}}catch(e){return console.error("Error creating galaxy from Git:",e),{success:!1,error:"An error occurred"}}}async function y(s){try{const e=(await c.getSession())?.data?.user;if(!e?.id)return{success:!1,error:"User not logged in"};console.log(`Creating blockchain transaction for galaxy ${s} by user ${e.id}`);const r=await n.createGalaxyBlockchainTransaction({galaxyId:s,userId:e.id});return r.data?.success&&r.data.data?{success:!0,data:r.data.data}:{success:!1,error:r.data?.error||"Failed to create blockchain transaction"}}catch(a){return console.error("Error creating blockchain transaction:",a),{success:!1,error:"An error occurred"}}}async function f(s){try{const e=(await c.getSession())?.data?.user;if(!e?.id)return{success:!1,error:"User not logged in"};const r=await n.updateProjectReadme({projectId:s,userId:e.id});return r.data?.success&&r.data.data?{success:!0,data:r.data.data}:{success:!1,error:r.data?.error||"Failed to update README"}}catch(a){return console.error("Error updating project README:",a),{success:!1,error:"An error occurred"}}}async function g(s,a,e){try{const o=(await c.getSession())?.data?.user;if(!o?.id)return{success:!1,x:0,y:0,order:0,error:"User not logged in"};const t=await n.updateGalaxyCoordinates({galaxyId:s,userId:o.id,x:a,y:e});return t.data?.success?{success:!0,txId:t.data.txId,order:t.data.order,x:t.data.x,y:t.data.y}:{success:!1,x:t.data?.x||0,y:t.data?.y||0,order:t.data?.order||0,error:t.data?.error||"Failed to update galaxy coordinates"}}catch(r){return console.error("Error updating galaxy coordinates:",r),{success:!1,x:0,y:0,order:0,error:"An error occurred"}}}export{g as a,u as b,l as c,y as d,f as u};
