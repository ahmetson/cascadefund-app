import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{h as A}from"./utils.Lr0IsqiS.js";import{R as q,r as i}from"./index.DxhH1ShK.js";const F=q.memo(({children:s,color:t="#5227FF",speed:y=1,chaos:h=1,thickness:a=2,className:R,style:p,disabled:S=!1})=>{if(S)return e.jsx(e.Fragment,{children:s});const b=`turbulent-displace-${i.useId().replace(/[:]/g,"")}`,j=i.useRef(null),d=i.useRef(null),m=i.useRef(null),x=()=>{const r=j.current,l=d.current;if(!r||!l)return;m.current&&(m.current.style.filter=`url(#${b})`);const g=Math.max(1,Math.round(l.clientWidth||l.getBoundingClientRect().width||0)),N=Math.max(1,Math.round(l.clientHeight||l.getBoundingClientRect().height||0)),o=Array.from(r.querySelectorAll('feOffset > animate[attributeName="dy"]'));o.length>=2&&(o[0].setAttribute("values",`${N}; 0`),o[1].setAttribute("values",`0; -${N}`));const u=Array.from(r.querySelectorAll('feOffset > animate[attributeName="dx"]'));u.length>=2&&(u[0].setAttribute("values",`${g}; 0`),u[1].setAttribute("values",`0; -${g}`));const O=Math.max(.001,6/(y||1));[...o,...u].forEach(f=>f.setAttribute("dur",`${O}s`));const v=r.querySelector("feDisplacementMap");v&&v.setAttribute("scale",String(30*(h||1)));const c=r.querySelector(`#${CSS.escape(b)}`);c&&(c.setAttribute("x","-200%"),c.setAttribute("y","-200%"),c.setAttribute("width","500%"),c.setAttribute("height","500%")),requestAnimationFrame(()=>{[...o,...u].forEach(f=>{if(typeof f.beginElement=="function")try{f.beginElement()}catch{}})})};i.useEffect(()=>{x()},[y,h]),i.useLayoutEffect(()=>{if(!d.current)return;const r=new ResizeObserver(()=>x());return r.observe(d.current),x(),()=>r.disconnect()},[]);const n={borderRadius:p?.borderRadius??"inherit"},C={...n,borderWidth:a,borderStyle:"solid",borderColor:t},E={...n,borderWidth:a,borderStyle:"solid",borderColor:A(t,.6),filter:`blur(${.5+a*.25}px)`,opacity:.5},M={...n,borderWidth:a,borderStyle:"solid",borderColor:t,filter:`blur(${2+a*.5}px)`,opacity:.5},$={...n,transform:"scale(1.08)",filter:"blur(32px)",opacity:.3,zIndex:-1,background:`linear-gradient(-30deg, ${A(t,.8)}, transparent, ${t})`},w=i.useMemo(()=>s,[s]);return e.jsxs("div",{ref:d,className:"relative isolate "+(R??""),style:p,children:[e.jsx("svg",{ref:j,className:"fixed -left-[10000px] -top-[10000px] w-[10px] h-[10px] opacity-[0.001] pointer-events-none","aria-hidden":!0,focusable:"false",children:e.jsx("defs",{children:e.jsxs("filter",{id:b,colorInterpolationFilters:"sRGB",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[e.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise1",seed:"1"}),e.jsx("feOffset",{in:"noise1",dx:"0",dy:"0",result:"offsetNoise1",children:e.jsx("animate",{attributeName:"dy",values:"700; 0",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),e.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise2",seed:"1"}),e.jsx("feOffset",{in:"noise2",dx:"0",dy:"0",result:"offsetNoise2",children:e.jsx("animate",{attributeName:"dy",values:"0; -700",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),e.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise1",seed:"2"}),e.jsx("feOffset",{in:"noise1",dx:"0",dy:"0",result:"offsetNoise3",children:e.jsx("animate",{attributeName:"dx",values:"490; 0",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),e.jsx("feTurbulence",{type:"turbulence",baseFrequency:"0.02",numOctaves:"10",result:"noise2",seed:"2"}),e.jsx("feOffset",{in:"noise2",dx:"0",dy:"0",result:"offsetNoise4",children:e.jsx("animate",{attributeName:"dx",values:"0; -490",dur:"6s",repeatCount:"indefinite",calcMode:"linear"})}),e.jsx("feComposite",{in:"offsetNoise1",in2:"offsetNoise2",result:"part1"}),e.jsx("feComposite",{in:"offsetNoise3",in2:"offsetNoise4",result:"part2"}),e.jsx("feBlend",{in:"part1",in2:"part2",mode:"color-dodge",result:"combinedNoise"}),e.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"combinedNoise",scale:"30",xChannelSelector:"R",yChannelSelector:"B"})]})})}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",style:n,children:[e.jsx("div",{ref:m,className:"absolute inset-0 box-border",style:C}),e.jsx("div",{className:"absolute inset-0 box-border",style:E}),e.jsx("div",{className:"absolute inset-0 box-border",style:M}),e.jsx("div",{className:"absolute inset-0",style:$})]}),e.jsx("div",{className:"relative flex items-center justify-center",style:n,children:w})]})},(s,t)=>s.disabled===t.disabled&&s.color===t.color&&s.thickness===t.thickness&&s.className===t.className&&s.style===t.style&&s.children===t.children);F.displayName="ElectricBorder";export{F as E};
