import{a as t}from"./virtual.VUcB3V37.js";import{R as n}from"./roadmap.DwIP75iC.js";import{P as o}from"./patch.CbMO86LR.js";async function f(e){try{return(await t.getVersionsByGalaxy({galaxyId:e})).data?.versions||[]}catch(r){return console.error("Error fetching versions:",r),[]}}async function h(e){try{const r=await t.getVersionById({versionId:e});return r.data?.success&&r.data.version?r.data.version:null}catch(r){return console.error("Error fetching version:",r),null}}async function v(e){try{const r=await t.createVersion(e);return r.data?.success&&r.data.version?r.data.version:null}catch(r){return console.error("Error creating version:",r),null}}async function c(e){try{return!!(await t.updateVersionStatus(e)).data?.success}catch(r){return console.error("Error updating version status:",r),!1}}async function y(e,r){try{return!!(await t.updatePatches({versionId:e,patches:r})).data?.success}catch(s){return console.error("Error updating patches:",s),!1}}async function E(e){try{return(await t.removePatch(e)).data?.success?(window.dispatchEvent(new CustomEvent(o.PATCH_REMOVED,{detail:{patchId:e.patchId,versionId:e.versionId}})),!0):!1}catch(r){return console.error("Error removing patch:",r),!1}}async function g(e){try{return!!(await t.completePatch(e)).data?.success}catch(r){return console.error("Error completing patch:",r),!1}}async function u(e){try{return!!(await t.testPatch(e)).data?.success}catch(r){return console.error("Error testing patch:",r),!1}}async function p(e,r,s){return u({versionId:e,patchId:r,tested:s})}async function w(e){try{if(!(await t.closeIssuesByVersion({versionId:e.versionId})).data?.success)return console.error("Failed to close issues"),!1;if(!await c({versionId:e.versionId,status:"archived"}))return console.error("Failed to update version status"),!1;const a={versionId:e.versionId,tag:e.tag,galaxyId:e.galaxyId};return window.dispatchEvent(new CustomEvent(n.VERSION_RELEASED,{detail:a})),!0}catch(r){return console.error("Error releasing version:",r),!1}}export{g as a,y as b,v as c,w as d,h as e,f as g,p as m,E as r,c as u};
