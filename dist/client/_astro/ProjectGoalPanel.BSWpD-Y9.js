import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{g as l}from"./icon.DFuhwfpy.js";import{R as T}from"./index.DxhH1ShK.js";import{N as r}from"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";import{c as Q}from"./utils.Lr0IsqiS.js";import{C as X}from"./Tooltip.BWGh4r1w.js";import{I as Z}from"./InfoPanel.4hdZrt_S.js";import{A as ee}from"./AuthStar.Dmg28nm4.js";import{C as te}from"./Link.k33VB9n9.js";import"./clsx.B-dksMZM.js";import"./index.C2SuE_cr.js";import"./index.CqUFkXl9.js";import"./slot.Dc8ja7ZA.js";import"./proxy.D4YeN7SK.js";import"./index.CG_O7YBG.js";import"./Panel.BDrWh8LJ.js";import"./eventTypes.j192VUKf.js";import"./Button.CuXyr_i0.js";import"./ripple.MQee5g1d.js";import"./ElectricBorder.BANsXwQj.js";import"./accordion.CkcBKuZR.js";import"./accordion.Du3ry5_a.js";import"./use-controlled-state.CxrLW6JS.js";import"./index.TaQMmt2C.js";import"./index.pjxe1RjL.js";import"./createLucideIcon.C1tpinp8.js";const se=({totalStars:L,totalSunshines:f,goalStars:i=100,goalDonations:N,energyCount:M=0,remainingStars:C=0,ownershipGoal:h=1e3,currentOwners:g=0})=>{const[s,o]=T.useState(null),[c,x]=T.useState({x:0,y:0}),d=T.useRef(null),j=360,B=f||0,k=L||0,F=k*j,u=k,y=Math.max(0,B-F)/j,R=Math.max(0,i-u-y),p=i>0?u/i*100:0,b=i>0?y/i*100:0,A=Math.max(0,100-p-b),v=p/100*360,U=b/100*360,z=A/100*360,D=(m,n,a,O,E)=>{const Y=(m-90)*(Math.PI/180),I=(n-90)*(Math.PI/180),H=O+a*Math.cos(Y),_=E+a*Math.sin(Y),q=O+a*Math.cos(I),J=E+a*Math.sin(I),K=n-m>180?1:0;return`M ${O} ${E} L ${H} ${_} A ${a} ${a} 0 ${K} 1 ${q} ${J} Z`},t=200,w=t/2,$=t/2,S=t/2-10,V=T.useId().replace(/:/g,"-"),G=h>0?g/h*100:0,W=Math.max(0,h-g);return e.jsxs("div",{className:"w-full space-y-3 pt-2 border-t border-slate-200/30 dark:border-slate-700/30 relative",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 dark:text-slate-400",children:[e.jsx("span",{children:"Ownership Transfer Progress"}),e.jsxs("span",{className:"font-semibold",children:[e.jsx(r,{value:g,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0}})," / ",e.jsx(r,{value:h,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0}})," tokens"]})]}),e.jsx("div",{className:"w-full h-3 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500 ease-out",style:{width:`${Math.min(100,G)}%`}})}),W>0&&e.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:[e.jsx(r,{value:W,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0}})," tokens left to forge"]})]}),e.jsxs("div",{className:"flex flex-row space-y-6",children:[e.jsxs("div",{className:"flex-[0.6] flex flex-col items-center space-y-4 relative",children:[e.jsx("div",{ref:d,style:{width:t,height:t},onMouseLeave:()=>o(null),children:e.jsxs("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,className:"transform -rotate-90",children:[e.jsx("defs",{children:e.jsx("clipPath",{id:V,children:e.jsx("path",{d:`M ${t*.5} ${t*0} 
                                            L ${t*.61} ${t*.35} 
                                            L ${t*.98} ${t*.35} 
                                            L ${t*.68} ${t*.57} 
                                            L ${t*.79} ${t*.91} 
                                            L ${t*.5} ${t*.7} 
                                            L ${t*.21} ${t*.91} 
                                            L ${t*.32} ${t*.57} 
                                            L ${t*.02} ${t*.35} 
                                            L ${t*.39} ${t*.35} Z`})})}),e.jsx("path",{d:`M ${t*.5} ${t*0} 
                                    L ${t*.61} ${t*.35} 
                                    L ${t*.98} ${t*.35} 
                                    L ${t*.68} ${t*.57} 
                                    L ${t*.79} ${t*.91} 
                                    L ${t*.5} ${t*.7} 
                                    L ${t*.21} ${t*.91} 
                                    L ${t*.32} ${t*.57} 
                                    L ${t*.02} ${t*.35} 
                                    L ${t*.39} ${t*.35} Z`,fill:"none",stroke:"#d4a574",strokeWidth:"1.5",strokeLinejoin:"round",strokeOpacity:"0.4",className:"dark:stroke-amber-300/30"}),e.jsxs("g",{clipPath:`url(#${V})`,children:[e.jsx("circle",{cx:w,cy:$,r:S,fill:"#e5e7eb",stroke:"#d1d5db",strokeWidth:"2",className:"dark:fill-slate-700 dark:stroke-slate-600"}),v>0&&e.jsx("path",{d:D(0,v,S,w,$),fill:"#f97316",stroke:s==="stars"?"#fbbf24":"#fcd34d",strokeWidth:s==="stars"?"1.5":"2",strokeLinejoin:"round",strokeOpacity:"0.5",className:"fill-orange-500 dark:fill-orange-500/70 hover:fill-yellow-500/90 dark:hover:fill-yellow-500/70 cursor-pointer transition-all duration-200",style:{pointerEvents:"all",opacity:s==="stars"?.8:s?.5:1,filter:s==="stars"?"brightness(1.1)":"none",transform:s==="stars"?"translateY(+12px)":"translateY(0)",transformOrigin:"center"},onMouseEnter:m=>{if(o("stars"),d.current){const n=d.current.getBoundingClientRect(),a=m.currentTarget.getBoundingClientRect();x({x:a.left+a.width/2-n.left,y:a.top+a.height/2-n.top})}}}),U>0&&e.jsx("path",{d:D(v,v+U,S,w,$),fill:"#eab308",stroke:s==="sunshines"?"#fde047":"#fef08a",strokeWidth:s==="sunshines"?"1.5":"2",strokeLinejoin:"round",strokeOpacity:"0.5",className:"dark:fill-yellow-500 cursor-pointer transition-all duration-200",style:{pointerEvents:"all",opacity:s==="sunshines"?.8:s?.5:1,filter:s==="sunshines"?"brightness(1.1)":"none",transform:s==="sunshines"?"translateY(-4px)":"translateY(0)",transformOrigin:"center"},onMouseEnter:m=>{if(o("sunshines"),d.current){const n=d.current.getBoundingClientRect(),a=m.currentTarget.getBoundingClientRect();x({x:a.left+a.width/2-n.left,y:a.top+a.height/2-n.top})}}}),z>0&&e.jsx("path",{d:D(v+U,360,S,w,$),fill:"#9ca3af",stroke:s==="remaining"?"#d6d3d1":"#e7e5e4",strokeWidth:s==="remaining"?"1.5":"2",strokeLinejoin:"round",strokeOpacity:"0.4",className:"dark:fill-slate-600 cursor-pointer transition-all duration-200",opacity:s==="remaining"?.5:.3,style:{pointerEvents:"all",filter:s==="remaining"?"brightness(1.1)":"none",transform:s==="remaining"?"translateY(-4px)":"translateY(0)",transformOrigin:"center"},onMouseEnter:m=>{if(o("remaining"),d.current){const n=d.current.getBoundingClientRect(),a=m.currentTarget.getBoundingClientRect();x({x:a.left+a.width/2-n.left,y:a.top+a.height/2-n.top})}}})]})]})}),s&&e.jsx("div",{className:"absolute z-50 pointer-events-none",style:{left:`${c.x}px`,top:`${c.y-30}px`,transform:"translate(-50%, -100%)",marginTop:"-8px"},children:e.jsxs("div",{className:"bg-black/90 dark:bg-slate-800/90 backdrop-blur-sm border border-slate-700 rounded-lg px-3 py-2 shadow-xl",children:[s==="stars"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l({iconType:"star",className:"w-4 h-4 text-orange-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:"Stars"}),e.jsxs("div",{className:"text-xs text-slate-300",children:[e.jsx(r,{value:u,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2}})," ","stars (",p.toFixed(1),"%)"]})]})]}),s==="sunshines"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l({iconType:"sunshine",className:"w-4 h-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:"Sunshines to Stars"}),e.jsxs("div",{className:"text-xs text-slate-300",children:[e.jsx(r,{value:y,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2}})," ","potential stars (",b.toFixed(1),"%)"]})]})]}),s==="remaining"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l({iconType:"star",className:"w-4 h-4 text-slate-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:"Remaining Stars to obtain"}),e.jsxs("div",{className:"text-sm text-slate-300 p-1 w-48 ",children:[e.jsx(r,{value:R,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2}})," ","stars (",A.toFixed(1),"%) left to obtain community control"]})]})]})]})})]}),e.jsx("div",{className:"flex-[0.4] w-full space-y-3 -mt-4 flex items-center relative",children:e.jsxs(Z,{className:"absolute top-15 left-0 flex flex-col px-4 py-2 space-y-4 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800/80 dark:text-slate-300/70 -ml-2",children:"Goal Progress"}),e.jsxs("div",{className:"flex gap-2",children:[l({iconType:"energy",className:"w-5 h-5 text-purple-500"}),e.jsxs("span",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:[M,"%"]})]}),N!==void 0&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:l({iconType:"money",className:"w-5 h-5 text-green-500 dark:text-green-500/70"})}),e.jsx(r,{value:N,locales:"en-US",format:{style:"currency",currency:"USD",maximumFractionDigits:0},className:"text-sm font-semibold text-green-800 dark:text-green-400/70"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[l({iconType:"multiple-users",className:"w-5 h-5 text-blue-500 dark:text-blue-400/70"}),l({iconType:"star",className:"w-5 h-5 text-yellow-500 dark:text-yellow-400/80"})]}),e.jsx(r,{value:C,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2},className:"text-sm text-teal-800 dark:text-teal-400/70 "})]})]})})]})]})},Me=({stars:L=[],totalStars:f,totalSunshines:i,goalStars:N=100,goalDonations:M,projectName:C,projectGoal:h,donationAmount:g=0,maintainerName:s,maintainerImage:o,maintainerId:c,ownershipGoal:x=1e3})=>{const j=i||0,k=(f||0)*360,F=j>0?k/j*100:0,u=L.length,P=f||0,y=i||0,R=Math.round(F),p=h??N,b=Math.max(0,p-(P||0));return e.jsx(Z,{className:Q("absolute bottom-4 md:bottom-auto md:top-[calc(20vh+60px)] right-24 ","w-full max-w-sm mx-auto","backdrop-blur-md bg-white/10 dark:bg-slate-900/10","border border-slate-200/30 dark:border-slate-700/30","rounded-3xl p-8","transition-all duration-300","hover:bg-white/20 dark:hover:bg-slate-900/20","hover:border-slate-300/50 dark:hover:border-slate-600/50","hover:shadow-xl hover:shadow-blue-500/20","self-start md:self-auto"),children:e.jsxs("div",{className:"flex flex-col items-center space-y-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[l({iconType:"star",className:"w-16 h-16 text-yellow-500/80 dark:text-yellow-400/70"}),l({iconType:"star",className:"w-20 h-20 text-yellow-500 dark:text-yellow-400/80"}),l({iconType:"star",className:"w-16 h-16 text-yellow-500/80 dark:text-yellow-400/70"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:["'",C,"' Galaxy"]}),e.jsx(X,{content:e.jsx("div",{className:"text-sm max-w-xs",children:e.jsx("p",{children:"Stars represent your contribution and commitment to the project. Earn stars by contributing, and they give you voting power when the project transitions to star user's ownership."})}),children:l({iconType:"info",className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"w-full space-y-3 flex items-center justify-between px-4 py-2 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[l({iconType:"user",className:"w-5 h-5 text-blue-500"}),e.jsx(r,{value:u,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0},className:"text-sm font-semibold text-slate-800 dark:text-slate-200"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l({iconType:"star",className:"w-6 h-6 text-yellow-600 dark:text-yellow-500/70 mt-1.5",fill:"currentColor"}),e.jsx(r,{value:P,locales:"en-US",format:{style:"decimal",maximumFractionDigits:4},className:"text-sm font-semibold text-slate-800 dark:text-slate-400"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l({iconType:"sunshine",className:"w-6 h-6 text-orange-500 dark:text-orange-500/70 mt-1.5",fill:"currentColor"}),e.jsx(r,{value:y,locales:"en-US",format:{style:"decimal",maximumFractionDigits:4},className:"text-sm font-semibold text-slate-800 dark:text-slate-400"})]}),e.jsxs("div",{className:"flex items-center gap-2 -mt-1.5",children:[l({iconType:"money",className:"w-5 h-5 text-green-500 dark:text-green-500/70 "}),e.jsx(r,{value:g,locales:"en-US",format:{style:"currency",currency:"USD",maximumFractionDigits:4},className:"text-sm font-semibold text-slate-800 dark:text-slate-400"})]})]}),s&&e.jsx("div",{className:"w-full px-4 py-2 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("span",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Owner:"}),c&&e.jsx(ee,{src:o,alt:s,nickname:s,className:"w-6 h-6",imgClassName:"w-full h-full",uri:"/star",star:{_id:c}}),!c&&o&&e.jsx("img",{src:o,alt:s,className:"w-6 h-6 rounded-full"}),c?e.jsx(te,{uri:`/star?id=${c}`,className:"text-sm font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:underline",children:s}):e.jsx("span",{className:"text-sm font-semibold text-slate-800 dark:text-slate-200",children:s})]})}),e.jsx("div",{className:"w-full px-4 py-3 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[e.jsx("span",{children:"Goal: Transfer ownership"}),s&&e.jsx("span",{className:"font-semibold text-slate-800 dark:text-slate-200",children:s}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"→"}),l({iconType:"star",className:"w-5 h-5 text-yellow-500"}),e.jsx(r,{value:x,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0},className:"font-semibold text-slate-800 dark:text-slate-200"}),e.jsx("span",{children:"tokens"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"←"}),l({iconType:"money",className:"w-4 h-4 text-green-500"}),e.jsx(r,{value:x/360,locales:"en-US",format:{style:"decimal",maximumFractionDigits:4},className:"font-semibold text-slate-800 dark:text-slate-200"}),e.jsx("span",{children:"USD"})]})]})]})}),e.jsx(se,{totalStars:f,totalSunshines:i,goalStars:p,goalDonations:M,energyCount:R,remainingStars:b,ownershipGoal:x,currentOwners:u})]})})};export{Me as default};
