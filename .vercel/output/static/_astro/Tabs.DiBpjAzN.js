import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.DxhH1ShK.js";import{H as R,a as N}from"./highlight.C4kkDk0n.js";import{g as V,S as j}from"./slot.BJ0WR7bA.js";import{m as x}from"./proxy.DplwUDe6.js";const[S,v]=V("TabsContext");function E({defaultValue:o,value:n,onValueChange:i,children:l,...u}){const[r,t]=s.useState(o),c=s.useRef(new Map),f=s.useRef(!1),b=n!==void 0;s.useEffect(()=>{if(!b&&r===void 0&&c.current.size>0&&!f.current){const e=c.current.keys().next().value;e!==void 0&&(t(e),f.current=!0)}},[r,b]);const g=s.useCallback((e,d)=>{d?(c.current.set(e,d),!b&&r===void 0&&!f.current&&(t(e),f.current=!0)):c.current.delete(e)},[r,b]),m=s.useCallback(e=>{b?i?.(e):t(e)},[b,i]);return a.jsx(S,{value:{activeValue:n??r,handleValueChange:m,registerTrigger:g},children:a.jsx("div",{"data-slot":"tabs",...u,children:l})})}function H({transition:o={type:"spring",stiffness:200,damping:25},...n}){const{activeValue:i}=v();return a.jsx(R,{"data-slot":"tabs-highlight",controlledItems:!0,value:i,transition:o,click:!1,...n})}function I(o){return a.jsx("div",{role:"tablist","data-slot":"tabs-list",...o})}function A(o){return a.jsx(N,{"data-slot":"tabs-highlight-item",...o})}function B({ref:o,value:n,asChild:i=!1,...l}){const{activeValue:u,handleValueChange:r,registerTrigger:t}=v(),c=s.useRef(null);s.useImperativeHandle(o,()=>c.current),s.useEffect(()=>(t(n,c.current),()=>t(n,null)),[n,t]);const f=i?j:x.button;return a.jsx(f,{ref:c,"data-slot":"tabs-trigger",role:"tab",onClick:()=>r(n),"data-state":u===n?"active":"inactive",...l})}function F({children:o,transition:n={type:"spring",stiffness:300,damping:30,bounce:0,restDelta:.01},...i}){const{activeValue:l}=v(),u=s.Children.toArray(o),r=u.findIndex(e=>s.isValidElement(e)&&typeof e.props=="object"&&e.props!==null&&"value"in e.props&&e.props.value===l),t=s.useRef(null),c=s.useRef([]),[f,b]=s.useState(0),g=s.useRef(null),m=s.useCallback(()=>{const e=c.current[r],d=t.current;if(!e||!d)return 0;const p=e.getBoundingClientRect().height||0,h=getComputedStyle(d),T=h.boxSizing==="border-box",C=(parseFloat(h.paddingTop||"0")||0)+(parseFloat(h.paddingBottom||"0")||0),w=(parseFloat(h.borderTopWidth||"0")||0)+(parseFloat(h.borderBottomWidth||"0")||0);let k=p+(T?C+w:0);const y=typeof window<"u"&&window.devicePixelRatio||1;return k=Math.ceil(k*y)/y,k},[r]);return s.useEffect(()=>{g.current&&(g.current.disconnect(),g.current=null);const e=c.current[r],d=t.current;if(!e||!d)return;b(m());const p=new ResizeObserver(()=>{const h=m();requestAnimationFrame(()=>b(h))});return p.observe(e),p.observe(d),g.current=p,()=>{p.disconnect(),g.current=null}},[r,u.length,m]),s.useLayoutEffect(()=>{if(f===0&&r>=0){const e=m();e!==0&&b(e)}},[r,f,m]),a.jsx(x.div,{ref:t,"data-slot":"tabs-contents",style:{overflow:"hidden"},animate:{height:f},transition:n,...i,children:a.jsx(x.div,{className:"flex -mx-2",animate:{x:r*-100+"%"},transition:n,children:u.map((e,d)=>a.jsx("div",{ref:p=>{c.current[d]=p},className:"w-full shrink-0 px-2 h-full",children:e},d))})})}function z({value:o,style:n,asChild:i=!1,...l}){const{activeValue:u}=v(),r=u===o,t=i?j:x.div;return a.jsx(t,{role:"tabpanel","data-slot":"tabs-content",inert:!r,style:{overflow:"hidden",...n},initial:{filter:"blur(0px)"},animate:{filter:r?"blur(0px)":"blur(4px)"},exit:{filter:"blur(0px)"},transition:{type:"spring",stiffness:200,damping:25},...l})}const q=({activeTab:o,tabs:n,onTabChange:i})=>{const[l,u]=s.useState(o),r="flex-1 rounded-md hover:bg-accent/50 rounded-b-none hover:border-b-2 hover:border-blue-500 hover:shadow-md backdrop-blur-sm";return s.useEffect(()=>{i?.(l)},[l]),a.jsxs(E,{onValueChange:u,value:l,className:"relative mb-6 bg-blue-100 dark:bg-transparent text-slate-600 dark:text-slate-400 py-1 backdrop-blur-sm",children:[a.jsx(H,{className:"",children:a.jsx(I,{className:"h-10 inline-flex p-0 w-full backdrop-blur-sm bg-white/50 dark:bg-slate-900/50",children:n.map(t=>a.jsx(A,{value:t.key,className:r+(l===t.key?" bg-white dark:bg-slate-700 shadow-none shadow-b-none":"bg-blue-200/50 dark:bg-slate-800/50 border-b-2 border-blue-200/50 dark:border-slate-700/50"),children:a.jsx(B,{value:t.key,className:"hyperlink h-full leading-0 w-full text-sm text-blue-500 dark:text-blue-300 cursor-pointer "+(t.className||""),children:t.label})},t.key))})}),a.jsx(F,{className:"bg-gray-50 dark:bg-slate-800/70 p-0 h-80 m-0 rounded-b-xl",children:n.map(t=>a.jsx(z,{value:t.key,className:"space-y-4",children:t.content}))})]})};export{q as C};
