import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as x}from"./index.DxhH1ShK.js";import{P as E}from"./ProfileRating.C1Y_Ayxa.js";import{g}from"./index.C9GdNTjf.js";import{P as y,a as N,b as v,c as b,d as w,e as k,f as P}from"./PopoverDescription.D_bkkxd4.js";import{P as F}from"./PopoverTitle.CqQuFsbZ.js";import{F as B}from"./Followings.B2XiWK3H.js";import{F as C,P as D}from"./PanelStat.CwJxTn_z.js";import{M as R}from"./MenuAvatar.Cp5B2elA.js";import{C as S}from"./Link.DQs8_5h1.js";import{a as A,b as $,F as M}from"./index.rZpZtr76.js";import{C as m}from"./Tooltip.X-wb9Q3Q.js";import{B as z}from"./Panel.n1yQPIfZ.js";import"./ripple.CF16UbCB.js";import"./accordion.C2pAN9g7.js";import"./ElectricBorder.DAWLx7iV.js";import{E as p}from"./Editable.CH1EzvTw.js";import{M as O,Y as U,E as G}from"./EditableBadge.BPr4OUwa.js";import"./slot.BJ0WR7bA.js";import"./index.CqUFkXl9.js";import"./utils.BnlJtBIq.js";import"./proxy.DplwUDe6.js";import"./Button.CnXYplS9.js";import"./eventTypes.CfSurkCl.js";import"./index.D4qZ0oW6.js";import"./createLucideIcon.C1tpinp8.js";import"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";import"./index.BMZ1dBRY.js";import"./use-controlled-state.pHAnEIiX.js";import"./index.BAmrU33k.js";import"./index.DQANnUHg.js";import"./InfoPanel.D6XfqDVr.js";import"./accordion.LYJqygqr.js";import"./Badge.CwoN8wRJ.js";import"./Kbd.C4zmJFw1.js";const H=({ratings:r,topRating:t})=>{const s=a=>(a<=1,"#FFD700"),i=a=>{const l=typeof a=="string"?parseInt(a,10):a;return l<=10?"Gold":l<=50?"Silver":l<=100?"Bronze":"Green"};return e.jsxs(y,{children:[e.jsx(N,{className:"hyperlink flex items-center justify-center shadow-none",children:e.jsx(E,{...r[t]})}),e.jsx(v,{children:e.jsx(b,{sideOffset:8,side:"bottom",className:"z-700!",children:e.jsxs(w,{className:"origin-[var(--transform-origin)]  rounded-xs bg-[canvas] px-6 py-4 text-slate-900 shadow-sm shadow-slate-900 dark:text-slate-300 dark:shadow-slate-300 transition-[transform,scale,opacity] data-[ending-style]:scale-90 data-[ending-style]:opacity-0 data-[starting-style]:scale-90 data-[starting-style]:opacity-0 ",children:[e.jsx(k,{className:"data-[side=bottom]:top-[-8px] data-[side=left]:right-[-13px] data-[side=left]:rotate-90 data-[side=right]:left-[-13px] data-[side=right]:-rotate-90 data-[side=top]:bottom-[-8px] data-[side=top]:rotate-180",children:g("arrow")}),e.jsx(F,{className:"text-slate-800 dark:text-slate-300 font-medium text-sm",children:"Ratings"}),e.jsx(P,{className:"text-slate-800 dark:text-slate-300",children:e.jsx("div",{className:"space-y-4",children:Object.entries(r).map(([a,l])=>{const c=s(l.maxLvl),d=i(l.top);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-sm text-slate-800 dark:text-slate-300",children:["Top ",e.jsx("span",{className:"font-semibold text-yellow-900 dark:text-yellow-300",style:{color:c},children:l.top})," ",a]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-800 dark:text-slate-300",children:[e.jsx("span",{children:"Rating:"}),e.jsx("span",{className:"text-xl",style:{color:"#FFD700"},children:"â˜…"}),e.jsx("span",{className:"font-semibold",children:l.lvl}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-xl",style:{color:"#FFD700"},children:"â˜…"}),e.jsx("span",{className:"font-semibold",children:l.maxLvl}),e.jsx("span",{children:", Trophy:"}),e.jsx("span",{className:"text-xl",style:{color:c},children:"ðŸ†"}),e.jsx("span",{className:"font-semibold",children:d})]})]},a)})})})]})})})]})},I=({totalVotingPower:r,bonusPoints:t=0,onActionClick:s})=>{const i=e.jsxs("div",{className:"text-sm",children:[r," Voting Power in Total.",r>0&&e.jsx("span",{className:"block text-xs text-gray-200",children:"+50% bonus points by rating"}),r<=0&&e.jsx("span",{className:"block text-xs text-gray-200",children:"No voting power yet, you can get it by getting influencers into your projects or becoming an influencer yourself"})]});return e.jsx(C,{iconClassName:"text-purple",iconType:"energy",children:r,hint:i,fill:r>0})},Y=(r,t,s)=>{const i=t.type==="linkedin"?e.jsx(A,{color:"gray",className:"w-5 h-5 text-blue-500 dark:text-blue-400! hover:text-teal-800! dark:hover:text-teal-200!"}):t.type==="github"?e.jsx($,{color:"gray",className:"w-5 h-5 text-blue-500 dark:text-blue-400! hover:text-teal-800! dark:hover:text-teal-200!"}):e.jsx(M,{color:"gray",className:"w-5 h-5 text-blue-500 dark:text-blue-400! hover:text-teal-800! dark:hover:text-teal-200!"}),a=e.jsx(S,{asNewTab:!0,uri:t.url,className:"flex items-center space-x-2",children:i},t.type);return r?e.jsxs(y,{children:[e.jsx(N,{className:"hyperlink flex items-center justify-center shadow-none",children:i}),e.jsx(v,{children:e.jsx(b,{sideOffset:8,side:"bottom",className:"z-700!",children:e.jsxs(w,{className:"w-96 origin-[var(--transform-origin)] rounded-xs bg-[canvas] px-6 py-4 text-gray-900 shadow-sm shadow-gray-900 transition-[transform,scale,opacity] data-[ending-style]:scale-90 data-[ending-style]:opacity-0 data-[starting-style]:scale-90 data-[starting-style]:opacity-0 ",children:[e.jsx(k,{className:"data-[side=bottom]:top-[-8px] data-[side=left]:right-[-13px] data-[side=left]:rotate-90 data-[side=right]:left-[-13px] data-[side=right]:-rotate-90 data-[side=top]:bottom-[-8px] data-[side=top]:rotate-180",children:g("arrow")}),e.jsxs(F,{className:"text-gray-500 font-medium text-md flex items-center flex-row p-1",children:[i," URL"]}),e.jsx(P,{className:"text-gray-600 w-40",children:e.jsx("input",{id:`${t.type}-url`,className:"w-80 flex",autoFocus:!0,type:"url",placeholder:"Enter new URL",defaultValue:t.url,onBlur:l=>s(t.type,l.target.value)})})]})})})]}):a},Fe=({onActionClick:r,...t})=>{const[s,i]=x.useState({description:t.description,name:t.children||"Unnamed",subtitle:t.subtitle,socialLinks:t.socialLinks,avatar:t.icon,followers:t.followers,following:t.following}),[a,l]=x.useState(!1),[c,d]=x.useState(!1),[u,L]=x.useState(null);x.useEffect(()=>{a&&setTimeout(()=>{l(!1)},2e3)},[a]);const T=(o,n)=>{let j=!1;s.socialLinks=s.socialLinks.map(h=>h.type===o?(j=!0,{...h,url:n}):h),j&&(i(s),l(!0))},f={onActivate:()=>{d(!c)},onCancel:()=>{d(!1)},onBlur:(o,n)=>{n!==null&&s[o]!==n.getHTML()&&(s[o]=n.getHTML(),i(s),l(!0))},onFocus:(o,n)=>{L(n)}};return e.jsxs(z,{className:`${a&&"cursor-progress"}`,children:[c&&u!==null&&e.jsx(O,{editor:u,className:"fixed top-0 left-0 right-0 h-28 z-999"}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"w-16 overflow-hidden flex flex-col space-y-2 items-center",children:[e.jsx(R,{className:"w-16 h-16",imgClassName:"w-full h-full",alt:`Profile avatar of ${s.name}`}),e.jsx(B,{selfProfile:t.selfProfile,following:t.following,followers:t.followers,onActionClick:()=>{}})]}),e.jsxs("div",{className:"flex-1 w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(m,{openDelay:1e3,content:e.jsx("div",{className:"text-sm",children:"Name is editable for your account."}),children:e.jsxs("h1",{className:"text-xl font-bold text-slate-800 dark:text-slate-300 flex flex-row items-center space-x-1",children:[t.selfProfile?e.jsx(p,{id:"name",content:s.name,editable:!a,...f}):s.name,t.selfProfile&&e.jsx(U,{saving:a}),t.selfProfile&&e.jsx(G,{showEditBar:c,setShowEditBar:d})]})}),e.jsx("div",{className:"flex text-right flex-col",children:e.jsx(H,{ratings:t.ratings,topRating:t.topRating})})]}),e.jsx(m,{openDelay:1e3,content:e.jsx("div",{className:"text-sm",children:"Subtitle is editable for your account."}),children:e.jsx("div",{className:"text-slate-800 dark:text-slate-300 text-sm mb-1 -mt-2",children:t.selfProfile?e.jsx(p,{id:"subtitle",content:s.subtitle,editable:!a,limit:64,...f}):s.subtitle})}),e.jsx(m,{openDelay:1e3,content:e.jsx("div",{className:"text-sm",children:"Description is editable for your account."}),children:e.jsx("div",{className:"text-md mb-4 text-slate-700 dark:text-slate-400",children:t.selfProfile?e.jsx(p,{id:"description",content:s.description,editable:!a,limit:2048,...f}):s.description})}),e.jsxs(D,{children:[e.jsx(m,{openDelay:1e3,content:e.jsx("div",{className:"text-sm",children:"Right click to edit the social links. Only if you are the owner."}),children:e.jsx("div",{className:"flex space-x-4",children:s.socialLinks.map(o=>Y(t.selfProfile,o,T))})}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx(I,{totalVotingPower:t.totalVotingPower,onActionClick:()=>{}}),e.jsxs(C,{href:"/data/projects?userName="+t.id||"any",iconType:"project",hint:`${s.name} involved in ${t.projectAmount} projects.`,fill:!0,triggerClassName:"text-slate-500 dark:text-slate-400",children:[t.projectAmount," Projects"]})]})]})]})]})]})};export{Fe as default};
