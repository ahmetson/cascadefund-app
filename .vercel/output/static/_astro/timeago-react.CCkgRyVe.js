import{r as v}from"./index.DxhH1ShK.js";var w=["second","minute","hour","day","week","month","year"];function b(t,r){if(r===0)return["just now","right now"];var e=w[Math.floor(r/2)];return t>1&&(e+="s"),[t+" "+e+" ago","in "+t+" "+e]}var I=["秒","分钟","小时","天","周","个月","年"];function S(t,r){if(r===0)return["刚刚","片刻后"];var e=I[~~(r/2)];return[t+" "+e+"前",t+" "+e+"后"]}var l={},_=function(t,r){l[t]=r},d=function(t){return l[t]||l.en_US},i=[60,60,24,7,365/7/12,12];function p(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function g(t,r){var e=t<0?1:0;t=Math.abs(t);for(var n=t,o=0;t>=i[o]&&o<i.length;o++)t/=i[o];return t=Math.floor(t),o*=2,t>(o===0?9:1)&&(o+=1),r(t,o,n)[e].replace("%s",t.toString())}function y(t,r){var e=r?p(r):new Date;return(+e-+p(t))/1e3}function j(t){for(var r=1,e=0,n=Math.abs(t);t>=i[e]&&e<i.length;e++)t/=i[e],r*=i[e];return n=n%r,n=n?r-n:r,Math.ceil(n)}var x=function(t,r,e){var n=y(t,e&&e.relativeDate);return g(n,d(r))},O="timeago-id";function E(t){return t.getAttribute("datetime")}function M(t,r){t.setAttribute(O,r)}function T(t){return parseInt(t.getAttribute(O))}var m={},f=function(t){clearTimeout(t),delete m[t]};function D(t,r,e,n){f(T(t));var o=n.relativeDate,a=n.minInterval,c=y(r,o);t.innerText=g(c,e);var u=setTimeout(function(){D(t,r,e,n)},Math.min(Math.max(j(c),a||1)*1e3,2147483647));m[u]=0,M(t,u)}function h(t){t?f(T(t)):Object.keys(m).forEach(f)}function P(t,r,e){var n=t.length?t:[t];return n.forEach(function(o){D(o,E(o),d(r),e||{})}),n}_("en_US",b);_("zh_CN",S);var C=(function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},t(r,e)};return function(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");t(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}})(),s=function(){return s=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},s.apply(this,arguments)},N=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(e[n[o]]=t[n[o]]);return e},U=function(t){return""+(t instanceof Date?t.getTime():t)},L=(function(t){C(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.dom=null,e}return r.prototype.componentDidMount=function(){this.renderTimeAgo()},r.prototype.componentDidUpdate=function(){this.renderTimeAgo()},r.prototype.renderTimeAgo=function(){var e=this.props,n=e.live,o=e.datetime,a=e.locale,c=e.opts;h(this.dom),n!==!1&&(this.dom.setAttribute("datetime",U(o)),P(this.dom,a,c))},r.prototype.componentWillUnmount=function(){h(this.dom)},r.prototype.render=function(){var e=this,n=this.props,o=n.datetime;n.live;var a=n.locale,c=n.opts,u=N(n,["datetime","live","locale","opts"]);return v.createElement("time",s({ref:function(A){e.dom=A}},u),x(o,a,c))},r.defaultProps={live:!0,className:""},r})(v.PureComponent);export{L as T};
