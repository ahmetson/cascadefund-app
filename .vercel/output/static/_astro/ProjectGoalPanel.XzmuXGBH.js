import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{g as r}from"./index.C9GdNTjf.js";import{R as w}from"./index.DxhH1ShK.js";import{N as c}from"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";import{c as q}from"./utils.BnlJtBIq.js";import{C as J}from"./Tooltip.X-wb9Q3Q.js";import{I as Y}from"./InfoPanel.D6XfqDVr.js";import"./slot.BJ0WR7bA.js";import"./index.CqUFkXl9.js";import"./proxy.DplwUDe6.js";import"./index.BMZ1dBRY.js";import"./Panel.n1yQPIfZ.js";import"./eventTypes.CfSurkCl.js";import"./Button.CnXYplS9.js";import"./ripple.CF16UbCB.js";import"./ElectricBorder.DAWLx7iV.js";import"./Link.DQs8_5h1.js";import"./accordion.LYJqygqr.js";import"./accordion.C2pAN9g7.js";import"./use-controlled-state.pHAnEIiX.js";import"./index.BAmrU33k.js";import"./index.DQANnUHg.js";import"./createLucideIcon.C1tpinp8.js";const K=({totalStars:k,totalSunshines:m,goalStars:l=100,goalDonations:g,energyCount:$=0,remainingStars:T=0})=>{const[s,x]=w.useState(null),[d,y]=w.useState({x:0,y:0}),i=w.useRef(null),b=360,S=m||0,h=k||0,M=h*b,p=h,u=Math.max(0,S-M)/b,A=Math.max(0,l-p-u),C=l>0?p/l*100:0,P=l>0?u/l*100:0,D=Math.max(0,100-C-P),f=C/100*360,F=P/100*360,G=D/100*360,L=(o,n,a,I,U)=>{const B=(o-90)*(Math.PI/180),V=(n-90)*(Math.PI/180),O=I+a*Math.cos(B),W=U+a*Math.sin(B),z=I+a*Math.cos(V),Z=U+a*Math.sin(V),H=n-o>180?1:0;return`M ${I} ${U} L ${O} ${W} A ${a} ${a} 0 ${H} 1 ${z} ${Z} Z`},t=200,j=t/2,N=t/2,v=t/2-10,E=w.useId().replace(/:/g,"-");return e.jsxs("div",{className:"w-full space-y-3 pt-2 border-t border-slate-200/30 dark:border-slate-700/30 relative",children:[e.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium text-slate-700 dark:text-slate-300",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[r({iconType:"user",className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),e.jsx("span",{children:"Single Author"})]}),r({iconType:"arrow-right",className:"w-4 h-4 text-slate-500"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex -space-x-1",children:[r({iconType:"user",className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r({iconType:"user",className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r({iconType:"user",className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),e.jsx("span",{children:"Multiple Owners"})]})]}),e.jsxs("div",{className:"flex flex-row space-y-6",children:[e.jsxs("div",{className:"flex-[0.6] flex flex-col items-center space-y-4 relative",children:[e.jsx("div",{ref:i,style:{width:t,height:t},onMouseLeave:()=>x(null),children:e.jsxs("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,className:"transform -rotate-90",children:[e.jsx("defs",{children:e.jsx("clipPath",{id:E,children:e.jsx("path",{d:`M ${t*.5} ${t*0} 
                                            L ${t*.61} ${t*.35} 
                                            L ${t*.98} ${t*.35} 
                                            L ${t*.68} ${t*.57} 
                                            L ${t*.79} ${t*.91} 
                                            L ${t*.5} ${t*.7} 
                                            L ${t*.21} ${t*.91} 
                                            L ${t*.32} ${t*.57} 
                                            L ${t*.02} ${t*.35} 
                                            L ${t*.39} ${t*.35} Z`})})}),e.jsxs("g",{clipPath:`url(#${E})`,children:[e.jsx("circle",{cx:j,cy:N,r:v,fill:"#e5e7eb",stroke:"#d1d5db",strokeWidth:"2",className:"dark:fill-slate-700 dark:stroke-slate-600"}),f>0&&e.jsx("path",{d:L(0,f,v,j,N),fill:"#f97316",stroke:s==="stars"?"#f97316":"#f59e0b",strokeWidth:s==="stars"?"2":"3",className:"fill-orange-500 dark:fill-orange-500/70 hover:fill-yellow-500/90 dark:hover:fill-yellow-500/70 cursor-pointer transition-all duration-200",style:{pointerEvents:"all",opacity:s==="stars"?.8:s?.5:1,filter:s==="stars"?"brightness(1.1)":"none",transform:s==="stars"?"translateY(+12px)":"translateY(0)",transformOrigin:"center"},onMouseEnter:o=>{if(x("stars"),i.current){const n=i.current.getBoundingClientRect(),a=o.currentTarget.getBoundingClientRect();y({x:a.left+a.width/2-n.left,y:a.top+a.height/2-n.top})}}}),F>0&&e.jsx("path",{d:L(f,f+F,v,j,N),fill:"#eab308",stroke:s==="sunshines"?"#f97316":"#f59e0b",strokeWidth:s==="sunshines"?"3":"2",className:"dark:fill-yellow-500 cursor-pointer transition-all duration-200",style:{pointerEvents:"all",opacity:s==="sunshines"?.8:s?.5:1,filter:s==="sunshines"?"brightness(1.1)":"none",transform:s==="sunshines"?"translateY(-4px)":"translateY(0)",transformOrigin:"center"},onMouseEnter:o=>{if(x("sunshines"),i.current){const n=i.current.getBoundingClientRect(),a=o.currentTarget.getBoundingClientRect();y({x:a.left+a.width/2-n.left,y:a.top+a.height/2-n.top})}}}),G>0&&e.jsx("path",{d:L(f+F,360,v,j,N),fill:"#9ca3af",stroke:s==="remaining"?"#6b7280":"#4b5563",strokeWidth:s==="remaining"?"3":"2",className:"dark:fill-slate-600 cursor-pointer transition-all duration-200",opacity:s==="remaining"?.5:.3,style:{pointerEvents:"all",filter:s==="remaining"?"brightness(1.1)":"none",transform:s==="remaining"?"translateY(-4px)":"translateY(0)",transformOrigin:"center"},onMouseEnter:o=>{if(x("remaining"),i.current){const n=i.current.getBoundingClientRect(),a=o.currentTarget.getBoundingClientRect();y({x:a.left+a.width/2-n.left,y:a.top+a.height/2-n.top})}}})]})]})}),s&&e.jsx("div",{className:"absolute z-50 pointer-events-none",style:{left:`${d.x}px`,top:`${d.y-30}px`,transform:"translate(-50%, -100%)",marginTop:"-8px"},children:e.jsxs("div",{className:"bg-black/90 dark:bg-slate-800/90 backdrop-blur-sm border border-slate-700 rounded-lg px-3 py-2 shadow-xl",children:[s==="stars"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r({iconType:"star",className:"w-4 h-4 text-orange-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:"Stars"}),e.jsxs("div",{className:"text-xs text-slate-300",children:[e.jsx(c,{value:p,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2}})," ","stars (",C.toFixed(1),"%)"]})]})]}),s==="sunshines"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r({iconType:"sunshine",className:"w-4 h-4 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:"Sunshines to Stars"}),e.jsxs("div",{className:"text-xs text-slate-300",children:[e.jsx(c,{value:u,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2}})," ","potential stars (",P.toFixed(1),"%)"]})]})]}),s==="remaining"&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r({iconType:"star",className:"w-4 h-4 text-slate-400"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:"Remaining Stars to obtain"}),e.jsxs("div",{className:"text-sm text-slate-300 p-1 w-48 ",children:[e.jsx(c,{value:A,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2}})," ","stars (",D.toFixed(1),"%) left to obtain community control"]})]})]})]})})]}),e.jsx("div",{className:"flex-[0.4] w-full space-y-3 -mt-4 flex items-center relative",children:e.jsxs(Y,{className:"absolute top-15 left-0 flex flex-col px-4 py-2 space-y-4 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-800/80 dark:text-slate-300/70 -ml-2",children:"Total Stats"}),e.jsxs("div",{className:"flex gap-2",children:[r({iconType:"energy",className:"w-5 h-5 text-purple-500"}),e.jsxs("span",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:[$,"%"]})]}),g!==void 0&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:r({iconType:"money",className:"w-5 h-5 text-green-500 dark:text-green-500/70"})}),e.jsx(c,{value:g,locales:"en-US",format:{style:"currency",currency:"USD",maximumFractionDigits:0},className:"text-sm font-semibold text-green-800 dark:text-green-400/70"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[r({iconType:"multiple-users",className:"w-5 h-5 text-blue-500 dark:text-blue-400/70"}),r({iconType:"star",className:"w-5 h-5 text-yellow-500 dark:text-yellow-400/80"})]}),e.jsx(c,{value:T,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2},className:"text-sm text-teal-800 dark:text-teal-400/70 "})]})]})})]})]})},je=({stars:k=[],totalStars:m,totalSunshines:l,goalStars:g=100,goalDonations:$,projectName:T,projectGoal:s})=>{const d=l||0,i=(m||0)*360,b=d>0?i/d*100:0,S=k.length,h=m||0,M=l||0,p=Math.round(b),R=s??g,u=Math.max(0,R-(h||0));return e.jsx(Y,{className:q("absolute bottom-4 md:bottom-auto md:top-[calc(20vh+60px)] right-24 ","w-full max-w-sm mx-auto","backdrop-blur-md bg-white/10 dark:bg-slate-900/10","border border-slate-200/30 dark:border-slate-700/30","rounded-3xl p-8","transition-all duration-300","hover:bg-white/20 dark:hover:bg-slate-900/20","hover:border-slate-300/50 dark:hover:border-slate-600/50","hover:shadow-xl hover:shadow-blue-500/20","self-start md:self-auto"),children:e.jsxs("div",{className:"flex flex-col items-center space-y-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[r({iconType:"star",className:"w-16 h-16 text-yellow-500/80 dark:text-yellow-400/70"}),r({iconType:"star",className:"w-20 h-20 text-yellow-500 dark:text-yellow-400/80"}),r({iconType:"star",className:"w-16 h-16 text-yellow-500/80 dark:text-yellow-400/70"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:["'",T,"' Galaxy"]}),e.jsx(J,{content:e.jsx("div",{className:"text-sm max-w-xs",children:e.jsx("p",{children:"Stars represent your contribution and commitment to the project. Earn stars by contributing, and they give you voting power when the project transitions to star user's ownership."})}),children:r({iconType:"info",className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"w-full space-y-3 flex items-center justify-between px-4 py-2 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[r({iconType:"user",className:"w-5 h-5 text-blue-500"}),e.jsx(c,{value:S,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0},className:"text-sm font-semibold text-slate-800 dark:text-slate-200"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r({iconType:"star",className:"w-6 h-6 text-yellow-500 dark:text-yellow-500/70 mt-1.5",fill:"currentColor"}),e.jsx(c,{value:h,locales:"en-US",format:{style:"decimal",maximumFractionDigits:2},className:"text-sm font-semibold text-slate-800 dark:text-slate-400"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r({iconType:"sunshine",className:"w-6 h-6 text-orange-500 dark:text-orange-500/70 mt-1.5",fill:"currentColor"}),e.jsx(c,{value:M,locales:"en-US",format:{style:"decimal",maximumFractionDigits:0},className:"text-sm font-semibold text-slate-800 dark:text-slate-400"})]})]}),e.jsx(K,{totalStars:m,totalSunshines:l,goalStars:R,goalDonations:$,energyCount:p,remainingStars:u})]})})};export{je as default};
