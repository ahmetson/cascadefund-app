import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{a as W,r as z}from"./index.DxhH1ShK.js";import{g as b}from"./index.C9GdNTjf.js";import{N as L}from"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";import{c as Y}from"./utils.BnlJtBIq.js";import{C as O}from"./Tooltip.X-wb9Q3Q.js";import{I as _}from"./InfoPanel.D6XfqDVr.js";import{T as H}from"./timeago-react.CCkgRyVe.js";import{B as J}from"./Badge.CwoN8wRJ.js";import"./slot.BJ0WR7bA.js";import"./index.CqUFkXl9.js";import"./proxy.DplwUDe6.js";import"./index.BMZ1dBRY.js";import"./Panel.n1yQPIfZ.js";import"./eventTypes.CfSurkCl.js";import"./Button.CnXYplS9.js";import"./ripple.CF16UbCB.js";import"./ElectricBorder.DAWLx7iV.js";import"./Link.DQs8_5h1.js";import"./accordion.LYJqygqr.js";import"./accordion.C2pAN9g7.js";import"./use-controlled-state.pHAnEIiX.js";import"./index.BAmrU33k.js";import"./index.DQANnUHg.js";import"./createLucideIcon.C1tpinp8.js";var I={exports:{}},K=I.exports,G;function Q(){return G||(G=1,(function(R,g){(function(p,v){R.exports=v(W())})(typeof self<"u"?self:K,(p=>(()=>{var v={155:i=>{i.exports=p}},F={};function x(i){var t=F[i];if(t!==void 0)return t.exports;var s=F[i]={exports:{}};return v[i](s,s.exports,x),s.exports}x.d=(i,t)=>{for(var s in t)x.o(t,s)&&!x.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:t[s]})},x.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),x.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var w={};x.r(w),x.d(w,{useStopwatch:()=>U,useTime:()=>C,useTimer:()=>P});var a=x(155);class n{static getTimeFromMilliseconds(t,s=!0){const l=s?Math.ceil(t/1e3):Math.floor(t/1e3),r=Math.floor(l/86400),u=Math.floor(l%86400/3600),o=Math.floor(l%3600/60),c=Math.floor(l%60);return{totalMilliseconds:t,totalSeconds:l,milliseconds:Math.floor(t%1e3),seconds:c,minutes:o,hours:u,days:r}}static getMillisecondsFromExpiry(t){const s=new Date().getTime(),l=t?.getTime()-s;return l>0?l:0}static getMillisecondsFromPrevTime(t){const s=new Date().getTime()-t;return s>0?s:0}static getMillisecondsFromTimeNow(){const t=new Date;return t.getTime()-60*t.getTimezoneOffset()*1e3}static getFormattedTimeFromMilliseconds(t,s){const{milliseconds:l,seconds:r,minutes:u,hours:o}=n.getTimeFromMilliseconds(t);let c="",d=o;return s==="12-hour"&&(c=o>=12?"pm":"am",d=o%12),{milliseconds:l,seconds:r,minutes:u,hours:d,ampm:c}}}class E{static expiryTimestamp(t){const s=new Date(t).getTime()>0;return s||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",t),s}static onExpire(t){const s=t&&typeof t=="function";return t&&!s&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",t),s}}function N(i,t){const s=(0,a.useRef)(i);(0,a.useEffect)((()=>{s.current=i})),(0,a.useEffect)((()=>{if(!t)return()=>{};const l=setInterval((()=>{var r;(r=s?.current)===null||r===void 0||r.call(s)}),t);return()=>clearInterval(l)}),[t])}const h=1e3;function P({expiryTimestamp:i,onExpire:t=()=>{},autoStart:s=!0,interval:l=h}){const[r,u]=(0,a.useState)(i),[o,c]=(0,a.useState)(n.getMillisecondsFromExpiry(r)),[d,f]=(0,a.useState)(s),[T,D]=(0,a.useState)(s),[y,k]=(0,a.useState)(l),A=(0,a.useCallback)((()=>{E.onExpire(t)&&t(),f(!1),k(null)}),[t]),q=(0,a.useCallback)((()=>{f(!1)}),[]),j=(0,a.useCallback)(((m,S=!0)=>{k(l),D(S),f(S),u(m),c(n.getMillisecondsFromExpiry(m))}),[l]),M=(0,a.useCallback)((()=>{const m=new Date;m.setMilliseconds(m.getMilliseconds()+o),j(m)}),[o,j]),$=(0,a.useCallback)((()=>{T?(c(n.getMillisecondsFromExpiry(r)),f(!0)):M()}),[r,T,M]);return N((()=>{const m=n.getMillisecondsFromExpiry(r);c(m),m<=0?A():y&&m<y&&k(m)}),d?y:null),(0,a.useEffect)((()=>{E.expiryTimestamp(r)}),[r]),Object.assign(Object.assign({},n.getTimeFromMilliseconds(o)),{start:$,pause:q,resume:M,restart:j,isRunning:d})}function U({autoStart:i=!0,offsetTimestamp:t,interval:s=h}={}){const l=t?n.getMillisecondsFromExpiry(t):0,[r,u]=(0,a.useState)(new Date().getTime()-new Date(l).getTime()),[o,c]=(0,a.useState)(n.getMillisecondsFromPrevTime(r||0)),[d,f]=(0,a.useState)(i),T=h-o%h,[D,y]=(0,a.useState)(s<T?s:T);N((()=>{D!==s&&y(s),c(n.getMillisecondsFromPrevTime(r))}),d?D:null);const k=(0,a.useCallback)((()=>{u(new Date().getTime()-new Date(o).getTime()),f(!0)}),[o]),A=(0,a.useCallback)((()=>{d&&(c(n.getMillisecondsFromPrevTime(r)),f(!1))}),[r,d]),q=(0,a.useCallback)(((j,M=!0)=>{const $=j?n.getMillisecondsFromExpiry(j):0,m=new Date().getTime()-new Date($).getTime(),S=n.getMillisecondsFromPrevTime(m),B=h-S%h;u(m),c(S),y(s<B?s:B),f(M)}),[s]);return Object.assign(Object.assign({},n.getTimeFromMilliseconds(o,!1)),{start:k,pause:A,reset:q,isRunning:d})}function C({format:i,interval:t=h}={}){const[s,l]=(0,a.useState)(n.getMillisecondsFromTimeNow());return N((()=>{l(n.getMillisecondsFromTimeNow())}),t),Object.assign({},n.getFormattedTimeFromMilliseconds(s,i))}return w})()))})(I)),I.exports}var V=Q();const Ne=({prizePool:R=125e3,contestFromDate:g,contestToDate:p,contestDescription:v,winProbability:F=1.5})=>{const[x,w]=z.useState(new Date),{days:a,hours:n,minutes:E,seconds:N,isRunning:h}=V.useTimer({expiryTimestamp:p||new Date,autoStart:!0,onExpire:()=>console.warn("Contest ended")});z.useEffect(()=>{const r=setInterval(()=>{w(new Date)},1e3);return()=>clearInterval(r)},[]);const P=r=>r?r.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"",C=(()=>{if(!g||!p)return 0;const r=x.getTime(),u=g.getTime(),c=p.getTime()-u,d=r-u;return d<0?0:d>c?100:d/c*100})(),i=v||`5% of the funds from ${g?P(g):"1st december"} to ${p?P(p):"1st january"}. The funds is given to the 1/100 of the top star gained galaxy. It includes all users, contributors and maintainers receiving equivalent to their earned stars`,t=e.jsx("div",{className:"text-sm space-y-2 max-w-xs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"Open-source projects that obtained stars within the contest period."}),e.jsx("li",{children:"Stars are given to the solved issues and merged pull requests."}),e.jsx("li",{children:"But the issues must be with the sunshines that users get after donating to the project."}),e.jsx("li",{children:"Winner is randomly picked at the end of the contest, from the top 100 galaxies by obtained stars."})]})}),s=e.jsxs("div",{className:"text-sm space-y-3 max-w-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"If you have an open-source project:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-xs",children:e.jsx("li",{children:"For maintainers: Add your repository, create galaxy and begin collaboration."})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-2",children:"For everybody:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"You can also get the reward."}),e.jsx("li",{children:"Find the galaxy, by donating to the open-source project, obtain sunshines, then with the collaboration turn them into stars."})]})]})]}),l=e.jsx("div",{className:"text-sm max-w-xs",children:e.jsx("p",{children:"Calculated probability for you to win the contest if you join the project with 10 stars."})});return e.jsx(_,{className:Y("absolute bottom-4 md:bottom-auto md:top-[calc(20vh+60px)] right-24","w-full max-w-sm mx-auto","backdrop-blur-md bg-white/10 dark:bg-slate-900/10","border border-slate-200/30 dark:border-slate-700/30","rounded-3xl p-8","transition-all duration-300","hover:bg-white/20 dark:hover:bg-slate-900/20","hover:border-slate-300/50 dark:hover:border-slate-600/50","hover:shadow-xl hover:shadow-blue-500/20","self-start md:self-auto"),children:e.jsxs("div",{className:"flex flex-col items-center space-y-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center flex-col",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[b({iconType:"trophy",className:"w-16 h-16 text-yellow-500/80 dark:text-yellow-400/70"}),b({iconType:"trophy",className:"w-20 h-20 text-yellow-500 dark:text-yellow-400/80"}),b({iconType:"trophy",className:"w-16 h-16 text-yellow-500/80 dark:text-yellow-400/70"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-200",children:"Open-source Galaxy Contest 1"}),e.jsx(O,{content:e.jsx("div",{className:"text-sm max-w-xs",children:e.jsx("p",{children:i})}),children:b({iconType:"info",className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"w-full space-y-3 flex flex-col items-center px-4 py-4 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:[e.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400 flex items-center gap-2",children:["Prize Pool ",e.jsx(J,{variant:"info",children:"Demo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[b({iconType:"money",className:"w-6 h-6 text-green-500 dark:text-green-500/70"}),e.jsx(L,{value:R,locales:"en-US",format:{style:"currency",currency:"USD",maximumFractionDigits:0},className:"text-2xl font-bold text-green-600 dark:text-green-400"})]})]}),e.jsxs("div",{className:"w-full space-y-3 px-4 py-4 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:[e.jsx("div",{className:"text-xs text-slate-600 dark:text-slate-400 mb-3",children:"Timeline"}),e.jsxs("div",{className:"w-full space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[g?e.jsx("div",{className:"text-slate-700 dark:text-slate-300",children:e.jsx(H,{datetime:g,live:!1})}):e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"N/A"}),p?e.jsx("div",{className:"text-slate-700 dark:text-slate-300 font-mono",children:h?e.jsxs("span",{children:[a>0&&`${a}d `,String(n).padStart(2,"0"),":",String(E).padStart(2,"0"),":",String(N).padStart(2,"0")]}):e.jsx("span",{children:"Ended"})}):e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"N/A"})]}),e.jsx("div",{className:"relative w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-1000 ease-out",style:{width:`${Math.min(100,Math.max(0,C))}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Progress"}),e.jsxs("span",{className:"text-slate-700 dark:text-slate-300 font-medium",children:[Math.round(C),"%"]})]})]})]}),e.jsx("div",{className:"w-full px-4 py-3 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300 font-medium",children:"Eligibility"}),e.jsx(O,{content:t,children:b({iconType:"info",className:"w-4 h-4 text-slate-500 dark:text-slate-400"})})]}),e.jsx(O,{content:l,children:e.jsxs("div",{className:"flex items-center gap-1 cursor-pointer",children:[e.jsx("span",{className:"text-base",children:"üçÄ"}),e.jsx("span",{className:"text-base",children:"üòä"}),e.jsx(L,{value:F/100,locales:"en-US",format:{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2},className:"text-xs font-medium text-slate-700 dark:text-slate-300"})]})})]})}),e.jsx("div",{className:"w-full px-4 py-3 rounded-lg bg-white/5 dark:bg-slate-900/5 border border-slate-200/20 dark:border-slate-700/20",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-xs text-slate-700 dark:text-slate-300 font-medium",children:"Anyone can join the contest"}),e.jsx(O,{content:s,children:b({iconType:"info",className:"w-4 h-4 text-slate-500 dark:text-slate-400"})})]})})]})})};export{Ne as default};
