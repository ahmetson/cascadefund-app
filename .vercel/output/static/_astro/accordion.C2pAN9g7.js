import{j as a}from"./jsx-runtime.D_zvdyIk.js";import{r as d,b as pe,R as f}from"./index.DxhH1ShK.js";import{P as fe,u as me}from"./use-controlled-state.pHAnEIiX.js";import{g as F}from"./slot.BJ0WR7bA.js";import{A as ve}from"./index.BMZ1dBRY.js";import{m as G}from"./proxy.DplwUDe6.js";import{u as z,c as B,a as M,P as R,d as U,b as W}from"./index.BAmrU33k.js";import{c as ge,u as Ce}from"./index.DQANnUHg.js";var xe=pe[" useId ".trim().toString()]||(()=>{}),he=0;function q(e){const[n,o]=d.useState(xe());return z(()=>{o(t=>t??String(he++))},[e]),n?`radix-${n}`:""}var j="Collapsible",[be,Y]=B(j),[Ae,T]=be(j),J=d.forwardRef((e,n)=>{const{__scopeCollapsible:o,open:t,defaultOpen:i,disabled:r,onOpenChange:c,...l}=e,[u,p]=M({prop:t,defaultProp:i??!1,onChange:c,caller:j});return a.jsx(Ae,{scope:o,disabled:r,contentId:q(),open:u,onOpenToggle:d.useCallback(()=>p(m=>!m),[p]),children:a.jsx(R.div,{"data-state":V(u),"data-disabled":r?"":void 0,...l,ref:n})})});J.displayName=j;var Q="CollapsibleTrigger",X=d.forwardRef((e,n)=>{const{__scopeCollapsible:o,...t}=e,i=T(Q,o);return a.jsx(R.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":V(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...t,ref:n,onClick:U(e.onClick,i.onOpenToggle)})});X.displayName=Q;var D="CollapsibleContent",Z=d.forwardRef((e,n)=>{const{forceMount:o,...t}=e,i=T(D,e.__scopeCollapsible);return a.jsx(fe,{present:o||i.open,children:({present:r})=>a.jsx(Ie,{...t,ref:n,present:r})})});Z.displayName=D;var Ie=d.forwardRef((e,n)=>{const{__scopeCollapsible:o,present:t,children:i,...r}=e,c=T(D,o),[l,u]=d.useState(t),p=d.useRef(null),m=W(n,p),v=d.useRef(0),A=v.current,C=d.useRef(0),k=C.current,x=c.open||l,h=d.useRef(x),b=d.useRef(void 0);return d.useEffect(()=>{const s=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(s)},[]),z(()=>{const s=p.current;if(s){b.current=b.current||{transitionDuration:s.style.transitionDuration,animationName:s.style.animationName},s.style.transitionDuration="0s",s.style.animationName="none";const I=s.getBoundingClientRect();v.current=I.height,C.current=I.width,h.current||(s.style.transitionDuration=b.current.transitionDuration,s.style.animationName=b.current.animationName),u(t)}},[c.open,t]),a.jsx(R.div,{"data-state":V(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!x,...r,ref:m,style:{"--radix-collapsible-content-height":A?`${A}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:x&&i})});function V(e){return e?"open":"closed"}var Re=J,ke=X,Pe=Z,g="Accordion",je=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[$,ye,_e]=ge(g),[y]=B(g,[_e,Y]),H=Y(),ee=f.forwardRef((e,n)=>{const{type:o,...t}=e,i=t,r=t;return a.jsx($.Provider,{scope:e.__scopeAccordion,children:o==="multiple"?a.jsx(Se,{...r,ref:n}):a.jsx(Ee,{...i,ref:n})})});ee.displayName=g;var[oe,we]=y(g),[te,Ne]=y(g,{collapsible:!1}),Ee=f.forwardRef((e,n)=>{const{value:o,defaultValue:t,onValueChange:i=()=>{},collapsible:r=!1,...c}=e,[l,u]=M({prop:o,defaultProp:t??"",onChange:i,caller:g});return a.jsx(oe,{scope:e.__scopeAccordion,value:f.useMemo(()=>l?[l]:[],[l]),onItemOpen:u,onItemClose:f.useCallback(()=>r&&u(""),[r,u]),children:a.jsx(te,{scope:e.__scopeAccordion,collapsible:r,children:a.jsx(ne,{...c,ref:n})})})}),Se=f.forwardRef((e,n)=>{const{value:o,defaultValue:t,onValueChange:i=()=>{},...r}=e,[c,l]=M({prop:o,defaultProp:t??[],onChange:i,caller:g}),u=f.useCallback(m=>l((v=[])=>[...v,m]),[l]),p=f.useCallback(m=>l((v=[])=>v.filter(A=>A!==m)),[l]);return a.jsx(oe,{scope:e.__scopeAccordion,value:c,onItemOpen:u,onItemClose:p,children:a.jsx(te,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(ne,{...r,ref:n})})})}),[Oe,_]=y(g),ne=f.forwardRef((e,n)=>{const{__scopeAccordion:o,disabled:t,dir:i,orientation:r="vertical",...c}=e,l=f.useRef(null),u=W(l,n),p=ye(o),v=Ce(i)==="ltr",A=U(e.onKeyDown,C=>{if(!je.includes(C.key))return;const k=C.target,x=p().filter(S=>!S.ref.current?.disabled),h=x.findIndex(S=>S.ref.current===k),b=x.length;if(h===-1)return;C.preventDefault();let s=h;const I=0,w=b-1,N=()=>{s=h+1,s>w&&(s=I)},E=()=>{s=h-1,s<I&&(s=w)};switch(C.key){case"Home":s=I;break;case"End":s=w;break;case"ArrowRight":r==="horizontal"&&(v?N():E());break;case"ArrowDown":r==="vertical"&&N();break;case"ArrowLeft":r==="horizontal"&&(v?E():N());break;case"ArrowUp":r==="vertical"&&E();break}const ue=s%b;x[ue].ref.current?.focus()});return a.jsx(Oe,{scope:o,disabled:t,direction:i,orientation:r,children:a.jsx($.Slot,{scope:o,children:a.jsx(R.div,{...c,"data-orientation":r,ref:u,onKeyDown:t?void 0:A})})})}),P="AccordionItem",[Me,L]=y(P),ae=f.forwardRef((e,n)=>{const{__scopeAccordion:o,value:t,...i}=e,r=_(P,o),c=we(P,o),l=H(o),u=q(),p=t&&c.value.includes(t)||!1,m=r.disabled||e.disabled;return a.jsx(Me,{scope:o,open:p,disabled:m,triggerId:u,children:a.jsx(Re,{"data-orientation":r.orientation,"data-state":de(p),...l,...i,ref:n,disabled:m,open:p,onOpenChange:v=>{v?c.onItemOpen(t):c.onItemClose(t)}})})});ae.displayName=P;var re="AccordionHeader",ie=f.forwardRef((e,n)=>{const{__scopeAccordion:o,...t}=e,i=_(g,o),r=L(re,o);return a.jsx(R.h3,{"data-orientation":i.orientation,"data-state":de(r.open),"data-disabled":r.disabled?"":void 0,...t,ref:n})});ie.displayName=re;var O="AccordionTrigger",ce=f.forwardRef((e,n)=>{const{__scopeAccordion:o,...t}=e,i=_(g,o),r=L(O,o),c=Ne(O,o),l=H(o);return a.jsx($.ItemSlot,{scope:o,children:a.jsx(ke,{"aria-disabled":r.open&&!c.collapsible||void 0,"data-orientation":i.orientation,id:r.triggerId,...l,...t,ref:n})})});ce.displayName=O;var se="AccordionContent",le=f.forwardRef((e,n)=>{const{__scopeAccordion:o,...t}=e,i=_(g,o),r=L(se,o),c=H(o);return a.jsx(Pe,{role:"region","aria-labelledby":r.triggerId,"data-orientation":i.orientation,...c,...t,ref:n,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});le.displayName=se;function de(e){return e?"open":"closed"}var Te=ee,De=ae,Ve=ie,$e=ce,K=le;const[He,Le]=F("AccordionContext"),[Ge,Ke]=F("AccordionItemContext");function Qe(e){const[n,o]=me({value:e?.value,defaultValue:e?.defaultValue,onChange:e?.onValueChange});return a.jsx(He,{value:{value:n,setValue:o},children:a.jsx(Te,{"data-slot":"accordion",...e,onValueChange:o})})}function Xe(e){const{value:n}=Le(),[o,t]=d.useState(n?.includes(e?.value)??!1);return d.useEffect(()=>{t(n?.includes(e?.value)??!1)},[n,e?.value]),a.jsx(Ge,{value:{isOpen:o,setIsOpen:t,value:e.value},children:a.jsx(De,{"data-slot":"accordion-item",...e})})}function Ze(e){return a.jsx(Ve,{"data-slot":"accordion-header",...e})}function eo(e){return a.jsx($e,{"data-slot":"accordion-trigger",...e})}function oo({keepRendered:e=!1,transition:n={type:"spring",stiffness:150,damping:22},...o}){const{isOpen:t}=Ke();return a.jsx(ve,{children:e?a.jsx(K,{asChild:!0,forceMount:!0,children:a.jsx(G.div,{"data-slot":"accordion-content",initial:{height:0,opacity:0,"--mask-stop":"0%"},animate:t?{height:"auto",opacity:1,"--mask-stop":"100%"}:{height:0,opacity:0,"--mask-stop":"0%"},transition:n,style:{maskImage:"linear-gradient(black var(--mask-stop), transparent var(--mask-stop))",WebkitMaskImage:"linear-gradient(black var(--mask-stop), transparent var(--mask-stop))",overflow:"hidden"},...o},"accordion-content")}):t&&a.jsx(K,{asChild:!0,forceMount:!0,children:a.jsx(G.div,{"data-slot":"accordion-content",initial:{height:0,opacity:0,"--mask-stop":"0%"},animate:{height:"auto",opacity:1,"--mask-stop":"100%"},exit:{height:0,opacity:0,"--mask-stop":"0%"},transition:n,style:{maskImage:"linear-gradient(black var(--mask-stop), transparent var(--mask-stop))",WebkitMaskImage:"linear-gradient(black var(--mask-stop), transparent var(--mask-stop))",overflow:"hidden"},...o},"accordion-content")})})}export{Qe as A,Xe as a,Ze as b,eo as c,oo as d,q as u};
