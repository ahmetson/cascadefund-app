import{r as c,b as hn}from"./index.DxhH1ShK.js";import{r as ct}from"./slot.DPiB-jfz.js";import{i as lo,e as Re,t as ut,g as de,j as bn,k as fo,m as yn,n as at,p as po,q as dt,r as mo,v as go,w as pt,x as ho,b as bo,y as yo,z as vo,A as Eo,B as Tt,D as Ro,E as wo,f as Po,o as xo,c as Co,h as So,G as nt,H as Kt,a as qt,s as ko,l as To}from"./Tooltip.Cp89g2lg.js";import{j as te}from"./jsx-runtime.D_zvdyIk.js";const Vt={};function Le(e,t){const n=c.useRef(Vt);return n.current===Vt&&(n.current=e(t)),n}const Io=[];function vn(e){c.useEffect(e,Io)}const Ue=0;class Se{static create(){return new Se}currentId=Ue;start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=Ue,n()},t)}isStarted(){return this.currentId!==Ue}clear=()=>{this.currentId!==Ue&&(clearTimeout(this.currentId),this.currentId=Ue)};disposeEffect=()=>this.clear}function Pe(){const e=Le(Se.create).current;return vn(e.disposeEffect),e}function Oo({controlled:e,default:t,name:n,state:o="value"}){const{current:r}=c.useRef(e!==void 0),[s,i]=c.useState(t),u=r?e:s,a=c.useCallback(m=>{r||i(m)},[]);return[u,a]}const mt=hn[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],Mo=mt&&mt!==c.useLayoutEffect?mt:e=>e();function K(e){const t=Le(Ao).current;return t.next=e,Mo(t.effect),t.trampoline}function Ao(){const e={next:void 0,callback:Lo,trampoline:(...t)=>e.callback?.(...t),effect:()=>{e.callback=e.next}};return e}function Lo(){}const Do=()=>{},ne=typeof document<"u"?c.useLayoutEffect:Do;function me(e){const t=Le(Fo,e).current;return t.next=e,ne(t.effect),t}function Fo(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}const De=typeof navigator<"u",gt=Uo(),En=_o(),Rn=$o(),wn=typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter:none"),No=gt.platform==="MacIntel"&&gt.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(gt.platform),Bo=De&&/apple/i.test(navigator.vendor),wt=De&&/android/i.test(En)||/android/i.test(Rn);De&&En.toLowerCase().startsWith("mac")&&navigator.maxTouchPoints;const Ho=Rn.includes("jsdom/");function Uo(){if(!De)return{platform:"",maxTouchPoints:-1};const e=navigator.userAgentData;return e?.platform?{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}function $o(){if(!De)return"";const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function _o(){if(!De)return"";const e=navigator.userAgentData;return e?.platform?e.platform:navigator.platform??""}const Pt="data-base-ui-focusable",Pn="active",xn="selected",Wo="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Me(e){let t=e.activeElement;for(;t?.shadowRoot?.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function ie(e,t){if(!e||!t)return!1;const n=t.getRootNode?.();if(e.contains(t))return!0;if(n&&lo(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function be(e){return"composedPath"in e?e.composedPath()[0]:e.target}function ve(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function jo(e){return e.matches("html,body")}function ce(e){return e?.ownerDocument||document}function Cn(e){return Re(e)&&e.matches(Wo)}function Xt(e){return e?e.getAttribute("role")==="combobox"&&Cn(e):!1}function xt(e){return e?e.hasAttribute(Pt)?e:e.querySelector(`[${Pt}]`)||e:null}function Ce(e,t,n=!0){return e.filter(r=>r.parentId===t&&(!n||r.context?.open)).flatMap(r=>[r,...Ce(e,r.id,n)])}function Gt(e,t){let n=[],o=e.find(r=>r.id===t)?.parentId;for(;o;){const r=e.find(s=>s.id===o);o=r?.parentId,r&&(n=n.concat(r))}return n}function Yo(e){e.preventDefault(),e.stopPropagation()}function Ko(e){return"nativeEvent"in e}function qo(e){return e.mozInputSource===0&&e.isTrusted?!0:wt&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Vo(e){return Ho?!1:!wt&&e.width===0&&e.height===0||wt&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function We(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}const Ye=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Sn(e,t){const n=ut(e,Ye()),o=n.length;if(o===0)return;const r=Me(ce(e)),s=n.indexOf(r),i=s===-1?t===1?0:o-1:s+t;return n[i]}function kn(e){return Sn(ce(e).body,1)||e}function Tn(e){return Sn(ce(e).body,-1)||e}function $e(e,t){const n=t||e.currentTarget,o=e.relatedTarget;return!o||!ie(n,o)}function Xo(e){ut(e,Ye()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function zt(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}const Go={...hn};let Jt=0;function zo(e,t="mui"){const[n,o]=c.useState(e),r=e||n;return c.useEffect(()=>{n==null&&(Jt+=1,o(`${t}-${Jt}`))},[n,t]),r}const Zt=Go.useId;function Ke(e,t){if(Zt!==void 0){const n=Zt();return e??(t?`${t}-${n}`:n)}return zo(e,t)}function In(){const e=new Map;return{emit(t,n){e.get(t)?.forEach(o=>o(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){e.get(t)?.delete(n)}}}const On=c.createContext(null),Mn=c.createContext(null),Fe=()=>c.useContext(On)?.id||null,qe=()=>c.useContext(Mn);function Jo(e){const t=Ke(),n=qe(),r=Fe();return ne(()=>{if(!t)return;const s={id:t,parentId:r};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,t,r]),t}function Zo(e){const{children:t,id:n}=e,o=Fe();return te.jsx(On.Provider,{value:c.useMemo(()=>({id:n,parentId:o}),[n,o]),children:t})}function Qo(e){const{children:t}=e,n=c.useRef([]),o=c.useCallback(i=>{n.current=[...n.current,i]},[]),r=c.useCallback(i=>{n.current=n.current.filter(u=>u!==i)},[]),[s]=c.useState(()=>In());return te.jsx(Mn.Provider,{value:c.useMemo(()=>({nodesRef:n,addNode:o,removeNode:r,events:s}),[o,r,s]),children:t})}function er(){}const Ee=Object.freeze({}),tr=500,nr={style:{transition:"none"}},An="data-base-ui-click-trigger",or={fallbackAxisSide:"end"};function le(e,t,n){let o=!1,r=!1;const s=Ee;return{reason:e,event:t??new Event("base-ui"),cancel(){o=!0},allowPropagation(){r=!0},get isCanceled(){return o},get isPropagationAllowed(){return r},...s}}function je(e){return`data-base-ui-${e}`}const Qt=je("safe-polygon");function ht(e,t,n){if(n&&!We(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const o=e();return typeof o=="number"?o:o?.[t]}return e?.[t]}function bt(e){return typeof e=="function"?e():e}function rr(e,t={}){const{open:n,onOpenChange:o,dataRef:r,events:s,elements:i}=e,{enabled:u=!0,delay:a=0,handleClose:m=null,mouseOnly:h=!1,restMs:P=0,move:E=!0}=t,f=qe(),g=Fe(),y=me(m),d=me(a),v=me(n),k=me(P),w=c.useRef(void 0),b=Pe(),A=c.useRef(void 0),S=Pe(),_=c.useRef(!0),V=c.useRef(!1),Z=c.useRef(()=>{}),W=c.useRef(!1),N=K(()=>{const R=r.current.openEvent?.type;return R?.includes("mouse")&&R!=="mousedown"});c.useEffect(()=>{if(!u)return;function R(C){C.open||(b.clear(),S.clear(),_.current=!0,W.current=!1)}return s.on("openchange",R),()=>{s.off("openchange",R)}},[u,s,b,S]),c.useEffect(()=>{if(!u||!y.current||!n)return;function R(U){N()&&o(!1,le("trigger-hover",U))}const C=ce(i.floating).documentElement;return C.addEventListener("mouseleave",R),()=>{C.removeEventListener("mouseleave",R)}},[i.floating,n,o,u,y,N]);const D=c.useCallback((R,C=!0)=>{const U=ht(d.current,"close",w.current);U&&!A.current?b.start(U,()=>o(!1,le("trigger-hover",R))):C&&(b.clear(),o(!1,le("trigger-hover",R)))},[d,o,b]),p=K(()=>{Z.current(),A.current=void 0}),M=K(()=>{if(V.current){const R=ce(i.floating).body;R.style.pointerEvents="",R.removeAttribute(Qt),V.current=!1}}),L=K(()=>r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1);c.useEffect(()=>{if(!u)return;function R(H){if(b.clear(),_.current=!1,h&&!We(w.current)||bt(k.current)>0&&!ht(d.current,"open"))return;const x=ht(d.current,"open",w.current);x?b.start(x,()=>{v.current||o(!0,le("trigger-hover",H))}):n||o(!0,le("trigger-hover",H))}function C(H){if(L()){M();return}Z.current();const x=ce(i.floating);if(S.clear(),W.current=!1,y.current&&r.current.floatingContext){n||b.clear(),A.current=y.current({...r.current.floatingContext,tree:f,x:H.clientX,y:H.clientY,onClose(){M(),p(),L()||D(H,!0)}});const re=A.current;x.addEventListener("mousemove",re),Z.current=()=>{x.removeEventListener("mousemove",re)};return}(w.current==="touch"?!ie(i.floating,H.relatedTarget):!0)&&D(H)}function U(H){L()||r.current.floatingContext&&y.current?.({...r.current.floatingContext,tree:f,x:H.clientX,y:H.clientY,onClose(){M(),p(),L()||D(H)}})(H)}function Q(){b.clear()}function ee(H){L()||D(H,!1)}if(de(i.domReference)){const H=i.domReference,x=i.floating;return n&&H.addEventListener("mouseleave",U),E&&H.addEventListener("mousemove",R,{once:!0}),H.addEventListener("mouseenter",R),H.addEventListener("mouseleave",C),x&&(x.addEventListener("mouseleave",U),x.addEventListener("mouseenter",Q),x.addEventListener("mouseleave",ee)),()=>{n&&H.removeEventListener("mouseleave",U),E&&H.removeEventListener("mousemove",R),H.removeEventListener("mouseenter",R),H.removeEventListener("mouseleave",C),x&&(x.removeEventListener("mouseleave",U),x.removeEventListener("mouseenter",Q),x.removeEventListener("mouseleave",ee))}}},[i,u,e,h,E,D,p,M,o,n,v,f,d,y,r,L,k,b,S]),ne(()=>{if(u&&n&&y.current?.__options?.blockPointerEvents&&N()){V.current=!0;const R=i.floating;if(de(i.domReference)&&R){const C=ce(i.floating).body;C.setAttribute(Qt,"");const U=i.domReference,Q=f?.nodesRef.current.find(ee=>ee.id===g)?.context?.elements.floating;return Q&&(Q.style.pointerEvents=""),C.style.pointerEvents="none",U.style.pointerEvents="auto",R.style.pointerEvents="auto",()=>{C.style.pointerEvents="",U.style.pointerEvents="",R.style.pointerEvents=""}}}},[u,n,g,i,f,y,N]),ne(()=>{n||(w.current=void 0,W.current=!1,p(),M())},[n,p,M]),c.useEffect(()=>()=>{p(),b.clear(),S.clear()},[u,i.domReference,p,b,S]),c.useEffect(()=>M,[M]);const X=c.useMemo(()=>{function R(C){w.current=C.pointerType}return{onPointerDown:R,onPointerEnter:R,onMouseMove(C){const{nativeEvent:U}=C;function Q(){!_.current&&!v.current&&o(!0,le("trigger-hover",U))}h&&!We(w.current)||n||bt(k.current)===0||W.current&&C.movementX**2+C.movementY**2<2||(S.clear(),w.current==="touch"?Q():(W.current=!0,S.start(bt(k.current),Q)))}}},[h,o,n,v,k,S]);return c.useMemo(()=>u?{reference:X}:{},[u,X])}function rt(e,t,n,o){const r=Le(Ln).current;return ir(r,e,t,n,o)&&Dn(r,[e,t,n,o]),r.callback}function sr(e){const t=Le(Ln).current;return cr(t,e)&&Dn(t,e),t.callback}function Ln(){return{callback:null,cleanup:null,refs:[]}}function ir(e,t,n,o,r){return e.refs[0]!==t||e.refs[1]!==n||e.refs[2]!==o||e.refs[3]!==r}function cr(e,t){return e.refs.length!==t.length||e.refs.some((n,o)=>n!==t[o])}function Dn(e,t){if(e.refs=t,t.every(n=>n==null)){e.callback=null;return}e.callback=n=>{if(e.cleanup&&(e.cleanup(),e.cleanup=null),n!=null){const o=Array(t.length).fill(null);for(let r=0;r<t.length;r+=1){const s=t[r];if(s!=null)switch(typeof s){case"function":{const i=s(n);typeof i=="function"&&(o[r]=i);break}case"object":{s.current=n;break}}}e.cleanup=()=>{for(let r=0;r<t.length;r+=1){const s=t[r];if(s!=null)switch(typeof s){case"function":{const i=o[r];typeof i=="function"?i():s(null);break}case"object":{s.current=null;break}}}}}}}const It={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1},Ze=null;class ur{callbacks=[];callbacksCount=0;nextId=1;startId=1;isScheduled=!1;tick=t=>{this.isScheduled=!1;const n=this.callbacks,o=this.callbacksCount;if(this.callbacks=[],this.callbacksCount=0,this.startId=this.nextId,o>0)for(let r=0;r<n.length;r+=1)n[r]?.(t)};request(t){const n=this.nextId;return this.nextId+=1,this.callbacks.push(t),this.callbacksCount+=1,(!this.isScheduled||!1)&&(requestAnimationFrame(this.tick),this.isScheduled=!0),n}cancel(t){const n=t-this.startId;n<0||n>=this.callbacks.length||(this.callbacks[n]=null,this.callbacksCount-=1)}}const Qe=new ur;class ye{static create(){return new ye}static request(t){return Qe.request(t)}static cancel(t){return Qe.cancel(t)}currentId=Ze;request(t){this.cancel(),this.currentId=Qe.request(()=>{this.currentId=Ze,t()})}cancel=()=>{this.currentId!==Ze&&(Qe.cancel(this.currentId),this.currentId=Ze)};disposeEffect=()=>this.cancel}function Ot(){const e=Le(ye.create).current;return vn(e.disposeEffect),e}function Ne(e){return e?.ownerDocument||document}const st=c.forwardRef(function(t,n){const[o,r]=c.useState();ne(()=>{Bo&&r("button")},[]);const s={tabIndex:0,role:o};return te.jsx("span",{...t,ref:n,style:It,"aria-hidden":o?void 0:!0,...s,"data-base-ui-focus-guard":""})});let en=0;function yt(e,t={}){const{preventScroll:n=!1,cancelPrevious:o=!0,sync:r=!1}=t;o&&cancelAnimationFrame(en);const s=()=>e?.focus({preventScroll:n});r?s():en=requestAnimationFrame(s)}const Ae={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function tn(e){return e==="inert"?Ae.inert:e==="aria-hidden"?Ae["aria-hidden"]:Ae.none}let et=new WeakSet,tt={},vt=0;const Fn=e=>e&&(e.host||Fn(e.parentNode)),ar=(e,t)=>t.map(n=>{if(e.contains(n))return n;const o=Fn(n);return e.contains(o)?o:null}).filter(n=>n!=null);function lr(e,t,n,o){const r="data-base-ui-inert",s=o?"inert":n?"aria-hidden":null,i=ar(t,e),u=new Set,a=new Set(i),m=[];tt[r]||(tt[r]=new WeakMap);const h=tt[r];i.forEach(P),E(t),u.clear();function P(f){!f||u.has(f)||(u.add(f),f.parentNode&&P(f.parentNode))}function E(f){!f||a.has(f)||[].forEach.call(f.children,g=>{if(bn(g)!=="script")if(u.has(g))E(g);else{const y=s?g.getAttribute(s):null,d=y!==null&&y!=="false",v=tn(s),k=(v.get(g)||0)+1,w=(h.get(g)||0)+1;v.set(g,k),h.set(g,w),m.push(g),k===1&&d&&et.add(g),w===1&&g.setAttribute(r,""),!d&&s&&g.setAttribute(s,s==="inert"?"":"true")}})}return vt+=1,()=>{m.forEach(f=>{const g=tn(s),d=(g.get(f)||0)-1,v=(h.get(f)||0)-1;g.set(f,d),h.set(f,v),d||(!et.has(f)&&s&&f.removeAttribute(s),et.delete(f)),v||f.removeAttribute(r)}),vt-=1,vt||(Ae.inert=new WeakMap,Ae["aria-hidden"]=new WeakMap,Ae.none=new WeakMap,et=new WeakSet,tt={})}}function fr(e,t=!1,n=!1){const o=ce(e[0]).body;return lr(e.concat(Array.from(o.querySelectorAll("[aria-live]"))),o,t,n)}const Nn=c.createContext(null),Bn=()=>c.useContext(Nn),nn=je("portal");function dr(e={}){const{id:t,root:n}=e,o=Ke(),r=Bn(),[s,i]=c.useState(null),u=c.useRef(null);return ne(()=>()=>{s?.remove(),queueMicrotask(()=>{u.current=null})},[s]),ne(()=>{if(!o||u.current)return;const a=t?document.getElementById(t):null;if(!a)return;const m=document.createElement("div");m.id=o,m.setAttribute(nn,""),a.appendChild(m),u.current=m,i(m)},[t,o]),ne(()=>{if(n===null||!o||u.current)return;let a=n||r?.portalNode;a&&!fo(a)&&(a=a.current),a=a||document.body;let m=null;t&&(m=document.createElement("div"),m.id=t,a.appendChild(m));const h=document.createElement("div");h.id=o,h.setAttribute(nn,""),a=m||a,a.appendChild(h),u.current=h,i(h)},[t,n,o,r]),s}function pr(e){const{children:t,id:n,root:o,preserveTabOrder:r=!0}=e,s=dr({id:n,root:o}),[i,u]=c.useState(null),a=c.useRef(null),m=c.useRef(null),h=c.useRef(null),P=c.useRef(null),E=i?.modal,f=i?.open,g=!!i&&!i.modal&&i.open&&r&&!!(o||s);return c.useEffect(()=>{if(!s||!r||E)return;function y(d){s&&$e(d)&&(d.type==="focusin"?zt:Xo)(s)}return s.addEventListener("focusin",y,!0),s.addEventListener("focusout",y,!0),()=>{s.removeEventListener("focusin",y,!0),s.removeEventListener("focusout",y,!0)}},[s,r,E]),c.useEffect(()=>{s&&(f||zt(s))},[f,s]),te.jsxs(Nn.Provider,{value:c.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:a,afterOutsideRef:m,beforeInsideRef:h,afterInsideRef:P,portalNode:s,setFocusManagerState:u}),[r,s]),children:[g&&s&&te.jsx(st,{"data-type":"outside",ref:a,onFocus:y=>{if($e(y,s))h.current?.focus();else{const d=i?i.domReference:null;Tn(d)?.focus()}}}),g&&s&&te.jsx("span",{"aria-owns":s.id,style:It}),s&&ct.createPortal(t,s),g&&s&&te.jsx(st,{"data-type":"outside",ref:m,onFocus:y=>{if($e(y,s))P.current?.focus();else{const d=i?i.domReference:null;kn(d)?.focus(),i?.closeOnFocusOut&&i?.onOpenChange(!1,le("focus-out",y.nativeEvent))}}})]})}function mr(e,t){const n=at(e.target);return e instanceof n.KeyboardEvent?"keyboard":e instanceof n.FocusEvent?t||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof n.MouseEvent?t||(e.detail===0?"keyboard":"mouse"):""}const on=20;let we=[];function Mt(){we=we.filter(e=>e.isConnected)}function gr(e){Mt(),e&&bn(e)!=="body"&&(we.push(e),we.length>on&&(we=we.slice(-on)))}function Et(){return Mt(),we[we.length-1]}function hr(e){if(!e)return null;const t=Ye();return yn(e,t)?e:ut(e,t)[0]||e}function rn(e,t){if(!t.current.includes("floating")&&!e.getAttribute("role")?.includes("dialog"))return;const n=Ye(),r=po(e,n).filter(i=>{const u=i.getAttribute("data-tabindex")||"";return yn(i,n)||i.hasAttribute("data-tabindex")&&!u.startsWith("-")}),s=e.getAttribute("tabindex");t.current.includes("floating")||r.length===0?s!=="0"&&e.setAttribute("tabindex","0"):(s!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function br(e){const{context:t,children:n,disabled:o=!1,order:r=["content"],initialFocus:s=!0,returnFocus:i=!0,restoreFocus:u=!1,modal:a=!0,closeOnFocusOut:m=!0,openInteractionType:h="",getInsideElements:P=()=>[]}=e,{open:E,onOpenChange:f,events:g,dataRef:y,elements:{domReference:d,floating:v}}=t,k=K(()=>y.current.floatingContext?.nodeId),w=K(P),b=s===!1,A=Xt(d)&&b,S=me(r),_=me(s),V=me(i),Z=me(h),W=qe(),N=Bn(),D=c.useRef(null),p=c.useRef(null),M=c.useRef(!1),L=c.useRef(!1),X=c.useRef(-1),R=c.useRef(""),C=c.useRef(""),U=Pe(),Q=Pe(),ee=Ot(),H=N!=null,x=xt(v),z=K((T=x)=>T?ut(T,Ye()):[]),re=K(T=>{const O=z(T);return S.current.map(()=>O).filter(Boolean).flat()});c.useEffect(()=>{if(o||!a)return;function T(j){j.key==="Tab"&&ie(x,Me(ce(x)))&&z().length===0&&!A&&Yo(j)}const O=ce(x);return O.addEventListener("keydown",T),()=>{O.removeEventListener("keydown",T)}},[o,d,x,a,S,A,z,re]),c.useEffect(()=>{if(o||!v)return;function T(O){const j=be(O),Y=z().indexOf(j);Y!==-1&&(X.current=Y)}return v.addEventListener("focusin",T),()=>{v.removeEventListener("focusin",T)}},[o,v,z]),c.useEffect(()=>{if(o||!E)return;const T=ce(x);function O(J){C.current=J.pointerType||"keyboard"}function j(){C.current="keyboard"}return T.addEventListener("pointerdown",O,!0),T.addEventListener("keydown",j,!0),()=>{T.removeEventListener("pointerdown",O,!0),T.removeEventListener("keydown",j,!0)}},[o,v,d,x,E]),c.useEffect(()=>{if(o||!m)return;function T(){L.current=!0,Q.start(0,()=>{L.current=!1})}function O(J){const Y=J.relatedTarget,I=J.currentTarget,q=be(J);queueMicrotask(()=>{const ue=k(),ae=!(ie(d,Y)||ie(v,Y)||ie(Y,v)||ie(N?.portalNode,Y)||Y?.hasAttribute(je("focus-guard"))||W&&(Ce(W.nodesRef.current,ue).find(se=>ie(se.context?.elements.floating,Y)||ie(se.context?.elements.domReference,Y))||Gt(W.nodesRef.current,ue).find(se=>[se.context?.elements.floating,xt(se.context?.elements.floating)].includes(Y)||se.context?.elements.domReference===Y)));if(I===d&&x&&rn(x,S),u&&I!==d&&!q?.isConnected&&Me(ce(x))===ce(x).body){if(Re(x)&&(x.focus(),u==="popup")){ee.request(()=>{x.focus()});return}const se=X.current,ge=z(),xe=ge[se]||ge[ge.length-1]||x;Re(xe)&&xe.focus()}if(y.current.insideReactTree){y.current.insideReactTree=!1;return}(A||!a)&&Y&&ae&&(A||Y!==Et())&&(M.current=!0,f(!1,le("focus-out",J)))})}function j(){y.current.insideReactTree=!0,U.start(0,()=>{y.current.insideReactTree=!1})}if(v&&Re(d))return d.addEventListener("focusout",O),d.addEventListener("pointerdown",T),v.addEventListener("focusout",O),N&&v.addEventListener("focusout",j,!0),()=>{d.removeEventListener("focusout",O),d.removeEventListener("pointerdown",T),v.removeEventListener("focusout",O),N&&v.removeEventListener("focusout",j,!0)}},[o,d,v,x,a,W,N,f,m,u,z,A,k,S,y,U,Q,ee]);const l=c.useRef(null),F=c.useRef(null),G=rt(l,N?.beforeInsideRef),B=rt(F,N?.afterInsideRef);c.useEffect(()=>{if(o||!v||!E)return;const T=Array.from(N?.portalNode?.querySelectorAll(`[${je("portal")}]`)||[]),j=(W?Gt(W.nodesRef.current,k()):[]).find(I=>Xt(I.context?.elements.domReference||null))?.context?.elements.domReference,J=[v,j,...T,...w(),D.current,p.current,l.current,F.current,N?.beforeOutsideRef.current,N?.afterOutsideRef.current,A?d:null].filter(I=>I!=null),Y=fr(J,a||A);return()=>{Y()}},[E,o,d,v,a,S,N,A,W,k,w]),ne(()=>{if(o||!Re(x))return;const T=ce(x),O=Me(T);queueMicrotask(()=>{const j=re(x),J=_.current,Y=typeof J=="function"?J(Z.current||""):J;if(Y===void 0||Y===!1)return;let I;Y===!0||Y===null?I=j[0]||x:"current"in Y?I=Y.current:I=Y,I=I||j[0]||x,!ie(x,O)&&E&&yt(I,{preventScroll:I===x})})},[o,E,x,b,re,_,Z]),ne(()=>{if(o||!x)return;const T=ce(x),O=Me(T);gr(O);function j(I){if(I.open||(R.current=mr(I.nativeEvent,C.current)),I.reason==="trigger-hover"&&I.nativeEvent.type==="mouseleave"&&(M.current=!0),I.reason==="outside-press")if(I.nested)M.current=!1;else if(qo(I.nativeEvent)||Vo(I.nativeEvent))M.current=!1;else{let q=!1;document.createElement("div").focus({get preventScroll(){return q=!0,!1}}),q?M.current=!1:M.current=!0}}g.on("openchange",j);const J=T.createElement("span");J.setAttribute("tabindex","-1"),J.setAttribute("aria-hidden","true"),Object.assign(J.style,It),H&&d&&d.insertAdjacentElement("afterend",J);function Y(){const I=V.current;let q=typeof I=="function"?I(R.current):I;if(q===void 0||q===!1)return null;if(q===null&&(q=!0),typeof q=="boolean"){const ae=d||Et();return ae&&ae.isConnected?ae:J}const ue=d||Et()||J;return"current"in q?q.current||ue:q||ue}return()=>{g.off("openchange",j);const I=Me(T),q=ie(v,I)||W&&Ce(W.nodesRef.current,k(),!1).some(ae=>ie(ae.context?.elements.floating,I)),ue=Y();queueMicrotask(()=>{const ae=hr(ue),se=typeof V.current!="boolean";V.current&&!M.current&&Re(ae)&&(!(!se&&ae!==I&&I!==T.body)||q)&&ae.focus({preventScroll:!0}),J.remove()})}},[o,v,x,V,y,g,W,H,d,k]),c.useEffect(()=>{queueMicrotask(()=>{M.current=!1})},[o]),c.useEffect(()=>{if(o||!E)return;function T(j){be(j)?.closest(`[${An}]`)&&(L.current=!0)}const O=ce(x);return O.addEventListener("pointerdown",T,!0),()=>{O.removeEventListener("pointerdown",T,!0)}},[o,E,x]),ne(()=>{if(!o&&N)return N.setFocusManagerState({modal:a,closeOnFocusOut:m,open:E,onOpenChange:f,domReference:d}),()=>{N.setFocusManagerState(null)}},[o,N,a,E,f,m,d]),ne(()=>{if(!(o||!x))return rn(x,S),()=>{queueMicrotask(Mt)}},[o,x,S]);const $=!o&&(a?!A:!0)&&(H||a);return te.jsxs(c.Fragment,{children:[$&&te.jsx(st,{"data-type":"inside",ref:G,onFocus:T=>{if(a){const O=re();yt(O[O.length-1])}else N?.preserveTabOrder&&N.portalNode&&(M.current=!1,$e(T,N.portalNode)?kn(d)?.focus():N.beforeOutsideRef.current?.focus())}}),n,$&&te.jsx(st,{"data-type":"inside",ref:B,onFocus:T=>{a?yt(re()[0]):N?.preserveTabOrder&&N.portalNode&&(m&&(M.current=!0),$e(T,N.portalNode)?Tn(d)?.focus():N.afterOutsideRef.current?.focus())}})]})}function yr(e,t={}){const{open:n,onOpenChange:o,dataRef:r}=e,{enabled:s=!0,event:i="click",toggle:u=!0,ignoreMouse:a=!1,stickIfOpen:m=!0,touchOpenDelay:h=0}=t,P=c.useRef(void 0),E=Ot(),f=Pe(),g=c.useMemo(()=>({onPointerDown(y){P.current=y.pointerType},onMouseDown(y){const d=P.current,v=y.nativeEvent;if(y.button!==0||i==="click"||We(d,!0)&&a)return;const k=r.current.openEvent,w=k?.type,b=!(n&&u&&(!(k&&m)||w==="click"||w==="mousedown"));if(Cn(v.target)){const A=le("trigger-press",v);b&&d==="touch"&&h>0?f.start(h,()=>{o(!0,A)}):o(b,A);return}E.request(()=>{const A=le("trigger-press",v);b&&d==="touch"&&h>0?f.start(h,()=>{o(!0,A)}):o(b,A)})},onClick(y){if(i==="mousedown-only")return;const d=P.current;if(i==="mousedown"&&d){P.current=void 0;return}if(We(d,!0)&&a)return;const v=r.current.openEvent,k=v?.type,w=!(n&&u&&(!(v&&m)||k==="click"||k==="mousedown"||k==="keydown"||k==="keyup")),b=le("trigger-press",y.nativeEvent);w&&d==="touch"&&h>0?f.start(h,()=>{o(!0,b)}):o(w,b)},onKeyDown(){P.current=void 0}}),[r,i,a,o,n,m,u,E,f,h]);return c.useMemo(()=>s?{reference:g}:Ee,[s,g])}const vr={intentional:"onClick",sloppy:"onPointerDown"};function sn(e){return{escapeKey:typeof e=="boolean"?e:e?.escapeKey??!1,outsidePress:typeof e=="boolean"?e:e?.outsidePress??!0}}function Er(e,t={}){const{open:n,onOpenChange:o,elements:r,dataRef:s}=e,{enabled:i=!0,escapeKey:u=!0,outsidePress:a=!0,outsidePressEvent:m="sloppy",referencePress:h=!1,referencePressEvent:P="sloppy",ancestorScroll:E=!1,bubbles:f,capture:g}=t,y=qe(),d=K(typeof a=="function"?a:()=>!1),v=typeof a=="function"?d:a,k=c.useRef(!1),{escapeKey:w,outsidePress:b}=sn(f),{escapeKey:A,outsidePress:S}=sn(g),_=c.useRef(null),V=Pe(),Z=Pe(),W=c.useRef(!1),N=c.useRef(""),D=K(l=>{N.current=l.pointerType}),p=K(()=>{const l=N.current,F=l==="pen"||!l?"mouse":l,G=typeof m=="function"?m():m;return typeof G=="string"?G:G[F]}),M=K(l=>{if(!n||!i||!u||l.key!=="Escape"||W.current)return;const F=s.current.floatingContext?.nodeId,G=y?Ce(y.nodesRef.current,F):[];if(!w&&G.length>0){let T=!0;if(G.forEach(O=>{O.context?.open&&!O.context.dataRef.current.__escapeKeyBubbles&&(T=!1)}),!T)return}const B=Ko(l)?l.nativeEvent:l,$=le("escape-key",B);o(!1,$),!w&&!$.isPropagationAllowed&&l.stopPropagation()}),L=K(l=>{const F=p();return F==="intentional"&&l.type!=="click"||F==="sloppy"&&l.type==="click"}),X=K(l=>{const F=()=>{M(l),be(l)?.removeEventListener("keydown",F)};be(l)?.addEventListener("keydown",F)}),R=K((l,F=!1)=>{if(L(l))return;const G=s.current.insideReactTree;if(s.current.insideReactTree=!1,p()==="intentional"&&F||G||typeof v=="function"&&!v(l))return;const B=be(l),$=`[${je("inert")}]`,T=ce(r.floating).querySelectorAll($);let O=de(B)?B:null;for(;O&&!dt(O);){const I=mo(O);if(dt(I)||!de(I))break;O=I}if(T.length&&de(B)&&!jo(B)&&!ie(B,r.floating)&&Array.from(T).every(I=>!ie(O,I)))return;if(Re(B)){const I=dt(B),q=go(B),ue=/auto|scroll/,ae=I||ue.test(q.overflowX),se=I||ue.test(q.overflowY),ge=ae&&B.clientWidth>0&&B.scrollWidth>B.clientWidth,xe=se&&B.clientHeight>0&&B.scrollHeight>B.clientHeight,Xe=q.direction==="rtl",Te=xe&&(Xe?l.offsetX<=B.offsetWidth-B.clientWidth:l.offsetX>B.clientWidth),Ge=ge&&l.offsetY>B.clientHeight;if(Te||Ge)return}const j=s.current.floatingContext?.nodeId,J=y&&Ce(y.nodesRef.current,j).some(I=>ve(l,I.context?.elements.floating));if(ve(l,r.floating)||ve(l,r.domReference)||J)return;const Y=y?Ce(y.nodesRef.current,j):[];if(Y.length>0){let I=!0;if(Y.forEach(q=>{q.context?.open&&!q.context.dataRef.current.__outsidePressBubbles&&(I=!1)}),!I)return}o(!1,le("outside-press",l))}),C=K(l=>{if(!(p()!=="sloppy"||!n||!i||ve(l,r.floating)||ve(l,r.domReference))){if(l.pointerType==="touch"){_.current={startTime:Date.now(),startX:l.clientX,startY:l.clientY,dismissOnPointerUp:!1,dismissOnMouseDown:!0},V.start(1e3,()=>{_.current&&(_.current.dismissOnPointerUp=!1,_.current.dismissOnMouseDown=!1)});return}R(l)}}),U=K(l=>{const F=k.current;if(k.current=!1,L(l)||(V.clear(),l.type==="mousedown"&&_.current&&!_.current.dismissOnMouseDown))return;const G=()=>{l.type==="pointerdown"?C(l):R(l,F),be(l)?.removeEventListener(l.type,G)};be(l)?.addEventListener(l.type,G)}),Q=K(l=>{if(p()!=="sloppy"||l.pointerType!=="touch"||!_.current||ve(l,r.floating)||ve(l,r.domReference))return;const F=Math.abs(l.clientX-_.current.startX),G=Math.abs(l.clientY-_.current.startY),B=Math.sqrt(F*F+G*G);B>5&&(_.current.dismissOnPointerUp=!0),B>10&&(R(l),V.clear(),_.current=null)}),ee=K(l=>{p()!=="sloppy"||l.pointerType!=="touch"||!_.current||ve(l,r.floating)||ve(l,r.domReference)||(_.current.dismissOnPointerUp&&R(l),V.clear(),_.current=null)});c.useEffect(()=>{if(!n||!i)return;s.current.__escapeKeyBubbles=w,s.current.__outsidePressBubbles=b;const l=new Se;function F(O){o(!1,le("none",O))}function G(){l.clear(),W.current=!0}function B(){l.start(ho()?5:0,()=>{W.current=!1})}const $=ce(r.floating);$.addEventListener("pointerdown",D,!0),u&&($.addEventListener("keydown",A?X:M,A),$.addEventListener("compositionstart",G),$.addEventListener("compositionend",B)),v&&($.addEventListener("click",S?U:R,S),$.addEventListener("pointerdown",S?U:R,S),$.addEventListener("pointermove",Q,S),$.addEventListener("pointerup",ee,S),$.addEventListener("mousedown",U,S));let T=[];return E&&(de(r.domReference)&&(T=pt(r.domReference)),de(r.floating)&&(T=T.concat(pt(r.floating))),!de(r.reference)&&r.reference&&r.reference.contextElement&&(T=T.concat(pt(r.reference.contextElement)))),T=T.filter(O=>O!==$.defaultView?.visualViewport),T.forEach(O=>{O.addEventListener("scroll",F,{passive:!0})}),()=>{$.removeEventListener("pointerdown",D,!0),u&&($.removeEventListener("keydown",A?X:M,A),$.removeEventListener("compositionstart",G),$.removeEventListener("compositionend",B)),v&&($.removeEventListener("click",S?U:R,S),$.removeEventListener("pointerdown",S?U:R,S),$.removeEventListener("pointermove",Q,S),$.removeEventListener("pointerup",ee,S),$.removeEventListener("mousedown",U,S)),T.forEach(O=>{O.removeEventListener("scroll",F)}),l.clear()}},[s,r,u,v,n,o,E,i,w,b,M,A,X,R,S,U,C,Q,ee,D]),c.useEffect(()=>{s.current.insideReactTree=!1},[s,v]);const H=c.useMemo(()=>({onKeyDown:M,...h&&{[vr[P]]:l=>{o(!1,le("trigger-press",l.nativeEvent))},...P!=="intentional"&&{onClick(l){o(!1,le("trigger-press",l.nativeEvent))}}}}),[M,o,h,P]),x=K(l=>{const F=be(l.nativeEvent);!ie(r.floating,F)||l.button!==0||(k.current=!0)}),z=K(()=>{s.current.insideReactTree=!0,Z.start(0,()=>{s.current.insideReactTree=!1})}),re=c.useMemo(()=>({onKeyDown:M,onMouseDown:x,onMouseUp:x,onPointerDownCapture:z,onMouseDownCapture:z,onClickCapture:z,onMouseUpCapture:z}),[M,x,z]);return c.useMemo(()=>i?{reference:H,floating:re}:{},[i,H,re])}function Hn(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=Ke(),s=c.useRef({}),[i]=c.useState(()=>In()),u=Fe()!=null,[a,m]=c.useState(o.reference),h=K((f,g)=>{if(s.current.openEvent=f?g.event:void 0,!e.noEmit){const y={open:f,reason:g.reason,nativeEvent:g.event,nested:u};i.emit("openchange",y)}n?.(f,g)}),P=c.useMemo(()=>({setPositionReference:m}),[]),E=c.useMemo(()=>({reference:a||o.reference||null,floating:o.floating||null,domReference:o.reference}),[a,o.reference,o.floating]);return c.useMemo(()=>({dataRef:s,open:t,onOpenChange:h,elements:E,events:i,floatingId:r,refs:P}),[t,h,E,i,r,P])}function Rr(e={}){const{nodeId:t}=e,n=Hn({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[s,i]=c.useState(null),[u,a]=c.useState(null),h=r?.domReference||s,P=c.useRef(null),E=qe();ne(()=>{h&&(P.current=h)},[h]);const f=bo({...e,elements:{...r,...u&&{reference:u}}}),g=c.useCallback(w=>{const b=de(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;a(b),f.refs.setReference(b)},[f.refs]),y=c.useCallback(w=>{(de(w)||w===null)&&(P.current=w,i(w)),(de(f.refs.reference.current)||f.refs.reference.current===null||w!==null&&!de(w))&&f.refs.setReference(w)},[f.refs]),d=c.useMemo(()=>({...f.refs,setReference:y,setPositionReference:g,domReference:P}),[f.refs,y,g]),v=c.useMemo(()=>({...f.elements,domReference:h}),[f.elements,h]),k=c.useMemo(()=>({...f,...o,refs:d,elements:v,nodeId:t}),[f,d,v,t,o]);return ne(()=>{o.dataRef.current.floatingContext=k;const w=E?.nodesRef.current.find(b=>b.id===t);w&&(w.context=k)}),c.useMemo(()=>({...f,context:k,refs:d,elements:v}),[f,d,v,k])}function wr(e=[]){const t=e.map(u=>u?.reference),n=e.map(u=>u?.floating),o=e.map(u=>u?.item),r=c.useCallback(u=>Rt(u,e,"reference"),t),s=c.useCallback(u=>Rt(u,e,"floating"),n),i=c.useCallback(u=>Rt(u,e,"item"),o);return c.useMemo(()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:i}),[r,s,i])}function Rt(e,t,n){const o=new Map,r=n==="item",s={};n==="floating"&&(s.tabIndex=-1,s[Pt]="");for(const i in e)r&&e&&(i===Pn||i===xn)||(s[i]=e[i]);for(let i=0;i<t.length;i+=1){let u;const a=t[i]?.[n];typeof a=="function"?u=e?a(e):null:u=a,u&&cn(s,u,r,o)}return cn(s,e,r,o),s}function cn(e,t,n,o){for(const r in t){const s=t[r];n&&(r===Pn||r===xn)||(r.startsWith("on")?(o.has(r)||o.set(r,[]),typeof s=="function"&&(o.get(r)?.push(s),e[r]=(...i)=>o.get(r)?.map(u=>u(...i)).find(u=>u!==void 0))):e[r]=s)}}const Pr=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function xr(e,t={}){const{open:n,elements:o,floatingId:r}=e,{enabled:s=!0,role:i="dialog"}=t,u=Ke(),a=o.domReference?.id||u,m=c.useMemo(()=>xt(o.floating)?.id||r,[o.floating,r]),h=Pr.get(i)??i,E=Fe()!=null,f=c.useMemo(()=>h==="tooltip"||i==="label"?{[`aria-${i==="label"?"labelledby":"describedby"}`]:n?m:void 0}:{"aria-expanded":n?"true":"false","aria-haspopup":h==="alertdialog"?"dialog":h,"aria-controls":n?m:void 0,...h==="listbox"&&{role:"combobox"},...h==="menu"&&{id:a},...h==="menu"&&E&&{role:"menuitem"},...i==="select"&&{"aria-autocomplete":"none"},...i==="combobox"&&{"aria-autocomplete":"list"}},[h,m,E,n,a,i]),g=c.useMemo(()=>{const d={id:m,...h&&{role:h}};return h==="tooltip"||i==="label"?d:{...d,...h==="menu"&&{"aria-labelledby":a}}},[h,m,a,i]),y=c.useCallback(({active:d,selected:v})=>{const k={role:"option",...d&&{id:`${m}-fui-option`}};switch(i){case"select":case"combobox":return{...k,"aria-selected":v}}return{}},[m,i]);return c.useMemo(()=>s?{reference:f,floating:g,item:y}:{},[s,f,g,y])}function un(e,t){const[n,o]=e;let r=!1;const s=t.length;for(let i=0,u=s-1;i<s;u=i++){const[a,m]=t[i]||[0,0],[h,P]=t[u]||[0,0];m>=o!=P>=o&&n<=(h-a)*(o-m)/(P-m)+a&&(r=!r)}return r}function Cr(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Sr(e={}){const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:o=!0}=e,r=new Se;let s=!1,i=null,u=null,a=typeof performance<"u"?performance.now():0;function m(P,E){const f=performance.now(),g=f-a;if(i===null||u===null||g===0)return i=P,u=E,a=f,null;const y=P-i,d=E-u,k=Math.sqrt(y*y+d*d)/g;return i=P,u=E,a=f,k}const h=({x:P,y:E,placement:f,elements:g,onClose:y,nodeId:d,tree:v})=>function(w){function b(){r.clear(),y()}if(r.clear(),!g.domReference||!g.floating||f==null||P==null||E==null)return;const{clientX:A,clientY:S}=w,_=[A,S],V=be(w),Z=w.type==="mouseleave",W=ie(g.floating,V),N=ie(g.domReference,V),D=g.domReference.getBoundingClientRect(),p=g.floating.getBoundingClientRect(),M=f.split("-")[0],L=P>p.right-p.width/2,X=E>p.bottom-p.height/2,R=Cr(_,D),C=p.width>D.width,U=p.height>D.height,Q=(C?D:p).left,ee=(C?D:p).right,H=(U?D:p).top,x=(U?D:p).bottom;if(W&&(s=!0,!Z))return;if(N&&(s=!1),N&&!Z){s=!0;return}if(Z&&de(w.relatedTarget)&&ie(g.floating,w.relatedTarget)||v&&Ce(v.nodesRef.current,d).some(({context:l})=>l?.open))return;if(M==="top"&&E>=D.bottom-1||M==="bottom"&&E<=D.top+1||M==="left"&&P>=D.right-1||M==="right"&&P<=D.left+1)return b();let z=[];switch(M){case"top":z=[[Q,D.top+1],[Q,p.bottom-1],[ee,p.bottom-1],[ee,D.top+1]];break;case"bottom":z=[[Q,p.top+1],[Q,D.bottom-1],[ee,D.bottom-1],[ee,p.top+1]];break;case"left":z=[[p.right-1,x],[p.right-1,H],[D.left+1,H],[D.left+1,x]];break;case"right":z=[[D.right-1,x],[D.right-1,H],[p.left+1,H],[p.left+1,x]];break}function re([l,F]){switch(M){case"top":{const G=[C?l+t/2:L?l+t*4:l-t*4,F+t+1],B=[C?l-t/2:L?l+t*4:l-t*4,F+t+1],$=[[p.left,L||C?p.bottom-t:p.top],[p.right,L?C?p.bottom-t:p.top:p.bottom-t]];return[G,B,...$]}case"bottom":{const G=[C?l+t/2:L?l+t*4:l-t*4,F-t],B=[C?l-t/2:L?l+t*4:l-t*4,F-t],$=[[p.left,L||C?p.top+t:p.bottom],[p.right,L?C?p.top+t:p.bottom:p.top+t]];return[G,B,...$]}case"left":{const G=[l+t+1,U?F+t/2:X?F+t*4:F-t*4],B=[l+t+1,U?F-t/2:X?F+t*4:F-t*4];return[...[[X||U?p.right-t:p.left,p.top],[X?U?p.right-t:p.left:p.right-t,p.bottom]],G,B]}case"right":{const G=[l-t,U?F+t/2:X?F+t*4:F-t*4],B=[l-t,U?F-t/2:X?F+t*4:F-t*4],$=[[X||U?p.left+t:p.right,p.top],[X?U?p.left+t:p.right:p.left+t,p.bottom]];return[G,B,...$]}default:return[]}}if(!un([A,S],z)){if(s&&!R)return b();if(!Z&&o){const l=m(w.clientX,w.clientY);if(l!==null&&l<.1)return b()}un([A,S],re([P,E]))?!s&&o&&r.start(40,b):b()}};return h.__options={blockPointerEvents:n},h}function kr(e,t=!1,n=!1){const[o,r]=c.useState(e&&t?"idle":void 0),[s,i]=c.useState(e);return e&&!s&&(i(!0),r("starting")),!e&&s&&o!=="ending"&&!n&&r("ending"),!e&&!s&&o==="ending"&&r(void 0),ne(()=>{if(!e&&s&&o!=="ending"&&n){const u=ye.request(()=>{r("ending")});return()=>{ye.cancel(u)}}},[e,s,o,n]),ne(()=>{if(!e||t)return;const u=ye.request(()=>{ct.flushSync(()=>{r(void 0)})});return()=>{ye.cancel(u)}},[t,e]),ne(()=>{if(!e||!t)return;e&&s&&o!=="idle"&&r("starting");const u=ye.request(()=>{r("idle")});return()=>{ye.cancel(u)}},[t,e,s,r,o]),c.useMemo(()=>({mounted:s,setMounted:i,transitionStatus:o}),[s,o])}const Tr=300;function Ir(e){const t=c.useRef(""),n=c.useCallback(r=>{r.defaultPrevented||(t.current=r.pointerType,e(r,r.pointerType))},[e]);return{onClick:c.useCallback(r=>{if(r.detail===0){e(r,"keyboard");return}"pointerType"in r&&e(r,r.pointerType),e(r,t.current),t.current=""},[e]),onPointerDown:n}}function Or(e){const[t,n]=c.useState(null),o=K((u,a)=>{e||n(a)}),r=K(()=>{n(null)}),{onClick:s,onPointerDown:i}=Ir(o);return c.useMemo(()=>({openMethod:t,reset:r,triggerProps:{onClick:s,onPointerDown:i}}),[t,r,s,i])}function Mr(e,t=!1){const n=Ot();return K((o,r=null)=>{if(n.cancel(),e==null)return;let s;if("current"in e){if(e.current==null)return;s=e.current}else s=e;typeof s.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?o():n.request(()=>{function i(){s&&Promise.allSettled(s.getAnimations().map(u=>u.finished)).then(()=>{r!=null&&r.aborted||ct.flushSync(o)})}t?n.request(i):i()})})}function Un(e){const{enabled:t=!0,open:n,ref:o,onComplete:r}=e,s=me(n),i=K(r),u=Mr(o,n);c.useEffect(()=>{t&&u(()=>{n===s.current&&i()})},[t,n,i,u,s])}let an={},ln={},fn="";function Ar(e){if(typeof document>"u")return!1;const t=Ne(e);return at(t).innerWidth-t.documentElement.clientWidth>0}function Lr(e){const n=Ne(e).documentElement,o=n.style.overflow;return n.style.overflow="hidden",()=>{n.style.overflow=o}}function Dr(e){const t=Ne(e),n=t.documentElement,o=t.body,r=at(n);let s=0,i=0;const u=ye.create();if(wn&&(r.visualViewport?.scale??1)!==1)return()=>{};function a(){const P=r.getComputedStyle(n),E=r.getComputedStyle(o);s=n.scrollTop,i=n.scrollLeft,an={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},fn=n.style.scrollBehavior,ln={position:o.style.position,height:o.style.height,width:o.style.width,boxSizing:o.style.boxSizing,overflowY:o.style.overflowY,overflowX:o.style.overflowX,scrollBehavior:o.style.scrollBehavior};const f=typeof CSS<"u"&&CSS.supports?.("scrollbar-gutter","stable"),g=n.scrollHeight>n.clientHeight,y=n.scrollWidth>n.clientWidth,d=P.overflowY==="scroll"||E.overflowY==="scroll",v=P.overflowX==="scroll"||E.overflowX==="scroll",k=Math.max(0,r.innerWidth-n.clientWidth),w=Math.max(0,r.innerHeight-n.clientHeight),b=parseFloat(E.marginTop)+parseFloat(E.marginBottom),A=parseFloat(E.marginLeft)+parseFloat(E.marginRight);Object.assign(n.style,{scrollbarGutter:"stable",overflowY:!f&&(g||d)?"scroll":"hidden",overflowX:!f&&(y||v)?"scroll":"hidden"}),Object.assign(o.style,{position:"relative",height:b||w?`calc(100dvh - ${b+w}px)`:"100dvh",width:A||k?`calc(100vw - ${A+k}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),o.scrollTop=s,o.scrollLeft=i,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function m(){Object.assign(n.style,an),Object.assign(o.style,ln),n.scrollTop=s,n.scrollLeft=i,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=fn}function h(){m(),u.request(a)}return a(),r.addEventListener("resize",h),()=>{u.cancel(),m(),r.removeEventListener("resize",h)}}class Fr{lockCount=0;restore=null;timeoutLock=Se.create();timeoutUnlock=Se.create();acquire(t){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(t)),this.release}release=()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)};unlock=()=>{this.lockCount===0&&this.restore&&(this.restore?.(),this.restore=null)};lock(t){if(this.lockCount===0||this.restore!==null)return;const o=Ne(t).documentElement,r=at(o).getComputedStyle(o).overflowY;if(r==="hidden"||r==="clip"){this.restore=er;return}const s=No||!Ar(t);this.restore=s?Lr(t):Dr(t)}}const Nr=new Fr;function Br(e){const{enabled:t=!0,mounted:n,open:o,referenceElement:r=null}=e;ne(()=>{if(t&&wn&&n&&!o){const s=Ne(r),i=s.body.style.userSelect,u=s.body.style.webkitUserSelect;return s.body.style.userSelect="none",s.body.style.webkitUserSelect="none",()=>{s.body.style.userSelect=i,s.body.style.webkitUserSelect=u}}},[t,n,o,r]),ne(()=>{if(t)return Nr.acquire(r)},[t,r])}const $n=c.createContext(void 0);function ke(e){const t=c.useContext($n);if(t===void 0&&!e)throw new Error("Base UI: PopoverRootContext is missing. Popover parts must be placed within <Popover.Root>.");return t}function _n(e,t){if(e&&!t)return e;if(!e&&t)return t;if(e||t)return{...e,...t}}const _e={};function At(e,t,n,o,r){let s={...Ct(e,_e)};return t&&(s=ot(s,t)),n&&(s=ot(s,n)),o&&(s=ot(s,o)),s}function Hr(e){if(e.length===0)return _e;if(e.length===1)return Ct(e[0],_e);let t={...Ct(e[0],_e)};for(let n=1;n<e.length;n+=1)t=ot(t,e[n]);return t}function ot(e,t){return Wn(t)?t(e):Ur(e,t)}function Ur(e,t){if(!t)return e;for(const n in t){const o=t[n];switch(n){case"style":{e[n]=_n(e.style,o);break}case"className":{e[n]=jn(e.className,o);break}default:$r(n,o)?e[n]=_r(e[n],o):e[n]=o}}return e}function $r(e,t){const n=e.charCodeAt(0),o=e.charCodeAt(1),r=e.charCodeAt(2);return n===111&&o===110&&r>=65&&r<=90&&(typeof t=="function"||typeof t>"u")}function Wn(e){return typeof e=="function"}function Ct(e,t){return Wn(e)?e(t):e??_e}function _r(e,t){return t?e?n=>{if(Wr(n)){const r=n;St(r);const s=t(r);return r.baseUIHandlerPrevented||e?.(r),s}const o=t(n);return e?.(n),o}:t:e}function St(e){return e.preventBaseUIHandler=()=>{e.baseUIHandlerPrevented=!0},e}function jn(e,t){return t?e?t+" "+e:t:e}function Wr(e){return e!=null&&typeof e=="object"&&"nativeEvent"in e}function dn({props:e}){const{open:t,onOpenChange:n,defaultOpen:o=!1,delay:r=Tr,closeDelay:s=0,openOnHover:i=!1,onOpenChangeComplete:u,modal:a=!1}=e,[m,h]=c.useState(),[P,E]=c.useState(),[f,g]=c.useState(),[y,d]=c.useState(null),[v,k]=c.useState(null),[w,b]=c.useState(null),[A,S]=c.useState(!0),_=c.useRef(null),V=c.useRef(null),Z=c.useRef(null),W=Pe(),N=Fe()!=null;let D;const[p,M]=Oo({controlled:t,default:o,name:"Popover",state:"open"}),{mounted:L,setMounted:X,transitionStatus:R}=kr(p),{openMethod:C,triggerProps:U,reset:Q}=Or(p),ee=K(()=>{X(!1),S(!0),b(null),u?.(!1),Q()});Un({enabled:!e.actionsRef,open:p,ref:Z,onComplete(){p||ee()}}),c.useImperativeHandle(e.actionsRef,()=>({unmount:ee}),[ee]),c.useEffect(()=>{p||W.clear()},[W,p]);const H=K((O,j)=>{const J=j.reason==="trigger-hover",Y=j.reason==="trigger-press"&&j.event.detail===0,I=!O&&(j.reason==="escape-key"||j.reason==="none");if(n?.(O,j),j.isCanceled)return;const q={open:O,nativeEvent:j.event,reason:j.reason,nested:N};D?.emit("openchange",q);function ue(){M(O),O&&b(j.reason)}J?(S(!0),W.start(tr,()=>{S(!1)}),ct.flushSync(ue)):ue(),h(Y||I?Y?"click":"dismiss":void 0)}),x=Hn({elements:{reference:y,floating:v},open:p,onOpenChange:H});D=x.events,Br({enabled:p&&a===!0&&w!=="trigger-hover"&&C!=="touch",mounted:L,open:p,referenceElement:v});const z=r,re=rr(x,{enabled:i&&(C!=="touch"||w!=="trigger-press"),mouseOnly:!0,move:!1,handleClose:Sr({blockPointerEvents:!0}),restMs:z,delay:{close:s}}),l=yr(x,{stickIfOpen:A}),F=Er(x,{outsidePressEvent:{mouse:a==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}}),G=xr(x),{getReferenceProps:B,getFloatingProps:$}=wr([re,l,F,G]),T=c.useMemo(()=>({open:p,setOpen:H,mounted:L,setMounted:X,transitionStatus:R,triggerElement:y,setTriggerElement:d,positionerElement:v,setPositionerElement:k,popupRef:Z,titleId:P,setTitleId:E,descriptionId:f,setDescriptionId:g,backdropRef:_,internalBackdropRef:V,triggerProps:At(B(),U),popupProps:$(),floatingRootContext:x,instantType:m,openMethod:C,openReason:w,onOpenChangeComplete:u,openOnHover:i,delay:r,closeDelay:s,modal:a}),[p,H,L,X,R,v,P,f,B,y,U,$,x,m,C,w,u,i,r,s,a]);return te.jsx($n.Provider,{value:T,children:e.children})}function Os(e){return ke(!0)?te.jsx(dn,{props:e}):te.jsx(Qo,{children:te.jsx(dn,{props:e})})}const jr=c.createContext(void 0);function Yr(e=!1){const t=c.useContext(jr);if(t===void 0&&!e)throw new Error("Base UI: CompositeRootContext is missing. Composite parts must be placed within <Composite.Root>.");return t}function Kr(e){const{focusableWhenDisabled:t,disabled:n,composite:o=!1,tabIndex:r=0,isNativeButton:s}=e,i=o&&t!==!1,u=o&&t===!1;return{props:c.useMemo(()=>{const m={onKeyDown(h){n&&t&&h.key!=="Tab"&&h.preventDefault()}};return o||(m.tabIndex=r,!s&&n&&(m.tabIndex=t?r:-1)),(s&&(t||i)||!s&&n)&&(m["aria-disabled"]=n),s&&(!t||u)&&(m.disabled=n),m},[o,n,t,i,u,s,r])}}function qr(e={}){const{disabled:t=!1,focusableWhenDisabled:n,tabIndex:o=0,native:r=!0}=e,s=c.useRef(null),i=Yr(!0)!==void 0,u=K(()=>{const E=s.current;return!!(E?.tagName==="A"&&E?.href)}),{props:a}=Kr({focusableWhenDisabled:n,disabled:t,composite:i,tabIndex:o,isNativeButton:r}),m=c.useCallback(()=>{const E=s.current;Vr(E)&&i&&t&&a.disabled===void 0&&E.disabled&&(E.disabled=!1)},[t,a.disabled,i]);ne(m,[m]);const h=c.useCallback((E={})=>{const{onClick:f,onMouseDown:g,onKeyUp:y,onKeyDown:d,onPointerDown:v,...k}=E;return At({type:r?"button":void 0,onClick(b){if(t){b.preventDefault();return}f?.(b)},onMouseDown(b){t||g?.(b)},onKeyDown(b){if(t||(St(b),d?.(b)),b.baseUIHandlerPrevented)return;const A=b.target===b.currentTarget&&!r&&!u()&&!t,S=b.key==="Enter",_=b.key===" ";A&&((_||S)&&b.preventDefault(),S&&f?.(b))},onKeyUp(b){t||(St(b),y?.(b)),!b.baseUIHandlerPrevented&&b.target===b.currentTarget&&!r&&!t&&b.key===" "&&f?.(b)},onPointerDown(b){if(t){b.preventDefault();return}v?.(b)}},r?void 0:{role:"button"},a,k)},[t,a,r,u]),P=K(E=>{s.current=E,m()});return{getButtonProps:h,buttonRef:P}}function Vr(e){return Re(e)&&e.tagName==="BUTTON"}let it=(function(e){return e.startingStyle="data-starting-style",e.endingStyle="data-ending-style",e})({});const Xr={[it.startingStyle]:""},Gr={[it.endingStyle]:""},zr={transitionStatus(e){return e==="starting"?Xr:e==="ending"?Gr:null}};let Lt=(function(e){return e.open="data-open",e.closed="data-closed",e[e.startingStyle=it.startingStyle]="startingStyle",e[e.endingStyle=it.endingStyle]="endingStyle",e.anchorHidden="data-anchor-hidden",e})({}),kt=(function(e){return e.popupOpen="data-popup-open",e.pressed="data-pressed",e})({});const Jr={[kt.popupOpen]:""},Zr={[kt.popupOpen]:"",[kt.pressed]:""},Qr={[Lt.open]:""},es={[Lt.closed]:""},ts={[Lt.anchorHidden]:""},ns={open(e){return e?Jr:null}},os={open(e){return e?Zr:null}},Dt={open(e){return e?Qr:es},anchorHidden(e){return e?ts:null}},rs=parseInt(c.version,10);function Yn(e){return rs>=e}function ss(e,t){const n={};for(const o in e){const r=e[o];if(t?.hasOwnProperty(o)){const s=t[o](r);s!=null&&Object.assign(n,s);continue}r===!0?n[`data-${o.toLowerCase()}`]="":r&&(n[`data-${o.toLowerCase()}`]=r.toString())}return n}function is(e,t){return typeof e=="function"?e(t):e}function Ve(e,t,n={}){const o=t.render,r=cs(t,n);if(n.enabled===!1)return null;const s=n.state??Ee;return us(e,o,r,s)}function cs(e,t={}){const{className:n,render:o}=e,{state:r=Ee,ref:s,props:i,stateAttributesMapping:u,enabled:a=!0}=t,m=a?is(n,r):void 0,h=a?ss(r,u):Ee,P=a?_n(h,Array.isArray(i)?Hr(i):i)??Ee:Ee;return typeof document<"u"&&(a?Array.isArray(s)?P.ref=sr([P.ref,pn(o),...s]):P.ref=rt(P.ref,pn(o),s):rt(null,null)),a?(m!==void 0&&(P.className=jn(P.className,m)),P):Ee}function us(e,t,n,o){if(t){if(typeof t=="function")return t(n,o);const r=At(n,t.props);return r.ref=n.ref,c.cloneElement(t,r)}if(e&&typeof e=="string")return as(e,n);throw new Error("Base UI: Render element or function are not defined.")}function as(e,t){return e==="button"?te.jsx("button",{type:"button",...t}):e==="img"?te.jsx("img",{alt:"",...t}):c.createElement(e,t)}function pn(e){return e&&typeof e!="function"?Yn(19)?e.props.ref:e.ref:null}const Ms=c.forwardRef(function(t,n){const{render:o,className:r,disabled:s=!1,nativeButton:i=!0,...u}=t,{open:a,setTriggerElement:m,triggerProps:h,openReason:P}=ke(),E=c.useMemo(()=>({disabled:s,open:a}),[s,a]),{getButtonProps:f,buttonRef:g}=qr({disabled:s,native:i}),y=c.useMemo(()=>({open(v){return v&&P==="trigger-press"?os.open(v):ns.open(v)}}),[P]);return Ve("button",t,{state:E,ref:[g,m,n],props:[h,{[An]:""},u,f],stateAttributesMapping:y})}),Kn=c.createContext(void 0);function ls(){const e=c.useContext(Kn);if(e===void 0)throw new Error("Base UI: <Popover.Portal> is missing.");return e}function As(e){const{children:t,keepMounted:n=!1,container:o}=e,{mounted:r}=ke();return r||n?te.jsx(Kn.Provider,{value:n,children:te.jsx(pr,{root:o,children:t})}):null}function fs(e){return Yn(19)?e:e?"true":void 0}const qn=c.createContext(void 0);function Vn(){const e=c.useContext(qn);if(!e)throw new Error("Base UI: PopoverPositionerContext is missing. PopoverPositioner parts must be placed within <Popover.Positioner>.");return e}const ds=c.createContext(void 0);function ps(e=!0){const t=c.useContext(ds);if(t===void 0&&!e)throw new Error("Base UI: DirectionContext is missing.");return t?.direction??"ltr"}const ms=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:s,platform:i,elements:u,middlewareData:a}=t,{element:m,padding:h=0,offsetParent:P="real"}=yo(e,t)||{};if(m==null)return{};const E=vo(h),f={x:n,y:o},g=Eo(r),y=wo(g),d=await i.getDimensions(m),v=g==="y",k=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",A=s.reference[y]+s.reference[g]-f[g]-s.floating[y],S=f[g]-s.reference[g],_=P==="real"?await i.getOffsetParent?.(m):u.floating;let V=u.floating[b]||s.floating[y];(!V||!await i.isElement?.(_))&&(V=u.floating[b]||s.floating[y]);const Z=A/2-S/2,W=V/2-d[y]/2-1,N=Math.min(E[k],W),D=Math.min(E[w],W),p=N,M=V-d[y]-D,L=V/2-d[y]/2+Z,X=Ro(p,L,M),R=!a.arrow&&Tt(r)!=null&&L!==X&&s.reference[y]/2-(L<p?N:D)-d[y]/2<0,C=R?L<p?L-p:L-M:0;return{[g]:f[g]+C,data:{[g]:X,centerOffset:L-X-C,...R&&{alignmentOffset:C}},reset:R}}}),gs=(e,t)=>({...ms(e),options:[e,t]});function Xn(e,t,n){const o=e==="inline-start"||e==="inline-end";return{top:"top",right:o?n?"inline-start":"inline-end":"right",bottom:"bottom",left:o?n?"inline-end":"inline-start":"left"}[t]}function mn(e,t,n){const{rects:o,placement:r}=e;return{side:Xn(t,nt(r),n),align:Tt(r)||"center",anchor:{width:o.reference.width,height:o.reference.height},positioner:{width:o.floating.width,height:o.floating.height}}}function hs(e){const{anchor:t,positionMethod:n="absolute",side:o="bottom",sideOffset:r=0,align:s="center",alignOffset:i=0,collisionBoundary:u,collisionPadding:a=5,sticky:m=!1,arrowPadding:h=5,trackAnchor:P=!0,keepMounted:E=!1,floatingRootContext:f,mounted:g,collisionAvoidance:y,shiftCrossAxis:d=!1,nodeId:v,adaptiveOrigin:k,lazyFlip:w=!1}=e,[b,A]=c.useState(null);!g&&b!==null&&A(null);const S=y.side||"flip",_=y.align||"flip",V=y.fallbackAxisSide||"end",Z=typeof t=="function"?t:void 0,W=K(Z),N=Z?W:t,D=me(t),M=ps()==="rtl",L=b||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":M?"left":"right","inline-start":M?"right":"left"}[o],X=s==="center"?L:`${L}-${s}`;let R=a;const C=1,U=o==="bottom"?C:0,Q=o==="top"?C:0,ee=o==="right"?C:0,H=o==="left"?C:0;typeof R=="number"?R={top:R+U,right:R+H,bottom:R+Q,left:R+ee}:R&&(R={top:(R.top||0)+U,right:(R.right||0)+H,bottom:(R.bottom||0)+Q,left:(R.left||0)+ee});const x={boundary:u==="clipping-ancestors"?"clippingAncestors":u,padding:R},z=c.useRef(null),re=me(r),l=me(i),B=[xo(oe=>{const fe=mn(oe,o,M),he=typeof re.current=="function"?re.current(fe):re.current,pe=typeof l.current=="function"?l.current(fe):l.current;return{mainAxis:he,crossAxis:pe,alignmentAxis:pe}},[typeof r!="function"?r:0,typeof i!="function"?i:0,M,o])],$=_==="none"&&S!=="shift",T=!$&&(m||d||S==="shift"),O=S==="none"?null:Po({...x,padding:{top:R.top+C,right:R.right+C,bottom:R.bottom+C,left:R.left+C},mainAxis:!d&&S==="flip",crossAxis:_==="flip"?"alignment":!1,fallbackAxisSideDirection:V}),j=$?null:ko(oe=>{const fe=Ne(oe.elements.floating).documentElement;return{...x,rootBoundary:d?{x:0,y:0,width:fe.clientWidth,height:fe.clientHeight}:void 0,mainAxis:_!=="none",crossAxis:T,limiter:m||d?void 0:To(he=>{if(!z.current)return{};const{width:pe,height:Ie}=z.current.getBoundingClientRect(),Oe=Kt(nt(he.placement)),Je=Oe==="y"?pe:Ie,lt=Oe==="y"?R.left+R.right:R.top+R.bottom;return{offset:Je/2+lt/2}})}},[x,m,d,R,_]);S==="shift"||_==="shift"||s==="center"?B.push(j,O):B.push(O,j),B.push(Co({...x,apply({elements:{floating:oe},rects:{reference:fe},availableWidth:he,availableHeight:pe}){Object.entries({"--available-width":`${he}px`,"--available-height":`${pe}px`,"--anchor-width":`${fe.width}px`,"--anchor-height":`${fe.height}px`}).forEach(([Ie,Oe])=>{oe.style.setProperty(Ie,Oe)})}}),gs(()=>({element:z.current||document.createElement("div"),padding:h,offsetParent:"floating"}),[h]),So(),{name:"transformOrigin",fn(oe){const{elements:fe,middlewareData:he,placement:pe,rects:Ie,y:Oe}=oe,Je=nt(pe),lt=Kt(Je),jt=z.current,to=he.arrow?.x||0,no=he.arrow?.y||0,oo=jt?.clientWidth||0,ro=jt?.clientHeight||0,ft=to+oo/2,Yt=no+ro/2,so=Math.abs(he.shift?.y||0),io=Ie.reference.height/2,He=typeof r=="function"?r(mn(oe,o,M)):r,co=so>He,uo={top:`${ft}px calc(100% + ${He}px)`,bottom:`${ft}px ${-He}px`,left:`calc(100% + ${He}px) ${Yt}px`,right:`${-He}px ${Yt}px`}[Je],ao=`${ft}px ${Ie.reference.y+io-Oe}px`;return fe.floating.style.setProperty("--transform-origin",T&&lt==="y"&&co?ao:uo),{}}},k);let J=f;!g&&f&&(J={...f,elements:{reference:null,floating:null,domReference:null}});const Y=c.useMemo(()=>({elementResize:P&&typeof ResizeObserver<"u",layoutShift:P&&typeof IntersectionObserver<"u"}),[P]),{refs:I,elements:q,x:ue,y:ae,middlewareData:se,update:ge,placement:xe,context:Xe,isPositioned:Te,floatingStyles:Ge}=Rr({rootContext:J,placement:X,middleware:B,strategy:n,whileElementsMounted:E?void 0:(...oe)=>qt(...oe,Y),nodeId:v}),{sideX:Ft,sideY:Nt}=se.adaptiveOrigin||{},Bt=c.useMemo(()=>k?{position:n,[Ft]:`${ue}px`,[Nt]:`${ae}px`}:Ge,[k,Ft,Nt,n,ue,ae,Ge]),ze=c.useRef(null);ne(()=>{if(!g)return;const oe=D.current,fe=typeof oe=="function"?oe():oe,pe=(gn(fe)?fe.current:fe)||null||null;pe!==ze.current&&(I.setPositionReference(pe),ze.current=pe)},[g,I,N,D]),c.useEffect(()=>{if(!g)return;const oe=D.current;typeof oe!="function"&&gn(oe)&&oe.current!==ze.current&&(I.setPositionReference(oe.current),ze.current=oe.current)},[g,I,N,D]),c.useEffect(()=>{if(E&&g&&q.domReference&&q.floating)return qt(q.domReference,q.floating,ge,Y)},[E,g,q,ge,Y]);const Be=nt(xe),Ht=Xn(o,Be,M),Ut=Tt(xe)||"center",$t=!!se.hide?.referenceHidden;ne(()=>{w&&g&&Te&&A(Be)},[w,g,Te,Be]);const _t=c.useMemo(()=>({position:"absolute",top:se.arrow?.y,left:se.arrow?.x}),[se.arrow]),Wt=se.arrow?.centerOffset!==0;return c.useMemo(()=>({positionerStyles:Bt,arrowStyles:_t,arrowRef:z,arrowUncentered:Wt,side:Ht,align:Ut,physicalSide:Be,anchorHidden:$t,refs:I,context:Xe,isPositioned:Te,update:ge}),[Bt,_t,z,Wt,Ht,Ut,Be,$t,I,Xe,Te,ge])}function gn(e){return e!=null&&"current"in e}const bs=c.forwardRef(function(t,n){const{cutout:o,...r}=t;let s;if(o){const i=o?.getBoundingClientRect();s=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${i.left}px ${i.top}px,
      ${i.left}px ${i.bottom}px,
      ${i.right}px ${i.bottom}px,
      ${i.right}px ${i.top}px,
      ${i.left}px ${i.top}px
    )`}return te.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...r,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:s}})}),Ls=c.forwardRef(function(t,n){const{render:o,className:r,anchor:s,positionMethod:i="absolute",side:u="bottom",align:a="center",sideOffset:m=0,alignOffset:h=0,collisionBoundary:P="clipping-ancestors",collisionPadding:E=5,arrowPadding:f=5,sticky:g=!1,trackAnchor:y=!0,collisionAvoidance:d=or,...v}=t,{floatingRootContext:k,open:w,mounted:b,setPositionerElement:A,modal:S,openReason:_,openMethod:V,triggerElement:Z,internalBackdropRef:W}=ke(),N=ls(),D=Jo(),p=hs({anchor:s,floatingRootContext:k,positionMethod:i,mounted:b,side:u,sideOffset:m,align:a,alignOffset:h,arrowPadding:f,collisionBoundary:P,collisionPadding:E,sticky:g,trackAnchor:y,keepMounted:N,nodeId:D,collisionAvoidance:d}),M=c.useMemo(()=>{const C={};return w||(C.pointerEvents="none"),{role:"presentation",hidden:!b,style:{...p.positionerStyles,...C}}},[w,b,p.positionerStyles]),L=c.useMemo(()=>({props:M,...p}),[M,p]),X=c.useMemo(()=>({open:w,side:L.side,align:L.align,anchorHidden:L.anchorHidden}),[w,L.side,L.align,L.anchorHidden]),R=Ve("div",t,{state:X,props:[L.props,v],ref:[n,A],stateAttributesMapping:Dt});return te.jsxs(qn.Provider,{value:L,children:[b&&S===!0&&_!=="trigger-hover"&&V!=="touch"&&te.jsx(bs,{ref:W,inert:fs(!w),cutout:Z}),te.jsx(Zo,{id:D,children:R})]})}),Gn="ArrowUp",zn="ArrowDown",Jn="ArrowLeft",Zn="ArrowRight",Qn="Home",eo="End",ys=new Set([Jn,Zn]),vs=new Set([Gn,zn]),Es=new Set([...ys,...vs]);[...Es];const Rs=new Set([Gn,zn,Jn,Zn,Qn,eo]),ws=c.createContext(void 0);function Ps(e){return c.useContext(ws)}const xs={...Dt,...zr},Ds=c.forwardRef(function(t,n){const{className:o,render:r,initialFocus:s,finalFocus:i,...u}=t,{open:a,instantType:m,transitionStatus:h,popupProps:P,titleId:E,descriptionId:f,popupRef:g,mounted:y,openReason:d,onOpenChangeComplete:v,modal:k,openMethod:w}=ke(),b=Vn(),A=Ps()!=null;Un({open:a,ref:g,onComplete(){a&&v?.(!0)}});const S=K(W=>W==="touch"?g.current:!0),_=s===void 0?S:s,V=c.useMemo(()=>({open:a,side:b.side,align:b.align,instant:m,transitionStatus:h}),[a,b.side,b.align,m,h]),Z=Ve("div",t,{state:V,ref:[n,g],props:[P,{"aria-labelledby":E,"aria-describedby":f,onKeyDown(W){A&&Rs.has(W.key)&&W.stopPropagation()}},h==="starting"?nr:Ee,u],stateAttributesMapping:xs});return te.jsx(br,{context:b.context,openInteractionType:w,modal:k==="trap-focus",disabled:!y||d==="trigger-hover",initialFocus:_,returnFocus:i,restoreFocus:"popup",children:Z})}),Fs=c.forwardRef(function(t,n){const{className:o,render:r,...s}=t,{open:i}=ke(),{arrowRef:u,side:a,align:m,arrowUncentered:h,arrowStyles:P}=Vn(),E=c.useMemo(()=>({open:i,side:a,align:m,uncentered:h}),[i,a,m,h]);return Ve("div",t,{state:E,ref:[n,u],props:[{style:P,"aria-hidden":!0},s],stateAttributesMapping:Dt})});function Cs(e){return Ke(e,"base-ui")}const Ns=c.forwardRef(function(t,n){const{render:o,className:r,...s}=t,{setDescriptionId:i}=ke(),u=Cs(s.id);return ne(()=>(i(u),()=>{i(void 0)}),[i,u]),Ve("p",t,{ref:n,props:[{id:u},s]})});export{Os as P,Ms as a,As as b,Ls as c,Ds as d,Fs as e,Ns as f,Cs as g,ne as h,Ve as i,ke as u};
