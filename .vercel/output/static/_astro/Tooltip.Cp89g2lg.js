import{j as C}from"./jsx-runtime.D_zvdyIk.js";import{r as m,b as ce,R as Ht}from"./index.DxhH1ShK.js";import{r as ue,g as vt,S as fe}from"./slot.DPiB-jfz.js";import{d as Ne,e as je,f as $e,c as Be,g as We,L as Gt,m as kt}from"./proxy.D4YeN7SK.js";import{A as Ve}from"./index.CG_O7YBG.js";import{c as ze}from"./utils.BnlJtBIq.js";function He(t,e){return Ne(t,e,$e,je)}const qt=He("div"),Ge=m.createContext(null);function qe(){const t=m.useRef(!1);return Be(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Xe(){const t=qe(),[e,n]=m.useState(0),o=m.useCallback(()=>{t.current&&n(e+1)},[e]);return[m.useCallback(()=>We.postRender(o),[o]),e]}const Ye=t=>!t.isLayoutDirty&&t.willUpdate(!1);function Xt(){const t=new Set,e=new WeakMap,n=()=>t.forEach(Ye);return{add:o=>{t.add(o),e.set(o,o.addEventListener("willUpdate",n))},remove:o=>{t.delete(o);const r=e.get(o);r&&(r(),e.delete(o)),n()},dirty:n}}const de=t=>t===!0,Ue=t=>de(t===!0)||t==="id",_e=({children:t,id:e,inherit:n=!0})=>{const o=m.useContext(Gt),r=m.useContext(Ge),[i,s]=Xe(),a=m.useRef(null),l=o.id||r;a.current===null&&(Ue(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:de(n)&&o.group||Xt()});const c=m.useMemo(()=>({...a.current,forceRender:i}),[s]);return C.jsx(Gt.Provider,{value:c,children:t})};function xt(){return typeof window<"u"}function nt(t){return Ft(t)?(t.nodeName||"").toLowerCase():"#document"}function B(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function q(t){var e;return(e=(Ft(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ft(t){return xt()?t instanceof Node||t instanceof B(t).Node:!1}function j(t){return xt()?t instanceof Element||t instanceof B(t).Element:!1}function G(t){return xt()?t instanceof HTMLElement||t instanceof B(t).HTMLElement:!1}function Et(t){return!xt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof B(t).ShadowRoot}const Ke=new Set(["inline","contents"]);function at(t){const{overflow:e,overflowX:n,overflowY:o,display:r}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!Ke.has(r)}const Ze=new Set(["table","td","th"]);function Qe(t){return Ze.has(nt(t))}const Je=[":popover-open",":modal"];function wt(t){return Je.some(e=>{try{return t.matches(e)}catch{return!1}})}const tn=["transform","translate","scale","rotate","perspective"],en=["transform","translate","scale","rotate","perspective","filter"],nn=["paint","layout","strict","content"];function Mt(t){const e=Dt(),n=j(t)?V(t):t;return tn.some(o=>n[o]?n[o]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||en.some(o=>(n.willChange||"").includes(o))||nn.some(o=>(n.contain||"").includes(o))}function on(t){let e=K(t);for(;G(e)&&!tt(e);){if(Mt(e))return e;if(wt(e))return null;e=K(e)}return null}function Dt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rn=new Set(["html","body","#document"]);function tt(t){return rn.has(nt(t))}function V(t){return B(t).getComputedStyle(t)}function bt(t){return j(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function K(t){if(nt(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Et(t)&&t.host||q(t);return Et(e)?e.host:e}function me(t){const e=K(t);return tt(e)?t.ownerDocument?t.ownerDocument.body:t.body:G(e)&&at(e)?e:me(e)}function rt(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=me(t),i=r===((o=t.ownerDocument)==null?void 0:o.body),s=B(r);if(i){const a=Tt(s);return e.concat(s,s.visualViewport||[],at(r)?r:[],a&&n?rt(a):[])}return e.concat(r,rt(r,[],n))}function Tt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const sn=["top","right","bottom","left"],Z=Math.min,$=Math.max,ut=Math.round,lt=Math.floor,H=t=>({x:t,y:t}),an={left:"right",right:"left",bottom:"top",top:"bottom"},ln={start:"end",end:"start"};function Ot(t,e,n){return $(t,Z(e,n))}function X(t,e){return typeof t=="function"?t(e):t}function Y(t){return t.split("-")[0]}function ot(t){return t.split("-")[1]}function Nt(t){return t==="x"?"y":"x"}function jt(t){return t==="y"?"height":"width"}const cn=new Set(["top","bottom"]);function z(t){return cn.has(Y(t))?"y":"x"}function $t(t){return Nt(z(t))}function un(t,e,n){n===void 0&&(n=!1);const o=ot(t),r=$t(t),i=jt(r);let s=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=ft(s)),[s,ft(s)]}function fn(t){const e=ft(t);return[Pt(t),e,Pt(e)]}function Pt(t){return t.replace(/start|end/g,e=>ln[e])}const Yt=["left","right"],Ut=["right","left"],dn=["top","bottom"],mn=["bottom","top"];function gn(t,e,n){switch(t){case"top":case"bottom":return n?e?Ut:Yt:e?Yt:Ut;case"left":case"right":return e?dn:mn;default:return[]}}function pn(t,e,n,o){const r=ot(t);let i=gn(Y(t),n==="start",o);return r&&(i=i.map(s=>s+"-"+r),e&&(i=i.concat(i.map(Pt)))),i}function ft(t){return t.replace(/left|right|bottom|top/g,e=>an[e])}function hn(t){return{top:0,right:0,bottom:0,left:0,...t}}function ge(t){return typeof t!="number"?hn(t):{top:t,right:t,bottom:t,left:t}}function dt(t){const{x:e,y:n,width:o,height:r}=t;return{width:o,height:r,top:n,left:e,right:e+o,bottom:n+r,x:e,y:n}}/*!
* tabbable 6.3.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var vn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],mt=vn.join(","),pe=typeof Element>"u",et=pe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,gt=!pe&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},it=function(e,n){var o;n===void 0&&(n=!0);var r=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),i=r===""||r==="true",s=i||n&&e&&it(e.parentNode);return s},xn=function(e){var n,o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return o===""||o==="true"},he=function(e,n,o){if(it(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(mt));return n&&et.call(e,mt)&&r.unshift(e),r=r.filter(o),r},pt=function(e,n,o){for(var r=[],i=Array.from(e);i.length;){var s=i.shift();if(!it(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),l=a.length?a:s.children,c=pt(l,!0,o);o.flatten?r.push.apply(r,c):r.push({scopeParent:s,candidates:c})}else{var u=et.call(s,mt);u&&o.filter(s)&&(n||!e.includes(s))&&r.push(s);var d=s.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(s),p=!it(d,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(s));if(d&&p){var f=pt(d===!0?s.children:d.children,!0,o);o.flatten?r.push.apply(r,f):r.push({scopeParent:s,candidates:f})}else i.unshift.apply(i,s.children)}}return r},ve=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},xe=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||xn(e))&&!ve(e)?0:e.tabIndex},wn=function(e,n){var o=xe(e);return o<0&&n&&!ve(e)?0:o},bn=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},we=function(e){return e.tagName==="INPUT"},yn=function(e){return we(e)&&e.type==="hidden"},Rn=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return n},Cn=function(e,n){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===n)return e[o]},Sn=function(e){if(!e.name)return!0;var n=e.form||gt(e),o=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=o(window.CSS.escape(e.name));else try{r=o(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Cn(r,e.form);return!i||i===e},An=function(e){return we(e)&&e.type==="radio"},En=function(e){return An(e)&&!Sn(e)},Tn=function(e){var n,o=e&&gt(e),r=(n=o)===null||n===void 0?void 0:n.host,i=!1;if(o&&o!==e){var s,a,l;for(i=!!((s=r)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(r)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&r;){var c,u,d;o=gt(r),r=(c=o)===null||c===void 0?void 0:c.host,i=!!((u=r)!==null&&u!==void 0&&(d=u.ownerDocument)!==null&&d!==void 0&&d.contains(r))}}return i},_t=function(e){var n=e.getBoundingClientRect(),o=n.width,r=n.height;return o===0&&r===0},On=function(e,n){var o=n.displayCheck,r=n.getShadowRoot;if(o==="full-native"&&"checkVisibility"in e){var i=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!i}if(getComputedStyle(e).visibility==="hidden")return!0;var s=et.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(et.call(a,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="full-native"||o==="legacy-full"){if(typeof r=="function"){for(var l=e;e;){var c=e.parentElement,u=gt(e);if(c&&!c.shadowRoot&&r(c)===!0)return _t(e);e.assignedSlot?e=e.assignedSlot:!c&&u!==e.ownerDocument?e=u.host:e=c}e=l}if(Tn(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return _t(e);return!1},Pn=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var o=0;o<n.children.length;o++){var r=n.children.item(o);if(r.tagName==="LEGEND")return et.call(n,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}n=n.parentElement}return!1},Lt=function(e,n){return!(n.disabled||it(n)||yn(n)||On(n,e)||Rn(n)||Pn(n))},It=function(e,n){return!(En(n)||xe(n)<0||!Lt(e,n))},Ln=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},be=function(e){var n=[],o=[];return e.forEach(function(r,i){var s=!!r.scopeParent,a=s?r.scopeParent:r,l=wn(a,s),c=s?be(r.candidates):a;l===0?s?n.push.apply(n,c):n.push(a):o.push({documentOrder:i,tabIndex:l,item:r,isScope:s,content:c})}),o.sort(bn).reduce(function(r,i){return i.isScope?r.push.apply(r,i.content):r.push(i.content),r},[]).concat(n)},ye=function(e,n){n=n||{};var o;return n.getShadowRoot?o=pt([e],n.includeContainer,{filter:It.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Ln}):o=he(e,n.includeContainer,It.bind(null,n)),be(o)},xr=function(e,n){n=n||{};var o;return n.getShadowRoot?o=pt([e],n.includeContainer,{filter:Lt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):o=he(e,n.includeContainer,Lt.bind(null,n)),o},wr=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return et.call(e,mt)===!1?!1:It(n,e)};function In(){return/apple/i.test(navigator.vendor)}function kn(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Fn(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Et(n)){let o=e;for(;o;){if(t===o)return!0;o=o.parentNode||o.host}}return!1}function Bt(t){return t?.ownerDocument||document}var Mn=typeof document<"u",Dn=function(){},_=Mn?m.useLayoutEffect:Dn;const Nn={...ce},jn=Nn.useInsertionEffect,$n=jn||(t=>t());function Bn(t){const e=m.useRef(()=>{});return $n(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.current==null?void 0:e.current(...o)},[])}const Re=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Ce(t,e){const n=ye(t,Re()),o=n.length;if(o===0)return;const r=kn(Bt(t)),i=n.indexOf(r),s=i===-1?e===1?0:o-1:i+e;return n[s]}function Wn(t){return Ce(Bt(t).body,1)||t}function Vn(t){return Ce(Bt(t).body,-1)||t}function Rt(t,e){const n=e||t.currentTarget,o=t.relatedTarget;return!o||!Fn(n,o)}function zn(t){ye(t,Re()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Kt(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const o=n.dataset.tabindex;delete n.dataset.tabindex,o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")})}function Zt(t,e,n){let{reference:o,floating:r}=t;const i=z(e),s=$t(e),a=jt(s),l=Y(e),c=i==="y",u=o.x+o.width/2-r.width/2,d=o.y+o.height/2-r.height/2,p=o[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:o.y-r.height};break;case"bottom":f={x:u,y:o.y+o.height};break;case"right":f={x:o.x+o.width,y:d};break;case"left":f={x:o.x-r.width,y:d};break;default:f={x:o.x,y:o.y}}switch(ot(e)){case"start":f[s]-=p*(n&&c?-1:1);break;case"end":f[s]+=p*(n&&c?-1:1);break}return f}const Hn=async(t,e,n)=>{const{placement:o="bottom",strategy:r="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=Zt(c,o,l),p=o,f={},g=0;for(let h=0;h<a.length;h++){const{name:v,fn:x}=a[h],{x:w,y:b,data:y,reset:R}=await x({x:u,y:d,initialPlacement:o,placement:p,strategy:r,middlewareData:f,rects:c,platform:s,elements:{reference:t,floating:e}});u=w??u,d=b??d,f={...f,[v]:{...f[v],...y}},R&&g<=50&&(g++,typeof R=="object"&&(R.placement&&(p=R.placement),R.rects&&(c=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:r}):R.rects),{x:u,y:d}=Zt(c,p,l)),h=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:f}};async function st(t,e){var n;e===void 0&&(e={});const{x:o,y:r,platform:i,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:f=0}=X(e,t),g=ge(f),v=a[p?d==="floating"?"reference":"floating":d],x=dt(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:o,y:r,width:s.floating.width,height:s.floating.height}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),y=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},R=dt(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:b,strategy:l}):w);return{top:(x.top-R.top+g.top)/y.y,bottom:(R.bottom-x.bottom+g.bottom)/y.y,left:(x.left-R.left+g.left)/y.x,right:(R.right-x.right+g.right)/y.x}}const Gn=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:r,rects:i,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=X(t,e)||{};if(c==null)return{};const d=ge(u),p={x:n,y:o},f=$t(r),g=jt(f),h=await s.getDimensions(c),v=f==="y",x=v?"top":"left",w=v?"bottom":"right",b=v?"clientHeight":"clientWidth",y=i.reference[g]+i.reference[f]-p[f]-i.floating[g],R=p[f]-i.reference[f],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let S=A?A[b]:0;(!S||!await(s.isElement==null?void 0:s.isElement(A)))&&(S=a.floating[b]||i.floating[g]);const O=y/2-R/2,F=S/2-h[g]/2-1,I=Z(d[x],F),M=Z(d[w],F),P=I,T=S-h[g]-M,L=S/2-h[g]/2+O,W=Ot(P,L,T),k=!l.arrow&&ot(r)!=null&&L!==W&&i.reference[g]/2-(L<P?I:M)-h[g]/2<0,D=k?L<P?L-P:L-T:0;return{[f]:p[f]+D,data:{[f]:W,centerOffset:L-W-D,...k&&{alignmentOffset:D}},reset:k}}}),qn=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,o;const{placement:r,middlewareData:i,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:h=!0,...v}=X(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Y(r),w=z(a),b=Y(a)===a,y=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=p||(b||!h?[ft(a)]:fn(a)),A=g!=="none";!p&&A&&R.push(...pn(a,h,g,y));const S=[a,...R],O=await st(e,v),F=[];let I=((o=i.flip)==null?void 0:o.overflows)||[];if(u&&F.push(O[x]),d){const L=un(r,s,y);F.push(O[L[0]],O[L[1]])}if(I=[...I,{placement:r,overflows:F}],!F.every(L=>L<=0)){var M,P;const L=(((M=i.flip)==null?void 0:M.index)||0)+1,W=S[L];if(W&&(!(d==="alignment"?w!==z(W):!1)||I.every(E=>z(E.placement)===w?E.overflows[0]>0:!0)))return{data:{index:L,overflows:I},reset:{placement:W}};let k=(P=I.filter(D=>D.overflows[0]<=0).sort((D,E)=>D.overflows[1]-E.overflows[1])[0])==null?void 0:P.placement;if(!k)switch(f){case"bestFit":{var T;const D=(T=I.filter(E=>{if(A){const N=z(E.placement);return N===w||N==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(N=>N>0).reduce((N,U)=>N+U,0)]).sort((E,N)=>E[1]-N[1])[0])==null?void 0:T[0];D&&(k=D);break}case"initialPlacement":k=a;break}if(r!==k)return{reset:{placement:k}}}return{}}}};function Qt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Jt(t){return sn.some(e=>t[e]>=0)}const Xn=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:o="referenceHidden",...r}=X(t,e);switch(o){case"referenceHidden":{const i=await st(e,{...r,elementContext:"reference"}),s=Qt(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Jt(s)}}}case"escaped":{const i=await st(e,{...r,altBoundary:!0}),s=Qt(i,n.floating);return{data:{escapedOffsets:s,escaped:Jt(s)}}}default:return{}}}}},Se=new Set(["left","top"]);async function Yn(t,e){const{placement:n,platform:o,elements:r}=t,i=await(o.isRTL==null?void 0:o.isRTL(r.floating)),s=Y(n),a=ot(n),l=z(n)==="y",c=Se.has(s)?-1:1,u=i&&l?-1:1,d=X(e,t);let{mainAxis:p,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof g=="number"&&(f=a==="end"?g*-1:g),l?{x:f*u,y:p*c}:{x:p*c,y:f*u}}const Un=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:r,y:i,placement:s,middlewareData:a}=e,l=await Yn(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:r+l.x,y:i+l.y,data:{...l,placement:s}}}}},_n=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:r}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...l}=X(t,e),c={x:n,y:o},u=await st(e,l),d=z(Y(r)),p=Nt(d);let f=c[p],g=c[d];if(i){const v=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=f+u[v],b=f-u[x];f=Ot(w,f,b)}if(s){const v=d==="y"?"top":"left",x=d==="y"?"bottom":"right",w=g+u[v],b=g-u[x];g=Ot(w,g,b)}const h=a.fn({...e,[p]:f,[d]:g});return{...h,data:{x:h.x-n,y:h.y-o,enabled:{[p]:i,[d]:s}}}}}},Kn=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:r,rects:i,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=X(t,e),u={x:n,y:o},d=z(r),p=Nt(d);let f=u[p],g=u[d];const h=X(a,e),v=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(l){const b=p==="y"?"height":"width",y=i.reference[p]-i.floating[b]+v.mainAxis,R=i.reference[p]+i.reference[b]-v.mainAxis;f<y?f=y:f>R&&(f=R)}if(c){var x,w;const b=p==="y"?"width":"height",y=Se.has(Y(r)),R=i.reference[d]-i.floating[b]+(y&&((x=s.offset)==null?void 0:x[d])||0)+(y?0:v.crossAxis),A=i.reference[d]+i.reference[b]+(y?0:((w=s.offset)==null?void 0:w[d])||0)-(y?v.crossAxis:0);g<R?g=R:g>A&&(g=A)}return{[p]:f,[d]:g}}}},Zn=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,o;const{placement:r,rects:i,platform:s,elements:a}=e,{apply:l=()=>{},...c}=X(t,e),u=await st(e,c),d=Y(r),p=ot(r),f=z(r)==="y",{width:g,height:h}=i.floating;let v,x;d==="top"||d==="bottom"?(v=d,x=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(x=d,v=p==="end"?"top":"bottom");const w=h-u.top-u.bottom,b=g-u.left-u.right,y=Z(h-u[v],w),R=Z(g-u[x],b),A=!e.middlewareData.shift;let S=y,O=R;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=b),(o=e.middlewareData.shift)!=null&&o.enabled.y&&(S=w),A&&!p){const I=$(u.left,0),M=$(u.right,0),P=$(u.top,0),T=$(u.bottom,0);f?O=g-2*(I!==0||M!==0?I+M:$(u.left,u.right)):S=h-2*(P!==0||T!==0?P+T:$(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:S});const F=await s.getDimensions(a.floating);return g!==F.width||h!==F.height?{reset:{rects:!0}}:{}}}};function Ae(t){const e=V(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=G(t),i=r?t.offsetWidth:n,s=r?t.offsetHeight:o,a=ut(n)!==i||ut(o)!==s;return a&&(n=i,o=s),{width:n,height:o,$:a}}function Wt(t){return j(t)?t:t.contextElement}function J(t){const e=Wt(t);if(!G(e))return H(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:i}=Ae(e);let s=(i?ut(n.width):n.width)/o,a=(i?ut(n.height):n.height)/r;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Qn=H(0);function Ee(t){const e=B(t);return!Dt()||!e.visualViewport?Qn:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Jn(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==B(t)?!1:e}function Q(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=Wt(t);let s=H(1);e&&(o?j(o)&&(s=J(o)):s=J(t));const a=Jn(i,n,o)?Ee(i):H(0);let l=(r.left+a.x)/s.x,c=(r.top+a.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(i){const p=B(i),f=o&&j(o)?B(o):o;let g=p,h=Tt(g);for(;h&&o&&f!==g;){const v=J(h),x=h.getBoundingClientRect(),w=V(h),b=x.left+(h.clientLeft+parseFloat(w.paddingLeft))*v.x,y=x.top+(h.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=b,c+=y,g=B(h),h=Tt(g)}}return dt({width:u,height:d,x:l,y:c})}function yt(t,e){const n=bt(t).scrollLeft;return e?e.left+n:Q(q(t)).left+n}function Te(t,e){const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-yt(t,n),r=n.top+e.scrollTop;return{x:o,y:r}}function to(t){let{elements:e,rect:n,offsetParent:o,strategy:r}=t;const i=r==="fixed",s=q(o),a=e?wt(e.floating):!1;if(o===s||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=H(1);const u=H(0),d=G(o);if((d||!d&&!i)&&((nt(o)!=="body"||at(s))&&(l=bt(o)),G(o))){const f=Q(o);c=J(o),u.x=f.x+o.clientLeft,u.y=f.y+o.clientTop}const p=s&&!d&&!i?Te(s,l):H(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function eo(t){return Array.from(t.getClientRects())}function no(t){const e=q(t),n=bt(t),o=t.ownerDocument.body,r=$(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),i=$(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let s=-n.scrollLeft+yt(t);const a=-n.scrollTop;return V(o).direction==="rtl"&&(s+=$(e.clientWidth,o.clientWidth)-r),{width:r,height:i,x:s,y:a}}const te=25;function oo(t,e){const n=B(t),o=q(t),r=n.visualViewport;let i=o.clientWidth,s=o.clientHeight,a=0,l=0;if(r){i=r.width,s=r.height;const u=Dt();(!u||u&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}const c=yt(o);if(c<=0){const u=o.ownerDocument,d=u.body,p=getComputedStyle(d),f=u.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,g=Math.abs(o.clientWidth-d.clientWidth-f);g<=te&&(i-=g)}else c<=te&&(i+=c);return{width:i,height:s,x:a,y:l}}const ro=new Set(["absolute","fixed"]);function io(t,e){const n=Q(t,!0,e==="fixed"),o=n.top+t.clientTop,r=n.left+t.clientLeft,i=G(t)?J(t):H(1),s=t.clientWidth*i.x,a=t.clientHeight*i.y,l=r*i.x,c=o*i.y;return{width:s,height:a,x:l,y:c}}function ee(t,e,n){let o;if(e==="viewport")o=oo(t,n);else if(e==="document")o=no(q(t));else if(j(e))o=io(e,n);else{const r=Ee(t);o={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return dt(o)}function Oe(t,e){const n=K(t);return n===e||!j(n)||tt(n)?!1:V(n).position==="fixed"||Oe(n,e)}function so(t,e){const n=e.get(t);if(n)return n;let o=rt(t,[],!1).filter(a=>j(a)&&nt(a)!=="body"),r=null;const i=V(t).position==="fixed";let s=i?K(t):t;for(;j(s)&&!tt(s);){const a=V(s),l=Mt(s);!l&&a.position==="fixed"&&(r=null),(i?!l&&!r:!l&&a.position==="static"&&!!r&&ro.has(r.position)||at(s)&&!l&&Oe(t,s))?o=o.filter(u=>u!==s):r=a,s=K(s)}return e.set(t,o),o}function ao(t){let{element:e,boundary:n,rootBoundary:o,strategy:r}=t;const s=[...n==="clippingAncestors"?wt(e)?[]:so(e,this._c):[].concat(n),o],a=s[0],l=s.reduce((c,u)=>{const d=ee(e,u,r);return c.top=$(d.top,c.top),c.right=Z(d.right,c.right),c.bottom=Z(d.bottom,c.bottom),c.left=$(d.left,c.left),c},ee(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function lo(t){const{width:e,height:n}=Ae(t);return{width:e,height:n}}function co(t,e,n){const o=G(e),r=q(e),i=n==="fixed",s=Q(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=H(0);function c(){l.x=yt(r)}if(o||!o&&!i)if((nt(e)!=="body"||at(r))&&(a=bt(e)),o){const f=Q(e,!0,i,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else r&&c();i&&!o&&r&&c();const u=r&&!o&&!i?Te(r,a):H(0),d=s.left+a.scrollLeft-l.x-u.x,p=s.top+a.scrollTop-l.y-u.y;return{x:d,y:p,width:s.width,height:s.height}}function Ct(t){return V(t).position==="static"}function ne(t,e){if(!G(t)||V(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return q(t)===n&&(n=n.ownerDocument.body),n}function Pe(t,e){const n=B(t);if(wt(t))return n;if(!G(t)){let r=K(t);for(;r&&!tt(r);){if(j(r)&&!Ct(r))return r;r=K(r)}return n}let o=ne(t,e);for(;o&&Qe(o)&&Ct(o);)o=ne(o,e);return o&&tt(o)&&Ct(o)&&!Mt(o)?n:o||on(t)||n}const uo=async function(t){const e=this.getOffsetParent||Pe,n=this.getDimensions,o=await n(t.floating);return{reference:co(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function fo(t){return V(t).direction==="rtl"}const mo={convertOffsetParentRelativeRectToViewportRelativeRect:to,getDocumentElement:q,getClippingRect:ao,getOffsetParent:Pe,getElementRects:uo,getClientRects:eo,getDimensions:lo,getScale:J,isElement:j,isRTL:fo};function Le(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function go(t,e){let n=null,o;const r=q(t);function i(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:u,top:d,width:p,height:f}=c;if(a||e(),!p||!f)return;const g=lt(d),h=lt(r.clientWidth-(u+p)),v=lt(r.clientHeight-(d+f)),x=lt(u),b={rootMargin:-g+"px "+-h+"px "+-v+"px "+-x+"px",threshold:$(0,Z(1,l))||1};let y=!0;function R(A){const S=A[0].intersectionRatio;if(S!==l){if(!y)return s();S?s(!1,S):o=setTimeout(()=>{s(!1,1e-7)},1e3)}S===1&&!Le(c,t.getBoundingClientRect())&&s(),y=!1}try{n=new IntersectionObserver(R,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(R,b)}n.observe(t)}return s(!0),i}function po(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,c=Wt(t),u=r||i?[...c?rt(c):[],...rt(e)]:[];u.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const d=c&&a?go(c,n):null;let p=-1,f=null;s&&(f=new ResizeObserver(x=>{let[w]=x;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let g,h=l?Q(t):null;l&&v();function v(){const x=Q(t);h&&!Le(h,x)&&n(),h=x,g=requestAnimationFrame(v)}return n(),()=>{var x;u.forEach(w=>{r&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),d?.(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(g)}}const ho=Un,vo=_n,xo=qn,wo=Zn,bo=Xn,oe=Gn,yo=Kn,Ro=(t,e,n)=>{const o=new Map,r={platform:mo,...n},i={...r.platform,_c:o};return Hn(t,e,{...r,platform:i})};var Co=typeof document<"u",So=function(){},ct=Co?m.useLayoutEffect:So;function ht(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,o,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(o=n;o--!==0;)if(!ht(t[o],e[o]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!{}.hasOwnProperty.call(e,r[o]))return!1;for(o=n;o--!==0;){const i=r[o];if(!(i==="_owner"&&t.$$typeof)&&!ht(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function Ie(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function re(t,e){const n=Ie(t);return Math.round(e*n)/n}function St(t){const e=m.useRef(t);return ct(()=>{e.current=t}),e}function Ao(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:o=[],platform:r,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,f]=m.useState(o);ht(p,o)||f(o);const[g,h]=m.useState(null),[v,x]=m.useState(null),w=m.useCallback(E=>{E!==A.current&&(A.current=E,h(E))},[]),b=m.useCallback(E=>{E!==S.current&&(S.current=E,x(E))},[]),y=i||g,R=s||v,A=m.useRef(null),S=m.useRef(null),O=m.useRef(u),F=l!=null,I=St(l),M=St(r),P=St(c),T=m.useCallback(()=>{if(!A.current||!S.current)return;const E={placement:e,strategy:n,middleware:p};M.current&&(E.platform=M.current),Ro(A.current,S.current,E).then(N=>{const U={...N,isPositioned:P.current!==!1};L.current&&!ht(O.current,U)&&(O.current=U,ue.flushSync(()=>{d(U)}))})},[p,e,n,M,P]);ct(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[c]);const L=m.useRef(!1);ct(()=>(L.current=!0,()=>{L.current=!1}),[]),ct(()=>{if(y&&(A.current=y),R&&(S.current=R),y&&R){if(I.current)return I.current(y,R,T);T()}},[y,R,T,I,F]);const W=m.useMemo(()=>({reference:A,floating:S,setReference:w,setFloating:b}),[w,b]),k=m.useMemo(()=>({reference:y,floating:R}),[y,R]),D=m.useMemo(()=>{const E={position:n,left:0,top:0};if(!k.floating)return E;const N=re(k.floating,u.x),U=re(k.floating,u.y);return a?{...E,transform:"translate("+N+"px, "+U+"px)",...Ie(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:N,top:U}},[n,a,k.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:T,refs:W,elements:k,floatingStyles:D}),[u,T,W,k,D])}const Eo=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:o,padding:r}=typeof t=="function"?t(n):t;return o&&e(o)?o.current!=null?oe({element:o.current,padding:r}).fn(n):{}:o?oe({element:o,padding:r}).fn(n):{}}}},To=(t,e)=>({...ho(t),options:[t,e]}),Oo=(t,e)=>({...vo(t),options:[t,e]}),br=(t,e)=>({...yo(t),options:[t,e]}),Po=(t,e)=>({...xo(t),options:[t,e]}),yr=(t,e)=>({...wo(t),options:[t,e]}),Rr=(t,e)=>({...bo(t),options:[t,e]}),Lo=(t,e)=>({...Eo(t),options:[t,e]}),Io={...ce};let ie=!1,ko=0;const se=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ko++;function Fo(){const[t,e]=m.useState(()=>ie?se():void 0);return _(()=>{t==null&&e(se())},[]),m.useEffect(()=>{ie=!0},[]),t}const Mo=Io.useId,Vt=Mo||Fo,Do=m.forwardRef(function(e,n){const{context:{placement:o,elements:{floating:r},middlewareData:{arrow:i,shift:s}},width:a=14,height:l=7,tipRadius:c=0,strokeWidth:u=0,staticOffset:d,stroke:p,d:f,style:{transform:g,...h}={},...v}=e,x=Vt(),[w,b]=m.useState(!1);if(_(()=>{if(!r)return;V(r).direction==="rtl"&&b(!0)},[r]),!r)return null;const[y,R]=o.split("-"),A=y==="top"||y==="bottom";let S=d;(A&&s!=null&&s.x||!A&&s!=null&&s.y)&&(S=null);const O=u*2,F=O/2,I=a/2*(c/-8+1),M=l/2*c/4,P=!!f,T=S&&R==="end"?"bottom":"top";let L=S&&R==="end"?"right":"left";S&&w&&(L=R==="end"?"left":"right");const W=i?.x!=null?S||i.x:"",k=i?.y!=null?S||i.y:"",D=f||"M0,0"+(" H"+a)+(" L"+(a-I)+","+(l-M))+(" Q"+a/2+","+l+" "+I+","+(l-M))+" Z",E={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[y];return C.jsxs("svg",{...v,"aria-hidden":!0,ref:n,width:P?a:a+O,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[L]:W,[T]:k,[y]:A||P?"100%":"calc(100% - "+O/2+"px)",transform:[E,g].filter(N=>!!N).join(" "),...h},children:[O>0&&C.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:p,strokeWidth:O+(f?0:1),d:D}),C.jsx("path",{stroke:O&&!f?v.fill:"none",d:D}),C.jsx("clipPath",{id:x,children:C.jsx("rect",{x:-F,y:F*(P?-1:1),width:a+O,height:a})})]})});function No(){const t=new Map;return{emit(e,n){var o;(o=t.get(e))==null||o.forEach(r=>r(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var o;(o=t.get(e))==null||o.delete(n)}}}const jo=m.createContext(null),$o=m.createContext(null),Bo=()=>{var t;return((t=m.useContext(jo))==null?void 0:t.id)||null},Wo=()=>m.useContext($o);function ke(t){return"data-floating-ui-"+t}const Fe={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},ae=m.forwardRef(function(e,n){const[o,r]=m.useState();_(()=>{In()&&r("button")},[]);const i={ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,[ke("focus-guard")]:"",style:Fe};return C.jsx("span",{...e,...i})}),Me=m.createContext(null),le=ke("portal");function Vo(t){t===void 0&&(t={});const{id:e,root:n}=t,o=Vt(),r=Ho(),[i,s]=m.useState(null),a=m.useRef(null);return _(()=>()=>{i?.remove(),queueMicrotask(()=>{a.current=null})},[i]),_(()=>{if(!o||a.current)return;const l=e?document.getElementById(e):null;if(!l)return;const c=document.createElement("div");c.id=o,c.setAttribute(le,""),l.appendChild(c),a.current=c,s(c)},[e,o]),_(()=>{if(n===null||!o||a.current)return;let l=n||r?.portalNode;l&&!Ft(l)&&(l=l.current),l=l||document.body;let c=null;e&&(c=document.createElement("div"),c.id=e,l.appendChild(c));const u=document.createElement("div");u.id=o,u.setAttribute(le,""),l=c||l,l.appendChild(u),a.current=u,s(u)},[e,n,o,r]),i}function zo(t){const{children:e,id:n,root:o,preserveTabOrder:r=!0}=t,i=Vo({id:n,root:o}),[s,a]=m.useState(null),l=m.useRef(null),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),p=s?.modal,f=s?.open,g=!!s&&!s.modal&&s.open&&r&&!!(o||i);return m.useEffect(()=>{if(!i||!r||p)return;function h(v){i&&Rt(v)&&(v.type==="focusin"?Kt:zn)(i)}return i.addEventListener("focusin",h,!0),i.addEventListener("focusout",h,!0),()=>{i.removeEventListener("focusin",h,!0),i.removeEventListener("focusout",h,!0)}},[i,r,p]),m.useEffect(()=>{i&&(f||Kt(i))},[f,i]),C.jsxs(Me.Provider,{value:m.useMemo(()=>({preserveTabOrder:r,beforeOutsideRef:l,afterOutsideRef:c,beforeInsideRef:u,afterInsideRef:d,portalNode:i,setFocusManagerState:a}),[r,i]),children:[g&&i&&C.jsx(ae,{"data-type":"outside",ref:l,onFocus:h=>{if(Rt(h,i)){var v;(v=u.current)==null||v.focus()}else{const x=s?s.domReference:null,w=Vn(x);w?.focus()}}}),g&&i&&C.jsx("span",{"aria-owns":i.id,style:Fe}),i&&ue.createPortal(e,i),g&&i&&C.jsx(ae,{"data-type":"outside",ref:c,onFocus:h=>{if(Rt(h,i)){var v;(v=d.current)==null||v.focus()}else{const x=s?s.domReference:null,w=Wn(x);w?.focus(),s?.closeOnFocusOut&&s?.onOpenChange(!1,h.nativeEvent,"focus-out")}}})]})}const Ho=()=>m.useContext(Me);function Go(t){const{open:e=!1,onOpenChange:n,elements:o}=t,r=Vt(),i=m.useRef({}),[s]=m.useState(()=>No()),a=Bo()!=null,[l,c]=m.useState(o.reference),u=Bn((f,g,h)=>{i.current.openEvent=f?g:void 0,s.emit("openchange",{open:f,event:g,reason:h,nested:a}),n?.(f,g,h)}),d=m.useMemo(()=>({setPositionReference:c}),[]),p=m.useMemo(()=>({reference:l||o.reference||null,floating:o.floating||null,domReference:o.reference}),[l,o.reference,o.floating]);return m.useMemo(()=>({dataRef:i,open:e,onOpenChange:u,elements:p,events:s,floatingId:r,refs:d}),[e,u,p,s,r,d])}function qo(t){t===void 0&&(t={});const{nodeId:e}=t,n=Go({...t,elements:{reference:null,floating:null,...t.elements}}),o=t.rootContext||n,r=o.elements,[i,s]=m.useState(null),[a,l]=m.useState(null),u=r?.domReference||i,d=m.useRef(null),p=Wo();_(()=>{u&&(d.current=u)},[u]);const f=Ao({...t,elements:{...r,...a&&{reference:a}}}),g=m.useCallback(b=>{const y=j(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),getClientRects:()=>b.getClientRects(),contextElement:b}:b;l(y),f.refs.setReference(y)},[f.refs]),h=m.useCallback(b=>{(j(b)||b===null)&&(d.current=b,s(b)),(j(f.refs.reference.current)||f.refs.reference.current===null||b!==null&&!j(b))&&f.refs.setReference(b)},[f.refs]),v=m.useMemo(()=>({...f.refs,setReference:h,setPositionReference:g,domReference:d}),[f.refs,h,g]),x=m.useMemo(()=>({...f.elements,domReference:u}),[f.elements,u]),w=m.useMemo(()=>({...f,...o,refs:v,elements:x,nodeId:e}),[f,v,x,e,o]);return _(()=>{o.dataRef.current.floatingContext=w;const b=p?.nodesRef.current.find(y=>y.id===e);b&&(b.context=w)}),m.useMemo(()=>({...f,context:w,refs:v,elements:x}),[f,v,x,w])}const[Xo,zt]=vt("GlobalTooltipProvider"),[Yo,De]=vt("LocalTooltipProvider");function Uo(t){return t.includes("-")?t.split("-")[0]:t}function At(t){return t==="top"?{y:15}:t==="bottom"?{y:-15}:t==="left"?{x:15}:{x:-15}}function _o({children:t,id:e,openDelay:n=700,closeDelay:o=300,transition:r={type:"spring",stiffness:300,damping:35}}){const i=m.useId(),[s,a]=m.useState(null),l=m.useRef(null),c=m.useRef(0),u=m.useRef(null),d=m.useCallback(h=>{if(l.current&&clearTimeout(l.current),s!==null){a(h);return}const x=Date.now()-c.current<o?0:n;l.current=window.setTimeout(()=>a(h),x)},[n,o,s]),p=m.useCallback(()=>{l.current&&clearTimeout(l.current),l.current=window.setTimeout(()=>{a(null),c.current=Date.now()},o)},[o]),f=m.useCallback(()=>{l.current&&clearTimeout(l.current),a(null),c.current=Date.now()},[]),g=m.useCallback(h=>{u.current=h},[]);return m.useEffect(()=>{const h=v=>{v.key==="Escape"&&f()};return window.addEventListener("keydown",h,!0),window.addEventListener("scroll",f,!0),window.addEventListener("resize",f,!0),()=>{window.removeEventListener("keydown",h,!0),window.removeEventListener("scroll",f,!0),window.removeEventListener("resize",f,!0)}},[f]),C.jsxs(Xo,{value:{showTooltip:d,hideTooltip:p,hideImmediate:f,currentTooltip:s,transition:r,globalId:e??i,setReferenceEl:g,referenceElRef:u},children:[C.jsx(_e,{children:t}),C.jsx(or,{})]})}const[Ko,Zo]=vt("RenderedTooltipContext"),[Qo,Jo]=vt("FloatingContext"),tr=kt.create(Do);function er({ref:t,withTransition:e=!0,...n}){const{side:o,align:r,open:i}=Zo(),{context:s,arrowRef:a}=Jo(),{transition:l,globalId:c}=zt();m.useImperativeHandle(t,()=>a.current);const u={top:0,right:90,bottom:180,left:-90}[o];return C.jsx(tr,{ref:a,context:s,"data-state":i?"open":"closed","data-side":o,"data-align":r,"data-slot":"tooltip-arrow",style:{rotate:u},layoutId:e?`tooltip-arrow-${c}`:void 0,transition:e?l:void 0,...n})}function nr(t){return C.jsx(zo,{...t})}function or(){const{currentTooltip:t,transition:e,globalId:n,referenceElRef:o}=zt(),[r,i]=m.useState({data:null,open:!1}),s=m.useRef(null),a=r.data?.side??"top",l=r.data?.align??"center",{refs:c,x:u,y:d,strategy:p,context:f,update:g}=qo({placement:l==="center"?a:`${a}-${l}`,whileElementsMounted:po,middleware:[To({mainAxis:r.data?.sideOffset??0,crossAxis:r.data?.alignOffset??0}),Po(),Oo({padding:8}),Lo({element:s})]});m.useEffect(()=>{i(t?{data:t,open:!0}:w=>w.data?{...w,open:!1}:w)},[t]),m.useLayoutEffect(()=>{o.current&&(c.setReference(o.current),g())},[o,c,g,r.data]);const h=u!=null&&d!=null,v=r.data?.contentAsChild?fe:kt.div,x=Uo(f.placement);return C.jsx(Ve,{mode:"wait",children:r.data&&h&&C.jsx(nr,{children:C.jsx("div",{ref:c.setFloating,"data-slot":"tooltip-overlay","data-side":x,"data-align":r.data.align,"data-state":r.open?"open":"closed",style:{position:p,top:0,left:0,zIndex:50,transform:`translate3d(${u}px, ${d}px, 0)`},children:C.jsx(Qo,{value:{context:f,arrowRef:s},children:C.jsx(Ko,{value:{side:x,align:r.data.align,open:r.open},children:C.jsx(v,{"data-slot":"tooltip-content","data-side":x,"data-align":r.data.align,"data-state":r.open?"open":"closed",layoutId:`tooltip-content-${n}`,initial:{opacity:0,scale:0,...At(r.data.side)},animate:r.open?{opacity:1,scale:1,x:0,y:0}:{opacity:0,scale:0,...At(r.data.side)},exit:{opacity:0,scale:0,...At(r.data.side)},onAnimationComplete:()=>{r.open||i({data:null,open:!1})},transition:e,...r.data.contentProps,style:{position:"relative",...r.data.contentProps?.style||{}}})})})})})})}function rr({children:t,side:e="top",sideOffset:n=0,align:o="center",alignOffset:r=0}){const i=m.useId(),[s,a]=m.useState({}),[l,c]=m.useState(!1);return C.jsx(Yo,{value:{props:s,setProps:a,asChild:l,setAsChild:c,side:e,sideOffset:n,align:o,alignOffset:r,id:i},children:t})}function ir(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t).filter(r=>r!=="children"),o=Object.keys(e).filter(r=>r!=="children");if(n.length!==o.length)return!1;for(const r of n)if(t[r]!==e[r])return!1;return!0}function sr({asChild:t=!1,...e}){const{setProps:n,setAsChild:o}=De(),r=m.useRef(void 0);return m.useEffect(()=>{ir(r.current,e)||(r.current=e,n(e))},[e,n]),m.useEffect(()=>{o(t)},[t,o]),null}function ar({ref:t,onMouseEnter:e,onMouseLeave:n,onFocus:o,onBlur:r,onPointerDown:i,asChild:s=!1,...a}){const{props:l,asChild:c,side:u,sideOffset:d,align:p,alignOffset:f,id:g}=De(),{showTooltip:h,hideTooltip:v,hideImmediate:x,currentTooltip:w,setReferenceEl:b}=zt(),y=m.useRef(null);m.useImperativeHandle(t,()=>y.current);const R=m.useRef(!1),A=m.useCallback(()=>{if(!y.current)return;b(y.current);const T=y.current.getBoundingClientRect();h({contentProps:l,contentAsChild:c,rect:T,side:u,sideOffset:d,align:p,alignOffset:f,id:g})},[h,b,l,c,u,d,p,f,g]),S=m.useCallback(T=>{i?.(T),w?.id===g&&(R.current=!0,x(),Promise.resolve().then(()=>{R.current=!1}))},[i,w?.id,g,x]),O=m.useCallback(T=>{e?.(T),A()},[A,e]),F=m.useCallback(T=>{n?.(T),v()},[v,n]),I=m.useCallback(T=>{o?.(T),!R.current&&A()},[A,o]),M=m.useCallback(T=>{r?.(T),v()},[v,r]),P=s?fe:kt.div;return C.jsx(P,{ref:y,onPointerDown:S,onMouseEnter:O,onMouseLeave:F,onFocus:I,onBlur:M,"data-slot":"tooltip-trigger","data-side":u,"data-align":p,"data-state":w?.id===g?"open":"closed",...a})}function lr({openDelay:t=0,...e}){return C.jsx(_o,{openDelay:t,...e})}function cr({sideOffset:t=10,...e}){return C.jsx(rr,{sideOffset:t,...e})}function ur({...t}){return C.jsx(ar,{...t})}function fr({className:t,children:e,layout:n="preserve-aspect",...o}){return C.jsxs(sr,{className:ze("z-50 w-fit rounded-md",t),...o,children:[C.jsx(qt,{className:"overflow-hidden px-3 py-1.5 text-xs text-balance",children:C.jsx(qt,{layout:n,children:e})}),C.jsx(er,{className:"size-3 data-[side='bottom']:translate-y-[1px] data-[side='right']:translate-x-[1px] data-[side='left']:translate-x-[-1px] data-[side='top']:translate-y-[-1px]",tipRadius:2})]})}const Cr=({children:t,content:e,openDelay:n=50})=>{const[o,r]=Ht.useState(0);return Ht.useEffect(()=>{r(i=>i+1)},[e]),C.jsx(lr,{openDelay:n,children:C.jsxs(cr,{children:[C.jsx(ur,{className:"",children:t}),C.jsx(fr,{autoFocus:!0,className:"rounded-xs bg-black text-blue-100 border-color-teal-900 dark:bg-black dark:text-slate-200 dark:border-color-teal-500",children:e},o)]})})};export{$t as A,ot as B,Cr as C,Ot as D,jt as E,zo as F,Y as G,z as H,po as a,Ao as b,yr as c,Lo as d,G as e,Po as f,j as g,Rr as h,Et as i,nt as j,Ft as k,br as l,wr as m,B as n,To as o,xr as p,tt as q,K as r,Oo as s,ye as t,qo as u,V as v,rt as w,Dt as x,X as y,ge as z};
