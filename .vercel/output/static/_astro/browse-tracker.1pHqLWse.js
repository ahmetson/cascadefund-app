const c="ara-browse-stack";function e(){try{const t=localStorage.getItem(c);if(!t)return[];const r=JSON.parse(t);return Array.isArray(r)?r.filter(o=>typeof o=="string"):[]}catch(t){return console.error("Error reading browse stack from localStorage:",t),[]}}function n(t){try{const r=t.slice(-100);localStorage.setItem(c,JSON.stringify(r)),window.dispatchEvent(new CustomEvent("browse-stack-changed",{detail:{stackSize:r.length,topUrl:r[r.length-1]||null}}))}catch(r){console.error("Error saving browse stack to localStorage:",r)}}function l(t){if(!t||typeof t!="string"){console.warn("Invalid URL provided to pushUrl:",t);return}const r=e();if(r[r.length-1]===t)return;const s=r.indexOf(t);if(s!==-1){const a=r.slice(0,s+1);n(a);return}r.push(t),n(r)}function i(){const t=e();if(t.length===0)return null;const r=t.pop()||null;return n(t),r}function u(){const t=e();return t.length<2?null:t[t.length-2]||null}export{u as a,i as b,l as p};
