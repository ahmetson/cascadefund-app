import{j as o}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.DxhH1ShK.js";import{M as It}from"./MenuAvatar.DNnCbCL7.js";import{B as St}from"./Button.BGGO0Gl0.js";import{N as yt}from"./NumberFlow-client-48rw3j0J.DO-Ted3l.js";import{g as Pt}from"./index.B-oIZhPt.js";import{C as jt}from"./Link.DQs8_5h1.js";import{C as Tt}from"./Tooltip.Cp89g2lg.js";import{u as Nt,D as At}from"./DemoCongratulationsDialog.D9f2GbcB.js";import{c as F}from"./utils.BnlJtBIq.js";import{g as oe,D as Y,u as Ot,c as kt,b as Ft,s as Lt}from"./demo.DsLEr97b.js";import{g as Ut}from"./user.BVCe9jQZ.js";import{H as Gt,a as $t}from"./highlight.B9p-7OBg.js";import{g as je}from"./slot.DPiB-jfz.js";import{P as se,u as Kt}from"./use-controlled-state.FkpCVSoL.js";import{c as he,P as L,e as h,a as z,d as Te,f as Bt,b as Vt,g as Ne}from"./index.VlIKThXs.js";import{c as Ae,u as Oe}from"./index.DpebaNh_.js";import{u as we,c as ke,R as Ht,A as Yt,P as zt,h as Xt,a as Wt,b as Zt,F as qt,D as Jt,C as Qt,d as en}from"./index.DWe0bzsm.js";import{u as me}from"./accordion.Drwdne5y.js";import{A as tn}from"./index.CG_O7YBG.js";import{m as ce}from"./proxy.D4YeN7SK.js";import{c as nn}from"./createLucideIcon.C1tpinp8.js";import{C as on}from"./accordion.CeZr6L_N.js";import"./ripple.CLh-JuST.js";import"./ElectricBorder.DAWLx7iV.js";import"./eventTypes.CfSurkCl.js";import"./confetti.module.Cx83yTHA.js";import"./PageLikePanel.C32EveG_.js";import"./Panel.n1yQPIfZ.js";import"./PanelAction.BT-fj3Wj.js";import"./virtual.VUcB3V37.js";import"./client.B9YBqyHK.js";import"./index.CqUFkXl9.js";import"./index.BI6QXNvC.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],an=nn("circle",rn);var fe="rovingFocusGroup.onEntryFocus",sn={bubbles:!1,cancelable:!0},ee="RovingFocusGroup",[ve,Fe,cn]=Ae(ee),[un,Le]=he(ee,[cn]),[dn,ln]=un(ee),Ue=s.forwardRef((e,n)=>o.jsx(ve.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(ve.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(pn,{...e,ref:n})})}));Ue.displayName=ee;var pn=s.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:a=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:u=!1,...i}=e,v=s.useRef(null),C=z(n,v),w=Oe(c),[S,x]=Te({prop:l,defaultProp:d??null,onChange:m,caller:ee}),[b,D]=s.useState(!1),M=we(p),E=Fe(t),P=s.useRef(!1),[U,_]=s.useState(0);return s.useEffect(()=>{const g=v.current;if(g)return g.addEventListener(fe,M),()=>g.removeEventListener(fe,M)},[M]),o.jsx(dn,{scope:t,orientation:r,dir:w,loop:a,currentTabStopId:S,onItemFocus:s.useCallback(g=>x(g),[x]),onItemShiftTab:s.useCallback(()=>D(!0),[]),onFocusableItemAdd:s.useCallback(()=>_(g=>g+1),[]),onFocusableItemRemove:s.useCallback(()=>_(g=>g-1),[]),children:o.jsx(L.div,{tabIndex:b||U===0?-1:0,"data-orientation":r,...i,ref:C,style:{outline:"none",...e.style},onMouseDown:h(e.onMouseDown,()=>{P.current=!0}),onFocus:h(e.onFocus,g=>{const R=!P.current;if(g.target===g.currentTarget&&R&&!b){const I=new CustomEvent(fe,sn);if(g.currentTarget.dispatchEvent(I),!I.defaultPrevented){const N=E().filter(k=>k.focusable),A=N.find(k=>k.active),O=N.find(k=>k.id===S),X=[A,O,...N].filter(Boolean).map(k=>k.ref.current);Ke(X,u)}}P.current=!1}),onBlur:h(e.onBlur,()=>D(!1))})})}),Ge="RovingFocusGroupItem",$e=s.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:a=!1,tabStopId:c,children:l,...d}=e,m=me(),p=c||m,u=ln(Ge,t),i=u.currentTabStopId===p,v=Fe(t),{onFocusableItemAdd:C,onFocusableItemRemove:w,currentTabStopId:S}=u;return s.useEffect(()=>{if(r)return C(),()=>w()},[r,C,w]),o.jsx(ve.ItemSlot,{scope:t,id:p,focusable:r,active:a,children:o.jsx(L.span,{tabIndex:i?0:-1,"data-orientation":u.orientation,...d,ref:n,onMouseDown:h(e.onMouseDown,x=>{r?u.onItemFocus(p):x.preventDefault()}),onFocus:h(e.onFocus,()=>u.onItemFocus(p)),onKeyDown:h(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=vn(x,u.orientation,u.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let M=v().filter(E=>E.focusable).map(E=>E.ref.current);if(b==="last")M.reverse();else if(b==="prev"||b==="next"){b==="prev"&&M.reverse();const E=M.indexOf(x.currentTarget);M=u.loop?gn(M,E+1):M.slice(E+1)}setTimeout(()=>Ke(M))}}),children:typeof l=="function"?l({isCurrentTabStop:i,hasTabStop:S!=null}):l})})});$e.displayName=Ge;var fn={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mn(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function vn(e,n,t){const r=mn(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fn[r]}function Ke(e,n=!1){const t=document.activeElement;for(const r of e)if(r===t||(r.focus({preventScroll:n}),document.activeElement!==t))return}function gn(e,n){return e.map((t,r)=>e[(n+r)%e.length])}var hn=Ue,wn=$e,ge=["Enter"," "],xn=["ArrowDown","PageUp","Home"],Be=["ArrowUp","PageDown","End"],Mn=[...xn,...Be],Cn={ltr:[...ge,"ArrowRight"],rtl:[...ge,"ArrowLeft"]},_n={ltr:["ArrowLeft"],rtl:["ArrowRight"]},te="Menu",[J,bn,En]=Ae(te),[K,Ve]=he(te,[En,ke,Le]),ie=ke(),He=Le(),[Dn,B]=K(te),[Rn,ne]=K(te),Ye=e=>{const{__scopeMenu:n,open:t=!1,children:r,dir:a,onOpenChange:c,modal:l=!0}=e,d=ie(n),[m,p]=s.useState(null),u=s.useRef(!1),i=we(c),v=Oe(a);return s.useEffect(()=>{const C=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),o.jsx(Ht,{...d,children:o.jsx(Dn,{scope:n,open:t,onOpenChange:i,content:m,onContentChange:p,children:o.jsx(Rn,{scope:n,onClose:s.useCallback(()=>i(!1),[i]),isUsingKeyboardRef:u,dir:v,modal:l,children:r})})})};Ye.displayName=te;var In="MenuAnchor",xe=s.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,a=ie(t);return o.jsx(Yt,{...a,...r,ref:n})});xe.displayName=In;var Me="MenuPortal",[Sn,ze]=K(Me,{forceMount:void 0}),Xe=e=>{const{__scopeMenu:n,forceMount:t,children:r,container:a}=e,c=B(Me,n);return o.jsx(Sn,{scope:n,forceMount:t,children:o.jsx(se,{present:t||c.open,children:o.jsx(zt,{asChild:!0,container:a,children:r})})})};Xe.displayName=Me;var T="MenuContent",[yn,Ce]=K(T),We=s.forwardRef((e,n)=>{const t=ze(T,e.__scopeMenu),{forceMount:r=t.forceMount,...a}=e,c=B(T,e.__scopeMenu),l=ne(T,e.__scopeMenu);return o.jsx(J.Provider,{scope:e.__scopeMenu,children:o.jsx(se,{present:r||c.open,children:o.jsx(J.Slot,{scope:e.__scopeMenu,children:l.modal?o.jsx(Pn,{...a,ref:n}):o.jsx(jn,{...a,ref:n})})})})}),Pn=s.forwardRef((e,n)=>{const t=B(T,e.__scopeMenu),r=s.useRef(null),a=z(n,r);return s.useEffect(()=>{const c=r.current;if(c)return Xt(c)},[]),o.jsx(_e,{...e,ref:a,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:h(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),jn=s.forwardRef((e,n)=>{const t=B(T,e.__scopeMenu);return o.jsx(_e,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Tn=Vt("MenuContent.ScrollLock"),_e=s.forwardRef((e,n)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:v,onDismiss:C,disableOutsideScroll:w,...S}=e,x=B(T,t),b=ne(T,t),D=ie(t),M=He(t),E=bn(t),[P,U]=s.useState(null),_=s.useRef(null),g=z(n,_,x.onContentChange),R=s.useRef(0),I=s.useRef(""),N=s.useRef(0),A=s.useRef(null),O=s.useRef("right"),G=s.useRef(0),X=w?Zt:s.Fragment,k=w?{as:Tn,allowPinchZoom:!0}:void 0,Rt=f=>{const H=I.current+f,$=E().filter(j=>!j.disabled),W=document.activeElement,le=$.find(j=>j.ref.current===W)?.textValue,pe=$.map(j=>j.textValue),Re=Vn(pe,H,le),Z=$.find(j=>j.textValue===Re)?.ref.current;(function j(Ie){I.current=Ie,window.clearTimeout(R.current),Ie!==""&&(R.current=window.setTimeout(()=>j(""),1e3))})(H),Z&&setTimeout(()=>Z.focus())};s.useEffect(()=>()=>window.clearTimeout(R.current),[]),Wt();const V=s.useCallback(f=>O.current===A.current?.side&&Yn(f,A.current?.area),[]);return o.jsx(yn,{scope:t,searchRef:I,onItemEnter:s.useCallback(f=>{V(f)&&f.preventDefault()},[V]),onItemLeave:s.useCallback(f=>{V(f)||(_.current?.focus(),U(null))},[V]),onTriggerLeave:s.useCallback(f=>{V(f)&&f.preventDefault()},[V]),pointerGraceTimerRef:N,onPointerGraceIntentChange:s.useCallback(f=>{A.current=f},[]),children:o.jsx(X,{...k,children:o.jsx(qt,{asChild:!0,trapped:a,onMountAutoFocus:h(c,f=>{f.preventDefault(),_.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:o.jsx(Jt,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:p,onPointerDownOutside:u,onFocusOutside:i,onInteractOutside:v,onDismiss:C,children:o.jsx(hn,{asChild:!0,...M,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:U,onEntryFocus:h(m,f=>{b.isUsingKeyboardRef.current||f.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Qt,{role:"menu","aria-orientation":"vertical","data-state":lt(x.open),"data-radix-menu-content":"",dir:b.dir,...D,...S,ref:g,style:{outline:"none",...S.style},onKeyDown:h(S.onKeyDown,f=>{const $=f.target.closest("[data-radix-menu-content]")===f.currentTarget,W=f.ctrlKey||f.altKey||f.metaKey,le=f.key.length===1;$&&(f.key==="Tab"&&f.preventDefault(),!W&&le&&Rt(f.key));const pe=_.current;if(f.target!==pe||!Mn.includes(f.key))return;f.preventDefault();const Z=E().filter(j=>!j.disabled).map(j=>j.ref.current);Be.includes(f.key)&&Z.reverse(),Kn(Z)}),onBlur:h(e.onBlur,f=>{f.currentTarget.contains(f.target)||(window.clearTimeout(R.current),I.current="")}),onPointerMove:h(e.onPointerMove,Q(f=>{const H=f.target,$=G.current!==f.clientX;if(f.currentTarget.contains(H)&&$){const W=f.clientX>G.current?"right":"left";O.current=W,G.current=f.clientX}}))})})})})})})});We.displayName=T;var Nn="MenuGroup",be=s.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return o.jsx(L.div,{role:"group",...r,ref:n})});be.displayName=Nn;var An="MenuLabel",Ze=s.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return o.jsx(L.div,{...r,ref:n})});Ze.displayName=An;var re="MenuItem",Se="menu.itemSelect",ue=s.forwardRef((e,n)=>{const{disabled:t=!1,onSelect:r,...a}=e,c=s.useRef(null),l=ne(re,e.__scopeMenu),d=Ce(re,e.__scopeMenu),m=z(n,c),p=s.useRef(!1),u=()=>{const i=c.current;if(!t&&i){const v=new CustomEvent(Se,{bubbles:!0,cancelable:!0});i.addEventListener(Se,C=>r?.(C),{once:!0}),Bt(i,v),v.defaultPrevented?p.current=!1:l.onClose()}};return o.jsx(qe,{...a,ref:m,disabled:t,onClick:h(e.onClick,u),onPointerDown:i=>{e.onPointerDown?.(i),p.current=!0},onPointerUp:h(e.onPointerUp,i=>{p.current||i.currentTarget?.click()}),onKeyDown:h(e.onKeyDown,i=>{const v=d.searchRef.current!=="";t||v&&i.key===" "||ge.includes(i.key)&&(i.currentTarget.click(),i.preventDefault())})})});ue.displayName=re;var qe=s.forwardRef((e,n)=>{const{__scopeMenu:t,disabled:r=!1,textValue:a,...c}=e,l=Ce(re,t),d=He(t),m=s.useRef(null),p=z(n,m),[u,i]=s.useState(!1),[v,C]=s.useState("");return s.useEffect(()=>{const w=m.current;w&&C((w.textContent??"").trim())},[c.children]),o.jsx(J.ItemSlot,{scope:t,disabled:r,textValue:a??v,children:o.jsx(wn,{asChild:!0,...d,focusable:!r,children:o.jsx(L.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:p,onPointerMove:h(e.onPointerMove,Q(w=>{r?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:h(e.onPointerLeave,Q(w=>l.onItemLeave(w))),onFocus:h(e.onFocus,()=>i(!0)),onBlur:h(e.onBlur,()=>i(!1))})})})}),On="MenuCheckboxItem",Je=s.forwardRef((e,n)=>{const{checked:t=!1,onCheckedChange:r,...a}=e;return o.jsx(ot,{scope:e.__scopeMenu,checked:t,children:o.jsx(ue,{role:"menuitemcheckbox","aria-checked":ae(t)?"mixed":t,...a,ref:n,"data-state":De(t),onSelect:h(a.onSelect,()=>r?.(ae(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Je.displayName=On;var Qe="MenuRadioGroup",[kn,Fn]=K(Qe,{value:void 0,onValueChange:()=>{}}),et=s.forwardRef((e,n)=>{const{value:t,onValueChange:r,...a}=e,c=we(r);return o.jsx(kn,{scope:e.__scopeMenu,value:t,onValueChange:c,children:o.jsx(be,{...a,ref:n})})});et.displayName=Qe;var tt="MenuRadioItem",nt=s.forwardRef((e,n)=>{const{value:t,...r}=e,a=Fn(tt,e.__scopeMenu),c=t===a.value;return o.jsx(ot,{scope:e.__scopeMenu,checked:c,children:o.jsx(ue,{role:"menuitemradio","aria-checked":c,...r,ref:n,"data-state":De(c),onSelect:h(r.onSelect,()=>a.onValueChange?.(t),{checkForDefaultPrevented:!1})})})});nt.displayName=tt;var Ee="MenuItemIndicator",[ot,Ln]=K(Ee,{checked:!1}),rt=s.forwardRef((e,n)=>{const{__scopeMenu:t,forceMount:r,...a}=e,c=Ln(Ee,t);return o.jsx(se,{present:r||ae(c.checked)||c.checked===!0,children:o.jsx(L.span,{...a,ref:n,"data-state":De(c.checked)})})});rt.displayName=Ee;var Un="MenuSeparator",at=s.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e;return o.jsx(L.div,{role:"separator","aria-orientation":"horizontal",...r,ref:n})});at.displayName=Un;var Gn="MenuArrow",st=s.forwardRef((e,n)=>{const{__scopeMenu:t,...r}=e,a=ie(t);return o.jsx(en,{...a,...r,ref:n})});st.displayName=Gn;var $n="MenuSub",[Ur,ct]=K($n),q="MenuSubTrigger",it=s.forwardRef((e,n)=>{const t=B(q,e.__scopeMenu),r=ne(q,e.__scopeMenu),a=ct(q,e.__scopeMenu),c=Ce(q,e.__scopeMenu),l=s.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=c,p={__scopeMenu:e.__scopeMenu},u=s.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return s.useEffect(()=>u,[u]),s.useEffect(()=>{const i=d.current;return()=>{window.clearTimeout(i),m(null)}},[d,m]),o.jsx(xe,{asChild:!0,...p,children:o.jsx(qe,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":a.contentId,"data-state":lt(t.open),...e,ref:Ne(n,a.onTriggerChange),onClick:i=>{e.onClick?.(i),!(e.disabled||i.defaultPrevented)&&(i.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:h(e.onPointerMove,Q(i=>{c.onItemEnter(i),!i.defaultPrevented&&!e.disabled&&!t.open&&!l.current&&(c.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:h(e.onPointerLeave,Q(i=>{u();const v=t.content?.getBoundingClientRect();if(v){const C=t.content?.dataset.side,w=C==="right",S=w?-5:5,x=v[w?"left":"right"],b=v[w?"right":"left"];c.onPointerGraceIntentChange({area:[{x:i.clientX+S,y:i.clientY},{x,y:v.top},{x:b,y:v.top},{x:b,y:v.bottom},{x,y:v.bottom}],side:C}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(i),i.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:h(e.onKeyDown,i=>{const v=c.searchRef.current!=="";e.disabled||v&&i.key===" "||Cn[r.dir].includes(i.key)&&(t.onOpenChange(!0),t.content?.focus(),i.preventDefault())})})})});it.displayName=q;var ut="MenuSubContent",dt=s.forwardRef((e,n)=>{const t=ze(T,e.__scopeMenu),{forceMount:r=t.forceMount,...a}=e,c=B(T,e.__scopeMenu),l=ne(T,e.__scopeMenu),d=ct(ut,e.__scopeMenu),m=s.useRef(null),p=z(n,m);return o.jsx(J.Provider,{scope:e.__scopeMenu,children:o.jsx(se,{present:r||c.open,children:o.jsx(J.Slot,{scope:e.__scopeMenu,children:o.jsx(_e,{id:d.contentId,"aria-labelledby":d.triggerId,...a,ref:p,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{l.isUsingKeyboardRef.current&&m.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:h(e.onFocusOutside,u=>{u.target!==d.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:h(e.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:h(e.onKeyDown,u=>{const i=u.currentTarget.contains(u.target),v=_n[l.dir].includes(u.key);i&&v&&(c.onOpenChange(!1),d.trigger?.focus(),u.preventDefault())})})})})})});dt.displayName=ut;function lt(e){return e?"open":"closed"}function ae(e){return e==="indeterminate"}function De(e){return ae(e)?"indeterminate":e?"checked":"unchecked"}function Kn(e){const n=document.activeElement;for(const t of e)if(t===n||(t.focus(),document.activeElement!==n))return}function Bn(e,n){return e.map((t,r)=>e[(n+r)%e.length])}function Vn(e,n,t){const a=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,c=t?e.indexOf(t):-1;let l=Bn(e,Math.max(c,0));a.length===1&&(l=l.filter(p=>p!==t));const m=l.find(p=>p.toLowerCase().startsWith(a.toLowerCase()));return m!==t?m:void 0}function Hn(e,n){const{x:t,y:r}=e;let a=!1;for(let c=0,l=n.length-1;c<n.length;l=c++){const d=n[c],m=n[l],p=d.x,u=d.y,i=m.x,v=m.y;u>r!=v>r&&t<(i-p)*(r-u)/(v-u)+p&&(a=!a)}return a}function Yn(e,n){if(!n)return!1;const t={x:e.clientX,y:e.clientY};return Hn(t,n)}function Q(e){return n=>n.pointerType==="mouse"?e(n):void 0}var zn=Ye,Xn=xe,Wn=Xe,Zn=We,qn=be,Jn=Ze,Qn=ue,eo=Je,to=et,no=nt,oo=rt,ro=at,ao=st,so=it,co=dt,de="DropdownMenu",[io]=he(de,[Ve]),y=Ve(),[uo,pt]=io(de),ft=e=>{const{__scopeDropdownMenu:n,children:t,dir:r,open:a,defaultOpen:c,onOpenChange:l,modal:d=!0}=e,m=y(n),p=s.useRef(null),[u,i]=Te({prop:a,defaultProp:c??!1,onChange:l,caller:de});return o.jsx(uo,{scope:n,triggerId:me(),triggerRef:p,contentId:me(),open:u,onOpenChange:i,onOpenToggle:s.useCallback(()=>i(v=>!v),[i]),modal:d,children:o.jsx(zn,{...m,open:u,onOpenChange:i,dir:r,modal:d,children:t})})};ft.displayName=de;var mt="DropdownMenuTrigger",vt=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...a}=e,c=pt(mt,t),l=y(t);return o.jsx(Xn,{asChild:!0,...l,children:o.jsx(L.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ne(n,c.triggerRef),onPointerDown:h(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(c.onOpenToggle(),c.open||d.preventDefault())}),onKeyDown:h(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&c.onOpenToggle(),d.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});vt.displayName=mt;var lo="DropdownMenuPortal",gt=e=>{const{__scopeDropdownMenu:n,...t}=e,r=y(n);return o.jsx(Wn,{...r,...t})};gt.displayName=lo;var ht="DropdownMenuContent",wt=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=pt(ht,t),c=y(t),l=s.useRef(!1);return o.jsx(Zn,{id:a.contentId,"aria-labelledby":a.triggerId,...c,...r,ref:n,onCloseAutoFocus:h(e.onCloseAutoFocus,d=>{l.current||a.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:h(e.onInteractOutside,d=>{const m=d.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,u=m.button===2||p;(!a.modal||u)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wt.displayName=ht;var po="DropdownMenuGroup",fo=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(qn,{...a,...r,ref:n})});fo.displayName=po;var mo="DropdownMenuLabel",xt=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(Jn,{...a,...r,ref:n})});xt.displayName=mo;var vo="DropdownMenuItem",Mt=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(Qn,{...a,...r,ref:n})});Mt.displayName=vo;var go="DropdownMenuCheckboxItem",ho=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(eo,{...a,...r,ref:n})});ho.displayName=go;var wo="DropdownMenuRadioGroup",Ct=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(to,{...a,...r,ref:n})});Ct.displayName=wo;var xo="DropdownMenuRadioItem",_t=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(no,{...a,...r,ref:n})});_t.displayName=xo;var Mo="DropdownMenuItemIndicator",bt=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(oo,{...a,...r,ref:n})});bt.displayName=Mo;var Co="DropdownMenuSeparator",Et=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(ro,{...a,...r,ref:n})});Et.displayName=Co;var _o="DropdownMenuArrow",bo=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(ao,{...a,...r,ref:n})});bo.displayName=_o;var Eo="DropdownMenuSubTrigger",Do=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(so,{...a,...r,ref:n})});Do.displayName=Eo;var Ro="DropdownMenuSubContent",Io=s.forwardRef((e,n)=>{const{__scopeDropdownMenu:t,...r}=e,a=y(t);return o.jsx(co,{...a,...r,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Io.displayName=Ro;var So=ft,yo=vt,Po=gt,jo=wt,To=xt,No=Mt,Ao=Ct,Oo=_t,ko=bt,Fo=Et;const Lo=({className:e,balance:n=0})=>o.jsx(Tt,{content:o.jsx("div",{className:"text-sm",children:"View your balance, withdraw funds, and more."}),children:o.jsxs("div",{className:`flex items-center gap-2 ${e||""}`,children:[o.jsx(jt,{uri:"/user/balance",className:"hover:bg-teal-300 bg-blue-200 dark:bg-blue-400 rounded-full h-6 w-6 flex items-center justify-center",children:Pt({iconType:"wallet",width:"w-4",height:"h-4",className:"text-blue-700 dark:text-blue-900"})}),o.jsx(yt,{value:n,locales:"en-US",format:{style:"currency",currency:"USD",maximumFractionDigits:2},className:"text-sm text-gray-700 dark:text-gray-300"})]})}),ye={USER_UPDATE:"user-update"},[Uo,Go]=je("DropdownMenuContext");je("DropdownMenuSubContext");function $o(e){const[n,t]=Kt({value:e?.open,defaultValue:e?.defaultOpen,onChange:e?.onOpenChange});return o.jsx(Uo,{value:{isOpen:n,setIsOpen:t},children:o.jsx(So,{"data-slot":"dropdown-menu",...e,onOpenChange:t})})}function Ko(e){return o.jsx(yo,{"data-slot":"dropdown-menu-trigger",...e})}function Bo(e){return o.jsx(Po,{"data-slot":"dropdown-menu-portal",...e})}function Vo(e){return o.jsx(Ao,{"data-slot":"dropdown-menu-radio-group",...e})}function Ho({transition:e={type:"spring",stiffness:350,damping:35},animateOnHover:n=!0,...t}){return o.jsx(Gt,{hover:!0,controlledItems:!0,enabled:n,transition:e,...t})}function Yo({loop:e,onCloseAutoFocus:n,onEscapeKeyDown:t,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:c,side:l,sideOffset:d,align:m,alignOffset:p,avoidCollisions:u,collisionBoundary:i,collisionPadding:v,arrowPadding:C,sticky:w,hideWhenDetached:S,transition:x={duration:.2},style:b,container:D,...M}){const{isOpen:E}=Go();return o.jsx(tn,{children:E&&o.jsx(Bo,{forceMount:!0,container:D,children:o.jsx(jo,{asChild:!0,loop:e,onCloseAutoFocus:n,onEscapeKeyDown:t,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:c,side:l,sideOffset:d,align:m,alignOffset:p,avoidCollisions:u,collisionBoundary:i,collisionPadding:v,arrowPadding:C,sticky:w,hideWhenDetached:S,children:o.jsx(ce.div,{"data-slot":"dropdown-menu-content",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95,transition:{...x,delay:.3}},transition:x,style:{willChange:"opacity, transform",...b},...M},"dropdown-menu-content")})})})}function Dt(e){return o.jsx($t,{"data-slot":"dropdown-menu-highlight-item",...e})}function zo({disabled:e,onSelect:n,textValue:t,...r}){return o.jsx(No,{disabled:e,onSelect:n,textValue:t,asChild:!0,children:o.jsx(ce.div,{"data-slot":"dropdown-menu-item","data-disabled":e,...r})})}function Xo({value:e,disabled:n,onSelect:t,textValue:r,...a}){return o.jsx(Oo,{value:e,disabled:n,onSelect:t,textValue:r,asChild:!0,children:o.jsx(ce.div,{"data-slot":"dropdown-menu-radio-item","data-disabled":n,...a})})}function Wo(e){return o.jsx(To,{"data-slot":"dropdown-menu-label",...e})}function Zo(e){return o.jsx(Fo,{"data-slot":"dropdown-menu-separator",...e})}function qo(e){return o.jsx(ko,{"data-slot":"dropdown-menu-item-indicator",asChild:!0,children:o.jsx(ce.div,{...e})})}function Jo(e){return o.jsx($o,{...e})}function Qo(e){return o.jsx(Ko,{...e})}function er({sideOffset:e=4,className:n,children:t,...r}){return o.jsx(Yo,{sideOffset:e,className:F("bg-popover text-popover-foreground z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...r,children:o.jsx(Ho,{className:"absolute inset-0 bg-accent z-0 rounded-sm",children:t})})}function tr({className:e,inset:n,variant:t="default",disabled:r,...a}){return o.jsx(Dt,{disabled:r,children:o.jsx(zo,{disabled:r,"data-inset":n,"data-variant":t,className:F("focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})})}function nr(e){return o.jsx(Vo,{...e})}function or({className:e,children:n,disabled:t,...r}){return o.jsx(Dt,{disabled:t,children:o.jsxs(Xo,{disabled:t,className:F("focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[o.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:o.jsx(qo,{layoutId:"dropdown-menu-item-indicator-radio",children:o.jsx(an,{className:"size-2 fill-current"})})}),n]})})}function rr({className:e,inset:n,...t}){return o.jsx(Wo,{"data-inset":n,className:F("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...t})}function Pe({className:e,...n}){return o.jsx(Zo,{className:F("bg-border -mx-1 my-1 h-px",e),...n})}const Gr=({className:e})=>{const[n,t]=s.useState(!1),{showDialog:r,demoUsers:a,setShowDialog:c,handleSuccess:l}=Nt(),d=oe(),[m,p]=s.useState(d.users&&d.role&&(d.users.find(D=>D.role===d.role)||d.users[0])||null),[u,i]=s.useState(d.users),[v,C]=s.useState(d.role);s.useEffect(()=>{(()=>{const _=oe();if(i(_.users),C(_.role),_.users&&_.role){const g=_.users.find(R=>R.role===_.role)||_.users[0]||null;p(g)}else p(null)})();const M=_=>{const g=_;if(g.detail.users&&g.detail.role){i(g.detail.users),C(g.detail.role);const R=g.detail.users.find(I=>I.role===g.detail.role);R&&p(R),l(g.detail.users,g.detail.email)}},E=()=>{p(null),i(null),C(null),c(!1)},P=_=>{const g=_,R=oe();if(R.users&&g.detail.role){C(g.detail.role);const I=R.users.find(N=>N.role===g.detail.role);I&&p(I)}},U=async _=>{const R=_.detail.user,I=oe();if(I.users&&R._id){const N=I.users.findIndex(A=>A._id===R._id);if(N>=0){const A=await Ut(R._id);if(A){const O=[...I.users];if(O[N]=A,Ot(O),i(O),I.role===O[N].role)p(A);else{const G=O.find(X=>X.role===I.role);G&&p(G)}}}}};return window.addEventListener(Y.USER_CREATED,M),window.addEventListener(Y.USER_DELETED,E),window.addEventListener(Y.ROLE_CHANGED,P),window.addEventListener(ye.USER_UPDATE,U),()=>{window.removeEventListener(Y.USER_CREATED,M),window.removeEventListener(Y.USER_DELETED,E),window.removeEventListener(Y.ROLE_CHANGED,P),window.removeEventListener(ye.USER_UPDATE,U)}},[]);const w=async()=>{const D=prompt("Please enter your email address to start the demo:");if(!D||!D.trim())return;const M=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,E=D.trim();if(!M.test(E)){alert("Please enter a valid email address");return}t(!0);try{const P=await Lt(E);P.success||alert(P.error||"Failed to start demo")}catch(P){alert(P.message||"An error occurred. Please try again.")}finally{t(!1)}},S=D=>{const M=D;M!==v&&kt(M)},x=()=>{Ft()},b=o.jsx(At,{isOpen:r,users:a,onClose:()=>c(!1)});if(m&&u){const D={maintainer:"Maintainer",user:"User",contributor:"Contributor"};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:F("flex items-center gap-2",e),children:[o.jsxs(Jo,{children:[o.jsx(Qo,{asChild:!0,children:o.jsxs("button",{type:"button",className:F("flex items-center gap-1.5 px-2 py-1","border border-slate-300/20 dark:border-slate-600/20","bg-transparent","transition-all duration-200 ease-in-out","hover:border-slate-400/50 dark:hover:border-slate-500/50","hover:bg-slate-100/40 dark:hover:bg-slate-800/40","focus:outline-none focus:ring-2 focus:ring-slate-400/40 dark:focus:ring-slate-500/40","cursor-pointer rounded-md","text-sm text-slate-600 dark:text-slate-400","data-[state=open]:border-slate-400/60 dark:data-[state=open]:border-slate-500/60","data-[state=open]:bg-slate-100/50 dark:data-[state=open]:bg-slate-800/50"),"aria-label":"Switch role",children:[o.jsx("span",{children:"Switch Demo User"}),o.jsx(on,{className:"w-4 h-4"})]})}),o.jsxs(er,{align:"end",className:F("bg-white/90 dark:bg-slate-900/90","backdrop-blur-sm","border border-slate-200/50 dark:border-slate-700/50","shadow-lg"),children:[o.jsx(rr,{children:"Switch Demo Users"}),o.jsx(Pe,{}),o.jsx(nr,{value:v||"maintainer",onValueChange:S,children:u.map(M=>o.jsx(or,{value:M.role||"maintainer",className:"cursor-pointer",children:D[M.role||"maintainer"]},M.role))}),o.jsx(Pe,{}),o.jsx(tr,{onClick:x,variant:"destructive",className:"cursor-pointer",children:"Logout"})]})]}),o.jsx(It,{user:m},`${m.role}-${m.nickname}`),o.jsx(Lo,{balance:m.balance})]}),b]})}return o.jsxs(o.Fragment,{children:[o.jsx(St,{variant:"primary",size:"sm",onClick:w,className:e,disabled:n,children:n?"Starting...":"Start Demo"}),b]})};export{Gr as default};
